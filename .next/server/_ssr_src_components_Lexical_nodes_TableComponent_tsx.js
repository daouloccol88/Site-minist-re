"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_components_Lexical_nodes_TableComponent_tsx";
exports.ids = ["_ssr_src_components_Lexical_nodes_TableComponent_tsx"];
exports.modules = {

/***/ "(ssr)/./src/components/Lexical/nodes/TableComponent.tsx":
/*!*********************************************************!*\
  !*** ./src/components/Lexical/nodes/TableComponent.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TableComponent)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lexical_clipboard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lexical/clipboard */ \"(ssr)/./node_modules/@lexical/clipboard/LexicalClipboard.js\");\n/* harmony import */ var _lexical_clipboard__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_lexical_clipboard__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lexical_html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lexical/html */ \"(ssr)/./node_modules/@lexical/html/LexicalHtml.js\");\n/* harmony import */ var _lexical_html__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lexical_html__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lexical/react/LexicalComposerContext */ \"(ssr)/./node_modules/@lexical/react/LexicalComposerContext.js\");\n/* harmony import */ var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lexical_react_LexicalNestedComposer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lexical/react/LexicalNestedComposer */ \"(ssr)/./node_modules/@lexical/react/LexicalNestedComposer.js\");\n/* harmony import */ var _lexical_react_LexicalNestedComposer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalNestedComposer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lexical/react/useLexicalNodeSelection */ \"(ssr)/./node_modules/@lexical/react/useLexicalNodeSelection.js\");\n/* harmony import */ var _lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _lexical_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lexical/utils */ \"(ssr)/./node_modules/@lexical/utils/LexicalUtils.js\");\n/* harmony import */ var _lexical_utils__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_lexical_utils__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var lexical__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lexical */ \"(ssr)/./node_modules/lexical/Lexical.js\");\n/* harmony import */ var lexical__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lexical__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _shared_environment__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../shared/environment */ \"(ssr)/./src/components/Lexical/shared/environment.ts\");\n/* harmony import */ var _plugins_TablePlugin__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../plugins/TablePlugin */ \"(ssr)/./src/components/Lexical/plugins/TablePlugin.tsx\");\n/* harmony import */ var _TableNode__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./TableNode */ \"(ssr)/./src/components/Lexical/nodes/TableNode.tsx\");\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */ \n\n\n\n\n\n\n\n\n\n\n\n\n\nconst NO_CELLS = [];\nfunction $createSelectAll() {\n    const sel = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$createRangeSelection)();\n    sel.focus.set(\"root\", (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getRoot)().getChildrenSize(), \"element\");\n    return sel;\n}\nfunction createEmptyParagraphHTML(theme) {\n    return `<p class=\"${theme.paragraph}\"><br></p>`;\n}\nfunction focusCell(tableElem, id) {\n    const cellElem = tableElem.querySelector(`[data-id=${id}]`);\n    if (cellElem == null) {\n        return;\n    }\n    cellElem.focus();\n}\nfunction isStartingResize(target) {\n    return target.nodeType === 1 && target.hasAttribute(\"data-table-resize\");\n}\nfunction generateHTMLFromJSON(editorStateJSON, cellEditor) {\n    const editorState = cellEditor.parseEditorState(editorStateJSON);\n    let html = _TableNode__WEBPACK_IMPORTED_MODULE_12__.cellHTMLCache.get(editorStateJSON);\n    if (html === undefined) {\n        html = editorState.read(()=>(0,_lexical_html__WEBPACK_IMPORTED_MODULE_2__.$generateHtmlFromNodes)(cellEditor, null));\n        const textContent = editorState.read(()=>(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getRoot)().getTextContent());\n        _TableNode__WEBPACK_IMPORTED_MODULE_12__.cellHTMLCache.set(editorStateJSON, html);\n        _TableNode__WEBPACK_IMPORTED_MODULE_12__.cellTextContentCache.set(editorStateJSON, textContent);\n    }\n    return html;\n}\nfunction getCurrentDocument(editor) {\n    const rootElement = editor.getRootElement();\n    return rootElement !== null ? rootElement.ownerDocument : document;\n}\nfunction isCopy(keyCode, shiftKey, metaKey, ctrlKey) {\n    if (shiftKey) {\n        return false;\n    }\n    if (keyCode === 67) {\n        return _shared_environment__WEBPACK_IMPORTED_MODULE_10__.IS_APPLE ? metaKey : ctrlKey;\n    }\n    return false;\n}\nfunction isCut(keyCode, shiftKey, metaKey, ctrlKey) {\n    if (shiftKey) {\n        return false;\n    }\n    if (keyCode === 88) {\n        return _shared_environment__WEBPACK_IMPORTED_MODULE_10__.IS_APPLE ? metaKey : ctrlKey;\n    }\n    return false;\n}\nfunction isPaste(keyCode, shiftKey, metaKey, ctrlKey) {\n    if (shiftKey) {\n        return false;\n    }\n    if (keyCode === 86) {\n        return _shared_environment__WEBPACK_IMPORTED_MODULE_10__.IS_APPLE ? metaKey : ctrlKey;\n    }\n    return false;\n}\nfunction getCellID(domElement) {\n    let node = domElement;\n    while(node !== null){\n        const possibleID = node.getAttribute(\"data-id\");\n        if (possibleID != null) {\n            return possibleID;\n        }\n        node = node.parentElement;\n    }\n    return null;\n}\nfunction getTableCellWidth(domElement) {\n    let node = domElement;\n    while(node !== null){\n        if (node.nodeName === \"TH\" || node.nodeName === \"TD\") {\n            return node.getBoundingClientRect().width;\n        }\n        node = node.parentElement;\n    }\n    return 0;\n}\nfunction $updateCells(rows, ids, cellCoordMap, cellEditor, updateTableNode, fn) {\n    for (const id of ids){\n        const cell = getCell(rows, id, cellCoordMap);\n        if (cell !== null && cellEditor !== null) {\n            const editorState = cellEditor.parseEditorState(cell.json);\n            cellEditor._headless = true;\n            cellEditor.setEditorState(editorState);\n            cellEditor.update(fn, {\n                discrete: true\n            });\n            cellEditor._headless = false;\n            const newJSON = JSON.stringify(cellEditor.getEditorState());\n            updateTableNode((tableNode)=>{\n                const [x, y] = cellCoordMap.get(id);\n                (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n                tableNode.updateCellJSON(x, y, newJSON);\n            });\n        }\n    }\n}\nfunction isTargetOnPossibleUIControl(target) {\n    let node = target;\n    while(node !== null){\n        const nodeName = node.nodeName;\n        if (nodeName === \"BUTTON\" || nodeName === \"INPUT\" || nodeName === \"TEXTAREA\") {\n            return true;\n        }\n        node = node.parentElement;\n    }\n    return false;\n}\nfunction getSelectedRect(startID, endID, cellCoordMap) {\n    const startCoords = cellCoordMap.get(startID);\n    const endCoords = cellCoordMap.get(endID);\n    if (startCoords === undefined || endCoords === undefined) {\n        return null;\n    }\n    const startX = Math.min(startCoords[0], endCoords[0]);\n    const endX = Math.max(startCoords[0], endCoords[0]);\n    const startY = Math.min(startCoords[1], endCoords[1]);\n    const endY = Math.max(startCoords[1], endCoords[1]);\n    return {\n        endX,\n        endY,\n        startX,\n        startY\n    };\n}\nfunction getSelectedIDs(rows, startID, endID, cellCoordMap) {\n    const rect = getSelectedRect(startID, endID, cellCoordMap);\n    if (rect === null) {\n        return [];\n    }\n    const { startX, endY, endX, startY } = rect;\n    const ids = [];\n    for(let x = startX; x <= endX; x++){\n        for(let y = startY; y <= endY; y++){\n            ids.push(rows[y].cells[x].id);\n        }\n    }\n    return ids;\n}\nfunction extractCellsFromRows(rows, rect) {\n    const { startX, endY, endX, startY } = rect;\n    const newRows = [];\n    for(let y = startY; y <= endY; y++){\n        const row = rows[y];\n        const newRow = (0,_TableNode__WEBPACK_IMPORTED_MODULE_12__.createRow)();\n        for(let x = startX; x <= endX; x++){\n            const cellClone = {\n                ...row.cells[x]\n            };\n            cellClone.id = (0,_TableNode__WEBPACK_IMPORTED_MODULE_12__.createUID)();\n            newRow.cells.push(cellClone);\n        }\n        newRows.push(newRow);\n    }\n    return newRows;\n}\nfunction TableCellEditor({ cellEditor }) {\n    const { cellEditorConfig, cellEditorPlugins } = (0,react__WEBPACK_IMPORTED_MODULE_8__.useContext)(_plugins_TablePlugin__WEBPACK_IMPORTED_MODULE_11__.CellContext);\n    if (cellEditorPlugins === null || cellEditorConfig === null) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_lexical_react_LexicalNestedComposer__WEBPACK_IMPORTED_MODULE_4__.LexicalNestedComposer, {\n        initialEditor: cellEditor,\n        initialTheme: cellEditorConfig.theme,\n        initialNodes: cellEditorConfig.nodes,\n        skipCollabChecks: true,\n        children: cellEditorPlugins\n    }, void 0, false, {\n        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n        lineNumber: 307,\n        columnNumber: 5\n    }, this);\n}\nfunction getCell(rows, cellID, cellCoordMap) {\n    const coords = cellCoordMap.get(cellID);\n    if (coords === undefined) {\n        return null;\n    }\n    const [x, y] = coords;\n    const row = rows[y];\n    return row.cells[x];\n}\nfunction TableActionMenu({ cell, rows, cellCoordMap, menuElem, updateCellsByID, onClose, updateTableNode, setSortingOptions, sortingOptions }) {\n    const dropDownRef = (0,react__WEBPACK_IMPORTED_MODULE_8__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(()=>{\n        const dropdownElem = dropDownRef.current;\n        if (dropdownElem !== null) {\n            const rect = menuElem.getBoundingClientRect();\n            dropdownElem.style.top = `${rect.y}px`;\n            dropdownElem.style.left = `${rect.x}px`;\n        }\n    }, [\n        menuElem\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            const dropdownElem = dropDownRef.current;\n            if (dropdownElem !== null && !dropdownElem.contains(event.target)) {\n                event.stopPropagation();\n            }\n        };\n        window.addEventListener(\"click\", handleClickOutside);\n        return ()=>window.removeEventListener(\"click\", handleClickOutside);\n    }, [\n        onClose\n    ]);\n    const coords = cellCoordMap.get(cell.id);\n    if (coords === undefined) {\n        return null;\n    }\n    const [x, y] = coords;\n    return(// eslint-disable-next-line jsx-a11y/no-static-element-interactions\n    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"dropdown\",\n        ref: dropDownRef,\n        onPointerMove: (e)=>{\n            e.stopPropagation();\n        },\n        onPointerDown: (e)=>{\n            e.stopPropagation();\n        },\n        onPointerUp: (e)=>{\n            e.stopPropagation();\n        },\n        onClick: (e)=>{\n            e.stopPropagation();\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"item\",\n                onClick: ()=>{\n                    updateTableNode((tableNode)=>{\n                        (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n                        tableNode.updateCellType(x, y, cell.type === \"normal\" ? \"header\" : \"normal\");\n                    });\n                    onClose();\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text\",\n                    children: cell.type === \"normal\" ? \"Make header\" : \"Remove header\"\n                }, void 0, false, {\n                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                    lineNumber: 417,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 403,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"item\",\n                onClick: ()=>{\n                    updateCellsByID([\n                        cell.id\n                    ], ()=>{\n                        const root = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getRoot)();\n                        root.clear();\n                        root.append((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$createParagraphNode)());\n                    });\n                    onClose();\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text\",\n                    children: \"Clear cell\"\n                }, void 0, false, {\n                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                    lineNumber: 432,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 421,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 434,\n                columnNumber: 7\n            }, this),\n            cell.type === \"header\" && y === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    sortingOptions !== null && sortingOptions.x === x && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"item\",\n                        onClick: ()=>{\n                            setSortingOptions(null);\n                            onClose();\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text\",\n                            children: \"Remove sorting\"\n                        }, void 0, false, {\n                            fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                            lineNumber: 445,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                        lineNumber: 438,\n                        columnNumber: 13\n                    }, this),\n                    (sortingOptions === null || sortingOptions.x !== x || sortingOptions.type === \"descending\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"item\",\n                        onClick: ()=>{\n                            setSortingOptions({\n                                type: \"ascending\",\n                                x\n                            });\n                            onClose();\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text\",\n                            children: \"Sort ascending\"\n                        }, void 0, false, {\n                            fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                            lineNumber: 458,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                        lineNumber: 451,\n                        columnNumber: 13\n                    }, this),\n                    (sortingOptions === null || sortingOptions.x !== x || sortingOptions.type === \"ascending\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: \"item\",\n                        onClick: ()=>{\n                            setSortingOptions({\n                                type: \"descending\",\n                                x\n                            });\n                            onClose();\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text\",\n                            children: \"Sort descending\"\n                        }, void 0, false, {\n                            fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                            lineNumber: 471,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                        lineNumber: 464,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                        lineNumber: 474,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"item\",\n                onClick: ()=>{\n                    updateTableNode((tableNode)=>{\n                        (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n                        tableNode.insertRowAt(y);\n                    });\n                    onClose();\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text\",\n                    children: \"Insert row above\"\n                }, void 0, false, {\n                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                    lineNumber: 487,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 477,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"item\",\n                onClick: ()=>{\n                    updateTableNode((tableNode)=>{\n                        (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n                        tableNode.insertRowAt(y + 1);\n                    });\n                    onClose();\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text\",\n                    children: \"Insert row below\"\n                }, void 0, false, {\n                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                    lineNumber: 499,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 489,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 501,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"item\",\n                onClick: ()=>{\n                    updateTableNode((tableNode)=>{\n                        (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n                        tableNode.insertColumnAt(x);\n                    });\n                    onClose();\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text\",\n                    children: \"Insert column left\"\n                }, void 0, false, {\n                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                    lineNumber: 512,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 502,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"item\",\n                onClick: ()=>{\n                    updateTableNode((tableNode)=>{\n                        (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n                        tableNode.insertColumnAt(x + 1);\n                    });\n                    onClose();\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text\",\n                    children: \"Insert column right\"\n                }, void 0, false, {\n                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                    lineNumber: 524,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 514,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"hr\", {}, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 526,\n                columnNumber: 7\n            }, this),\n            rows[0].cells.length !== 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"item\",\n                onClick: ()=>{\n                    updateTableNode((tableNode)=>{\n                        (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n                        tableNode.deleteColumnAt(x);\n                    });\n                    onClose();\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text\",\n                    children: \"Delete column\"\n                }, void 0, false, {\n                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                    lineNumber: 538,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 528,\n                columnNumber: 9\n            }, this),\n            rows.length !== 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"item\",\n                onClick: ()=>{\n                    updateTableNode((tableNode)=>{\n                        (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n                        tableNode.deleteRowAt(y);\n                    });\n                    onClose();\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text\",\n                    children: \"Delete row\"\n                }, void 0, false, {\n                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                    lineNumber: 552,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 542,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"item\",\n                onClick: ()=>{\n                    updateTableNode((tableNode)=>{\n                        (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n                        tableNode.selectNext();\n                        tableNode.remove();\n                    });\n                    onClose();\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text\",\n                    children: \"Delete table\"\n                }, void 0, false, {\n                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                    lineNumber: 566,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 555,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n        lineNumber: 387,\n        columnNumber: 5\n    }, this));\n}\nfunction TableCell({ cell, cellCoordMap, cellEditor, isEditing, isSelected, isPrimarySelected, theme, updateCellsByID, updateTableNode, rows, setSortingOptions, sortingOptions }) {\n    const [showMenu, setShowMenu] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(false);\n    const menuRootRef = (0,react__WEBPACK_IMPORTED_MODULE_8__.useRef)(null);\n    const isHeader = cell.type !== \"normal\";\n    const editorStateJSON = cell.json;\n    const CellComponent = isHeader ? \"th\" : \"td\";\n    const cellWidth = cell.width;\n    const menuElem = menuRootRef.current;\n    const coords = cellCoordMap.get(cell.id);\n    const isSorted = sortingOptions !== null && coords !== undefined && coords[0] === sortingOptions.x && coords[1] === 0;\n    (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(()=>{\n        if (isEditing || !isPrimarySelected) {\n            setShowMenu(false);\n        }\n    }, [\n        isEditing,\n        isPrimarySelected\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CellComponent, {\n        className: `${theme.tableCell} ${isHeader ? theme.tableCellHeader : \"\"} ${isSelected ? theme.tableCellSelected : \"\"}`,\n        \"data-id\": cell.id,\n        tabIndex: -1,\n        style: {\n            width: cellWidth !== null ? cellWidth : undefined\n        },\n        children: [\n            isPrimarySelected && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `${theme.tableCellPrimarySelected} ${isEditing ? theme.tableCellEditing : \"\"}`\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 629,\n                columnNumber: 9\n            }, this),\n            isPrimarySelected && isEditing ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TableCellEditor, {\n                cellEditor: cellEditor\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 636,\n                columnNumber: 9\n            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        dangerouslySetInnerHTML: {\n                            __html: editorStateJSON === \"\" ? createEmptyParagraphHTML(theme) : generateHTMLFromJSON(editorStateJSON, cellEditor)\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                        lineNumber: 639,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: theme.tableCellResizer,\n                        \"data-table-resize\": \"true\"\n                    }, void 0, false, {\n                        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                        lineNumber: 647,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true),\n            isPrimarySelected && !isEditing && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: theme.tableCellActionButtonContainer,\n                ref: menuRootRef,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    className: theme.tableCellActionButton,\n                    onClick: (e)=>{\n                        setShowMenu(!showMenu);\n                        e.stopPropagation();\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                        className: \"chevron-down\"\n                    }, void 0, false, {\n                        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                        lineNumber: 659,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                    lineNumber: 652,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 651,\n                columnNumber: 9\n            }, this),\n            showMenu && menuElem !== null && /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_9__.createPortal)(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TableActionMenu, {\n                cell: cell,\n                menuElem: menuElem,\n                updateCellsByID: updateCellsByID,\n                onClose: ()=>setShowMenu(false),\n                updateTableNode: updateTableNode,\n                cellCoordMap: cellCoordMap,\n                rows: rows,\n                setSortingOptions: setSortingOptions,\n                sortingOptions: sortingOptions\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 666,\n                columnNumber: 11\n            }, this), document.body),\n            isSorted && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: theme.tableCellSortedIndicator\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 679,\n                columnNumber: 20\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n        lineNumber: 620,\n        columnNumber: 5\n    }, this);\n}\nfunction TableComponent({ nodeKey, rows: rawRows, theme }) {\n    const [isSelected, setSelected, clearSelection] = (0,_lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_5__.useLexicalNodeSelection)(nodeKey);\n    const resizeMeasureRef = (0,react__WEBPACK_IMPORTED_MODULE_8__.useRef)({\n        point: 0,\n        size: 0\n    });\n    const [sortingOptions, setSortingOptions] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(null);\n    const addRowsRef = (0,react__WEBPACK_IMPORTED_MODULE_8__.useRef)(null);\n    const lastCellIDRef = (0,react__WEBPACK_IMPORTED_MODULE_8__.useRef)(null);\n    const tableResizerRulerRef = (0,react__WEBPACK_IMPORTED_MODULE_8__.useRef)(null);\n    const { cellEditorConfig } = (0,react__WEBPACK_IMPORTED_MODULE_8__.useContext)(_plugins_TablePlugin__WEBPACK_IMPORTED_MODULE_11__.CellContext);\n    const [isEditing, setIsEditing] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(false);\n    const [showAddColumns, setShowAddColumns] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(false);\n    const [showAddRows, setShowAddRows] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(false);\n    const [editor] = (0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__.useLexicalComposerContext)();\n    const mouseDownRef = (0,react__WEBPACK_IMPORTED_MODULE_8__.useRef)(false);\n    const [resizingID, setResizingID] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(null);\n    const tableRef = (0,react__WEBPACK_IMPORTED_MODULE_8__.useRef)(null);\n    const cellCoordMap = (0,react__WEBPACK_IMPORTED_MODULE_8__.useMemo)(()=>{\n        const map = new Map();\n        for(let y = 0; y < rawRows.length; y++){\n            const row = rawRows[y];\n            const cells = row.cells;\n            for(let x = 0; x < cells.length; x++){\n                const cell = cells[x];\n                map.set(cell.id, [\n                    x,\n                    y\n                ]);\n            }\n        }\n        return map;\n    }, [\n        rawRows\n    ]);\n    const rows = (0,react__WEBPACK_IMPORTED_MODULE_8__.useMemo)(()=>{\n        if (sortingOptions === null) {\n            return rawRows;\n        }\n        const _rows = rawRows.slice(1);\n        _rows.sort((a, b)=>{\n            const aCells = a.cells;\n            const bCells = b.cells;\n            const x = sortingOptions.x;\n            const aContent = _TableNode__WEBPACK_IMPORTED_MODULE_12__.cellTextContentCache.get(aCells[x].json) || \"\";\n            const bContent = _TableNode__WEBPACK_IMPORTED_MODULE_12__.cellTextContentCache.get(bCells[x].json) || \"\";\n            if (aContent === \"\" || bContent === \"\") {\n                return 1;\n            }\n            if (sortingOptions.type === \"ascending\") {\n                return aContent.localeCompare(bContent);\n            }\n            return bContent.localeCompare(aContent);\n        });\n        _rows.unshift(rawRows[0]);\n        return _rows;\n    }, [\n        rawRows,\n        sortingOptions\n    ]);\n    const [primarySelectedCellID, setPrimarySelectedCellID] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)(null);\n    const cellEditor = (0,react__WEBPACK_IMPORTED_MODULE_8__.useMemo)(()=>{\n        if (cellEditorConfig === null) {\n            return null;\n        }\n        const _cellEditor = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.createEditor)({\n            namespace: cellEditorConfig.namespace,\n            nodes: cellEditorConfig.nodes,\n            onError: (error)=>cellEditorConfig.onError(error, _cellEditor),\n            theme: cellEditorConfig.theme\n        });\n        return _cellEditor;\n    }, [\n        cellEditorConfig\n    ]);\n    const [selectedCellIDs, setSelectedCellIDs] = (0,react__WEBPACK_IMPORTED_MODULE_8__.useState)([]);\n    const selectedCellSet = (0,react__WEBPACK_IMPORTED_MODULE_8__.useMemo)(()=>new Set(selectedCellIDs), [\n        selectedCellIDs\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(()=>{\n        const tableElem = tableRef.current;\n        if (isSelected && document.activeElement === document.body && tableElem !== null) {\n            tableElem.focus();\n        }\n    }, [\n        isSelected\n    ]);\n    const updateTableNode = (0,react__WEBPACK_IMPORTED_MODULE_8__.useCallback)((fn)=>{\n        editor.update(()=>{\n            const tableNode = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getNodeByKey)(nodeKey);\n            if ((0,_TableNode__WEBPACK_IMPORTED_MODULE_12__.$isTableNode)(tableNode)) {\n                fn(tableNode);\n            }\n        });\n    }, [\n        editor,\n        nodeKey\n    ]);\n    const addColumns = ()=>{\n        updateTableNode((tableNode)=>{\n            (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n            tableNode.addColumns(1);\n        });\n    };\n    const addRows = ()=>{\n        updateTableNode((tableNode)=>{\n            (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n            tableNode.addRows(1);\n        });\n    };\n    const modifySelectedCells = (0,react__WEBPACK_IMPORTED_MODULE_8__.useCallback)((x, y, extend)=>{\n        const id = rows[y].cells[x].id;\n        lastCellIDRef.current = id;\n        if (extend) {\n            const selectedIDs = getSelectedIDs(rows, primarySelectedCellID, id, cellCoordMap);\n            setSelectedCellIDs(selectedIDs);\n        } else {\n            setPrimarySelectedCellID(id);\n            setSelectedCellIDs(NO_CELLS);\n            focusCell(tableRef.current, id);\n        }\n    }, [\n        cellCoordMap,\n        primarySelectedCellID,\n        rows\n    ]);\n    const saveEditorToJSON = (0,react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(()=>{\n        if (cellEditor !== null && primarySelectedCellID !== null) {\n            const json = JSON.stringify(cellEditor.getEditorState());\n            updateTableNode((tableNode)=>{\n                const coords = cellCoordMap.get(primarySelectedCellID);\n                if (coords === undefined) {\n                    return;\n                }\n                (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n                const [x, y] = coords;\n                tableNode.updateCellJSON(x, y, json);\n            });\n        }\n    }, [\n        cellCoordMap,\n        cellEditor,\n        primarySelectedCellID,\n        updateTableNode\n    ]);\n    const selectTable = (0,react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(()=>{\n        setTimeout(()=>{\n            const parentRootElement = editor.getRootElement();\n            if (parentRootElement !== null) {\n                parentRootElement.focus({\n                    preventScroll: true\n                });\n                window.getSelection()?.removeAllRanges();\n            }\n        }, 20);\n    }, [\n        editor\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(()=>{\n        const tableElem = tableRef.current;\n        if (tableElem === null) {\n            return;\n        }\n        const doc = getCurrentDocument(editor);\n        const isAtEdgeOfTable = (event)=>{\n            const x = event.clientX - tableRect.x;\n            const y = event.clientY - tableRect.y;\n            return x < 5 || y < 5;\n        };\n        const handlePointerDown = (event)=>{\n            const possibleID = getCellID(event.target);\n            if (possibleID !== null && editor.isEditable() && tableElem.contains(event.target)) {\n                if (isAtEdgeOfTable(event)) {\n                    setSelected(true);\n                    setPrimarySelectedCellID(null);\n                    selectTable();\n                    return;\n                }\n                setSelected(false);\n                if (isStartingResize(event.target)) {\n                    setResizingID(possibleID);\n                    tableElem.style.userSelect = \"none\";\n                    resizeMeasureRef.current = {\n                        point: event.clientX,\n                        size: getTableCellWidth(event.target)\n                    };\n                    return;\n                }\n                mouseDownRef.current = true;\n                if (primarySelectedCellID !== possibleID) {\n                    if (isEditing) {\n                        saveEditorToJSON();\n                    }\n                    setPrimarySelectedCellID(possibleID);\n                    setIsEditing(false);\n                    lastCellIDRef.current = possibleID;\n                } else {\n                    lastCellIDRef.current = null;\n                }\n                setSelectedCellIDs(NO_CELLS);\n            } else if (primarySelectedCellID !== null && !isTargetOnPossibleUIControl(event.target)) {\n                setSelected(false);\n                mouseDownRef.current = false;\n                if (isEditing) {\n                    saveEditorToJSON();\n                }\n                setPrimarySelectedCellID(null);\n                setSelectedCellIDs(NO_CELLS);\n                setIsEditing(false);\n                lastCellIDRef.current = null;\n            }\n        };\n        const tableRect = tableElem.getBoundingClientRect();\n        const handlePointerMove = (event)=>{\n            if (resizingID !== null) {\n                const tableResizerRulerElem = tableResizerRulerRef.current;\n                if (tableResizerRulerElem !== null) {\n                    const { size, point } = resizeMeasureRef.current;\n                    const diff = event.clientX - point;\n                    const newWidth = size + diff;\n                    let x = event.clientX - tableRect.x;\n                    if (x < 10) {\n                        x = 10;\n                    } else if (x > tableRect.width - 10) {\n                        x = tableRect.width - 10;\n                    } else if (newWidth < 20) {\n                        x = point - size + 20 - tableRect.x;\n                    }\n                    tableResizerRulerElem.style.left = `${x}px`;\n                }\n                return;\n            }\n            if (!isEditing) {\n                const { clientX, clientY } = event;\n                const { width, x, y, height } = tableRect;\n                const isOnRightEdge = clientX > x + width * 0.9 && clientX < x + width + 40 && !mouseDownRef.current;\n                setShowAddColumns(isOnRightEdge);\n                const isOnBottomEdge = event.target === addRowsRef.current || clientY > y + height * 0.85 && clientY < y + height + 5 && !mouseDownRef.current;\n                setShowAddRows(isOnBottomEdge);\n            }\n            if (isEditing || !mouseDownRef.current || primarySelectedCellID === null) {\n                return;\n            }\n            const possibleID = getCellID(event.target);\n            if (possibleID !== null && possibleID !== lastCellIDRef.current) {\n                if (selectedCellIDs.length === 0) {\n                    tableElem.style.userSelect = \"none\";\n                }\n                const selectedIDs = getSelectedIDs(rows, primarySelectedCellID, possibleID, cellCoordMap);\n                if (selectedIDs.length === 1) {\n                    setSelectedCellIDs(NO_CELLS);\n                } else {\n                    setSelectedCellIDs(selectedIDs);\n                }\n                lastCellIDRef.current = possibleID;\n            }\n        };\n        const handlePointerUp = (event)=>{\n            if (resizingID !== null) {\n                const { size, point } = resizeMeasureRef.current;\n                const diff = event.clientX - point;\n                let newWidth = size + diff;\n                if (newWidth < 10) {\n                    newWidth = 10;\n                }\n                updateTableNode((tableNode)=>{\n                    const [x] = cellCoordMap.get(resizingID);\n                    (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n                    tableNode.updateColumnWidth(x, newWidth);\n                });\n                setResizingID(null);\n            }\n            if (tableElem !== null && selectedCellIDs.length > 1 && mouseDownRef.current) {\n                tableElem.style.userSelect = \"text\";\n                window.getSelection()?.removeAllRanges();\n            }\n            mouseDownRef.current = false;\n        };\n        doc.addEventListener(\"pointerdown\", handlePointerDown);\n        doc.addEventListener(\"pointermove\", handlePointerMove);\n        doc.addEventListener(\"pointerup\", handlePointerUp);\n        return ()=>{\n            doc.removeEventListener(\"pointerdown\", handlePointerDown);\n            doc.removeEventListener(\"pointermove\", handlePointerMove);\n            doc.removeEventListener(\"pointerup\", handlePointerUp);\n        };\n    }, [\n        cellEditor,\n        editor,\n        isEditing,\n        rows,\n        saveEditorToJSON,\n        primarySelectedCellID,\n        selectedCellSet,\n        selectedCellIDs,\n        cellCoordMap,\n        resizingID,\n        updateTableNode,\n        setSelected,\n        selectTable\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(()=>{\n        if (!isEditing && primarySelectedCellID !== null) {\n            const doc = getCurrentDocument(editor);\n            const loadContentIntoCell = (cell)=>{\n                if (cell !== null && cellEditor !== null) {\n                    const editorStateJSON = cell.json;\n                    const editorState = cellEditor.parseEditorState(editorStateJSON);\n                    cellEditor.setEditorState(editorState);\n                }\n            };\n            const handleDblClick = (event)=>{\n                const possibleID = getCellID(event.target);\n                if (possibleID === primarySelectedCellID && editor.isEditable()) {\n                    const cell = getCell(rows, possibleID, cellCoordMap);\n                    loadContentIntoCell(cell);\n                    setIsEditing(true);\n                    setSelectedCellIDs(NO_CELLS);\n                }\n            };\n            const handleKeyDown = (event)=>{\n                // Ignore arrow keys, escape or tab\n                const keyCode = event.keyCode;\n                if (keyCode === 16 || keyCode === 27 || keyCode === 9 || keyCode === 37 || keyCode === 38 || keyCode === 39 || keyCode === 40 || keyCode === 8 || keyCode === 46 || !editor.isEditable()) {\n                    return;\n                }\n                if (keyCode === 13) {\n                    event.preventDefault();\n                }\n                if (!isEditing && primarySelectedCellID !== null && editor.getEditorState().read(()=>(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)() === null) && event.target.contentEditable !== \"true\") {\n                    if (isCopy(keyCode, event.shiftKey, event.metaKey, event.ctrlKey)) {\n                        editor.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.COPY_COMMAND, event);\n                        return;\n                    }\n                    if (isCut(keyCode, event.shiftKey, event.metaKey, event.ctrlKey)) {\n                        editor.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.CUT_COMMAND, event);\n                        return;\n                    }\n                    if (isPaste(keyCode, event.shiftKey, event.metaKey, event.ctrlKey)) {\n                        editor.dispatchCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.PASTE_COMMAND, event);\n                        return;\n                    }\n                }\n                if (event.metaKey || event.ctrlKey || event.altKey) {\n                    return;\n                }\n                const cell = getCell(rows, primarySelectedCellID, cellCoordMap);\n                loadContentIntoCell(cell);\n                setIsEditing(true);\n                setSelectedCellIDs(NO_CELLS);\n            };\n            doc.addEventListener(\"dblclick\", handleDblClick);\n            doc.addEventListener(\"keydown\", handleKeyDown);\n            return ()=>{\n                doc.removeEventListener(\"dblclick\", handleDblClick);\n                doc.removeEventListener(\"keydown\", handleKeyDown);\n            };\n        }\n    }, [\n        cellEditor,\n        editor,\n        isEditing,\n        rows,\n        primarySelectedCellID,\n        cellCoordMap\n    ]);\n    const updateCellsByID = (0,react__WEBPACK_IMPORTED_MODULE_8__.useCallback)((ids, fn)=>{\n        $updateCells(rows, ids, cellCoordMap, cellEditor, updateTableNode, fn);\n    }, [\n        cellCoordMap,\n        cellEditor,\n        rows,\n        updateTableNode\n    ]);\n    const clearCellsCommand = (0,react__WEBPACK_IMPORTED_MODULE_8__.useCallback)(()=>{\n        if (primarySelectedCellID !== null && !isEditing) {\n            updateCellsByID([\n                primarySelectedCellID,\n                ...selectedCellIDs\n            ], ()=>{\n                const root = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getRoot)();\n                root.clear();\n                root.append((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$createParagraphNode)());\n            });\n            return true;\n        } else if (isSelected) {\n            updateTableNode((tableNode)=>{\n                (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n                tableNode.selectNext();\n                tableNode.remove();\n            });\n        }\n        return false;\n    }, [\n        isEditing,\n        isSelected,\n        primarySelectedCellID,\n        selectedCellIDs,\n        updateCellsByID,\n        updateTableNode\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_8__.useEffect)(()=>{\n        const tableElem = tableRef.current;\n        if (tableElem === null) {\n            return;\n        }\n        const copyDataToClipboard = (event, htmlString, lexicalString, plainTextString)=>{\n            const clipboardData = event instanceof KeyboardEvent ? null : event.clipboardData;\n            event.preventDefault();\n            if (clipboardData != null) {\n                clipboardData.setData(\"text/html\", htmlString);\n                clipboardData.setData(\"text/plain\", plainTextString);\n                clipboardData.setData(\"application/x-lexical-editor\", lexicalString);\n            } else {\n                const clipboard = navigator.clipboard;\n                if (clipboard != null) {\n                    // Most browsers only support a single item in the clipboard at one time.\n                    // So we optimize by only putting in HTML.\n                    const data = [\n                        new ClipboardItem({\n                            \"text/html\": new Blob([\n                                htmlString\n                            ], {\n                                type: \"text/html\"\n                            })\n                        })\n                    ];\n                    clipboard.write(data);\n                }\n            }\n        };\n        const getTypeFromObject = async (clipboardData, type)=>{\n            try {\n                return clipboardData instanceof DataTransfer ? clipboardData.getData(type) : clipboardData instanceof ClipboardItem ? await (await clipboardData.getType(type)).text() : \"\";\n            } catch  {\n                return \"\";\n            }\n        };\n        const pasteContent = async (event)=>{\n            let clipboardData = (event instanceof InputEvent ? null : event.clipboardData) || null;\n            if (primarySelectedCellID !== null && cellEditor !== null) {\n                event.preventDefault();\n                if (clipboardData === null) {\n                    try {\n                        const items = await navigator.clipboard.read();\n                        clipboardData = items[0];\n                    } catch  {\n                    // NO-OP\n                    }\n                }\n                const lexicalString = clipboardData !== null ? await getTypeFromObject(clipboardData, \"application/x-lexical-editor\") : \"\";\n                if (lexicalString) {\n                    try {\n                        const payload = JSON.parse(lexicalString);\n                        if (payload.namespace === editor._config.namespace && Array.isArray(payload.nodes)) {\n                            $updateCells(rows, [\n                                primarySelectedCellID\n                            ], cellCoordMap, cellEditor, updateTableNode, ()=>{\n                                const root = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getRoot)();\n                                root.clear();\n                                root.append((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$createParagraphNode)());\n                                root.selectEnd();\n                                const nodes = (0,_lexical_clipboard__WEBPACK_IMPORTED_MODULE_1__.$generateNodesFromSerializedNodes)(payload.nodes);\n                                const sel = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n                                if ((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isRangeSelection)(sel)) {\n                                    (0,_lexical_clipboard__WEBPACK_IMPORTED_MODULE_1__.$insertGeneratedNodes)(cellEditor, nodes, sel);\n                                }\n                            });\n                            return;\n                        }\n                    // eslint-disable-next-line no-empty\n                    } catch  {}\n                }\n                const htmlString = clipboardData !== null ? await getTypeFromObject(clipboardData, \"text/html\") : \"\";\n                if (htmlString) {\n                    try {\n                        const parser = new DOMParser();\n                        const dom = parser.parseFromString(htmlString, \"text/html\");\n                        const possibleTableElement = dom.querySelector(\"table\");\n                        if (possibleTableElement != null) {\n                            const pasteRows = (0,_TableNode__WEBPACK_IMPORTED_MODULE_12__.extractRowsFromHTML)(possibleTableElement);\n                            updateTableNode((tableNode)=>{\n                                const [x, y] = cellCoordMap.get(primarySelectedCellID);\n                                (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$addUpdateTag)(\"history-push\");\n                                tableNode.mergeRows(x, y, pasteRows);\n                            });\n                            return;\n                        }\n                        $updateCells(rows, [\n                            primarySelectedCellID\n                        ], cellCoordMap, cellEditor, updateTableNode, ()=>{\n                            const root = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getRoot)();\n                            root.clear();\n                            root.append((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$createParagraphNode)());\n                            root.selectEnd();\n                            const nodes = (0,_lexical_html__WEBPACK_IMPORTED_MODULE_2__.$generateNodesFromDOM)(editor, dom);\n                            const sel = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n                            if ((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isRangeSelection)(sel)) {\n                                (0,_lexical_clipboard__WEBPACK_IMPORTED_MODULE_1__.$insertGeneratedNodes)(cellEditor, nodes, sel);\n                            }\n                        });\n                        return;\n                    // eslint-disable-next-line no-empty\n                    } catch  {}\n                }\n                // Multi-line plain text in rich text mode pasted as separate paragraphs\n                // instead of single paragraph with linebreaks.\n                const text = clipboardData !== null ? await getTypeFromObject(clipboardData, \"text/plain\") : \"\";\n                if (text != null) {\n                    $updateCells(rows, [\n                        primarySelectedCellID\n                    ], cellCoordMap, cellEditor, updateTableNode, ()=>{\n                        const root = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getRoot)();\n                        root.clear();\n                        root.selectEnd();\n                        const sel = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n                        if (sel !== null) {\n                            sel.insertRawText(text);\n                        }\n                    });\n                }\n            }\n        };\n        const copyPrimaryCell = (event)=>{\n            if (primarySelectedCellID !== null && cellEditor !== null) {\n                const cell = getCell(rows, primarySelectedCellID, cellCoordMap);\n                const json = cell.json;\n                const htmlString = _TableNode__WEBPACK_IMPORTED_MODULE_12__.cellHTMLCache.get(json) || null;\n                if (htmlString === null) {\n                    return;\n                }\n                const editorState = cellEditor.parseEditorState(json);\n                const plainTextString = editorState.read(()=>(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getRoot)().getTextContent());\n                const lexicalString = editorState.read(()=>{\n                    return JSON.stringify((0,_lexical_clipboard__WEBPACK_IMPORTED_MODULE_1__.$generateJSONFromSelectedNodes)(cellEditor, null));\n                });\n                copyDataToClipboard(event, htmlString, lexicalString, plainTextString);\n            }\n        };\n        const copyCellRange = (event)=>{\n            const lastCellID = lastCellIDRef.current;\n            if (primarySelectedCellID !== null && cellEditor !== null && lastCellID !== null) {\n                const rect = getSelectedRect(primarySelectedCellID, lastCellID, cellCoordMap);\n                if (rect === null) {\n                    return;\n                }\n                const dom = (0,_TableNode__WEBPACK_IMPORTED_MODULE_12__.exportTableCellsToHTML)(rows, rect);\n                const htmlString = dom.outerHTML;\n                const plainTextString = dom.outerText;\n                const tableNodeJSON = editor.getEditorState().read(()=>{\n                    const tableNode = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getNodeByKey)(nodeKey);\n                    return tableNode.exportJSON();\n                });\n                tableNodeJSON.rows = extractCellsFromRows(rows, rect);\n                const lexicalJSON = {\n                    namespace: cellEditor._config.namespace,\n                    nodes: [\n                        tableNodeJSON\n                    ]\n                };\n                const lexicalString = JSON.stringify(lexicalJSON);\n                copyDataToClipboard(event, htmlString, lexicalString, plainTextString);\n            }\n        };\n        const handlePaste = (event, activeEditor)=>{\n            const selection = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n            if (primarySelectedCellID !== null && !isEditing && selection === null && activeEditor === editor) {\n                pasteContent(event);\n                mouseDownRef.current = false;\n                setSelectedCellIDs(NO_CELLS);\n                return true;\n            }\n            return false;\n        };\n        const handleCopy = (event, activeEditor)=>{\n            const selection = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n            if (primarySelectedCellID !== null && !isEditing && selection === null && activeEditor === editor) {\n                if (selectedCellIDs.length === 0) {\n                    copyPrimaryCell(event);\n                } else {\n                    copyCellRange(event);\n                }\n                return true;\n            }\n            return false;\n        };\n        return (0,_lexical_utils__WEBPACK_IMPORTED_MODULE_6__.mergeRegister)(editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.CLICK_COMMAND, (payload)=>{\n            const selection = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n            if ((0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isNodeSelection)(selection)) {\n                return true;\n            }\n            return false;\n        }, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.PASTE_COMMAND, handlePaste, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.COPY_COMMAND, handleCopy, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.CUT_COMMAND, (event, activeEditor)=>{\n            if (handleCopy(event, activeEditor)) {\n                clearCellsCommand();\n                return true;\n            }\n            return false;\n        }, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.KEY_BACKSPACE_COMMAND, clearCellsCommand, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.KEY_DELETE_COMMAND, clearCellsCommand, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.FORMAT_TEXT_COMMAND, (payload)=>{\n            if (primarySelectedCellID !== null && !isEditing) {\n                $updateCells(rows, [\n                    primarySelectedCellID,\n                    ...selectedCellIDs\n                ], cellCoordMap, cellEditor, updateTableNode, ()=>{\n                    const sel = $createSelectAll();\n                    sel.formatText(payload);\n                });\n                return true;\n            }\n            return false;\n        }, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.KEY_ENTER_COMMAND, (event, targetEditor)=>{\n            const selection = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n            if (primarySelectedCellID === null && !isEditing && (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isNodeSelection)(selection) && selection.has(nodeKey) && selection.getNodes().length === 1 && targetEditor === editor) {\n                const firstCellID = rows[0].cells[0].id;\n                setPrimarySelectedCellID(firstCellID);\n                focusCell(tableElem, firstCellID);\n                event.preventDefault();\n                event.stopPropagation();\n                clearSelection();\n                return true;\n            }\n            return false;\n        }, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.KEY_TAB_COMMAND, (event)=>{\n            const selection = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n            if (!isEditing && selection === null && primarySelectedCellID !== null) {\n                const isBackward = event.shiftKey;\n                const [x, y] = cellCoordMap.get(primarySelectedCellID);\n                event.preventDefault();\n                let nextX = null;\n                let nextY = null;\n                if (x === 0 && isBackward) {\n                    if (y !== 0) {\n                        nextY = y - 1;\n                        nextX = rows[nextY].cells.length - 1;\n                    }\n                } else if (x === rows[y].cells.length - 1 && !isBackward) {\n                    if (y !== rows.length - 1) {\n                        nextY = y + 1;\n                        nextX = 0;\n                    }\n                } else if (!isBackward) {\n                    nextX = x + 1;\n                    nextY = y;\n                } else {\n                    nextX = x - 1;\n                    nextY = y;\n                }\n                if (nextX !== null && nextY !== null) {\n                    modifySelectedCells(nextX, nextY, false);\n                    return true;\n                }\n            }\n            return false;\n        }, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.KEY_ARROW_UP_COMMAND, (event, targetEditor)=>{\n            const selection = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n            if (!isEditing && selection === null) {\n                const extend = event.shiftKey;\n                const cellID = extend ? lastCellIDRef.current || primarySelectedCellID : primarySelectedCellID;\n                if (cellID !== null) {\n                    const [x, y] = cellCoordMap.get(cellID);\n                    if (y !== 0) {\n                        modifySelectedCells(x, y - 1, extend);\n                        return true;\n                    }\n                }\n            }\n            if (!(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isRangeSelection)(selection) || targetEditor !== cellEditor) {\n                return false;\n            }\n            if (selection.isCollapsed() && selection.anchor.getNode().getTopLevelElementOrThrow().getPreviousSibling() === null) {\n                event.preventDefault();\n                return true;\n            }\n            return false;\n        }, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.KEY_ARROW_DOWN_COMMAND, (event, targetEditor)=>{\n            const selection = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n            if (!isEditing && selection === null) {\n                const extend = event.shiftKey;\n                const cellID = extend ? lastCellIDRef.current || primarySelectedCellID : primarySelectedCellID;\n                if (cellID !== null) {\n                    const [x, y] = cellCoordMap.get(cellID);\n                    if (y !== rows.length - 1) {\n                        modifySelectedCells(x, y + 1, extend);\n                        return true;\n                    }\n                }\n            }\n            if (!(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isRangeSelection)(selection) || targetEditor !== cellEditor) {\n                return false;\n            }\n            if (selection.isCollapsed() && selection.anchor.getNode().getTopLevelElementOrThrow().getNextSibling() === null) {\n                event.preventDefault();\n                return true;\n            }\n            return false;\n        }, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.KEY_ARROW_LEFT_COMMAND, (event, targetEditor)=>{\n            const selection = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n            if (!isEditing && selection === null) {\n                const extend = event.shiftKey;\n                const cellID = extend ? lastCellIDRef.current || primarySelectedCellID : primarySelectedCellID;\n                if (cellID !== null) {\n                    const [x, y] = cellCoordMap.get(cellID);\n                    if (x !== 0) {\n                        modifySelectedCells(x - 1, y, extend);\n                        return true;\n                    }\n                }\n            }\n            if (!(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isRangeSelection)(selection) || targetEditor !== cellEditor) {\n                return false;\n            }\n            if (selection.isCollapsed() && selection.anchor.offset === 0) {\n                event.preventDefault();\n                return true;\n            }\n            return false;\n        }, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.KEY_ARROW_RIGHT_COMMAND, (event, targetEditor)=>{\n            const selection = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n            if (!isEditing && selection === null) {\n                const extend = event.shiftKey;\n                const cellID = extend ? lastCellIDRef.current || primarySelectedCellID : primarySelectedCellID;\n                if (cellID !== null) {\n                    const [x, y] = cellCoordMap.get(cellID);\n                    if (x !== rows[y].cells.length - 1) {\n                        modifySelectedCells(x + 1, y, extend);\n                        return true;\n                    }\n                }\n            }\n            if (!(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isRangeSelection)(selection) || targetEditor !== cellEditor) {\n                return false;\n            }\n            if (selection.isCollapsed()) {\n                const anchor = selection.anchor;\n                if (anchor.type === \"text\" && anchor.offset === anchor.getNode().getTextContentSize() || anchor.type === \"element\" && anchor.offset === anchor.getNode().getChildrenSize()) {\n                    event.preventDefault();\n                    return true;\n                }\n            }\n            return false;\n        }, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_7__.KEY_ESCAPE_COMMAND, (event, targetEditor)=>{\n            const selection = (0,lexical__WEBPACK_IMPORTED_MODULE_7__.$getSelection)();\n            if (!isEditing && selection === null && targetEditor === editor) {\n                setSelected(true);\n                setPrimarySelectedCellID(null);\n                selectTable();\n                return true;\n            }\n            if (!(0,lexical__WEBPACK_IMPORTED_MODULE_7__.$isRangeSelection)(selection)) {\n                return false;\n            }\n            if (isEditing) {\n                saveEditorToJSON();\n                setIsEditing(false);\n                if (primarySelectedCellID !== null) {\n                    setTimeout(()=>{\n                        focusCell(tableElem, primarySelectedCellID);\n                    }, 20);\n                }\n                return true;\n            }\n            return false;\n        }, lexical__WEBPACK_IMPORTED_MODULE_7__.COMMAND_PRIORITY_LOW));\n    }, [\n        cellCoordMap,\n        cellEditor,\n        clearCellsCommand,\n        clearSelection,\n        editor,\n        isEditing,\n        modifySelectedCells,\n        nodeKey,\n        primarySelectedCellID,\n        rows,\n        saveEditorToJSON,\n        selectTable,\n        selectedCellIDs,\n        setSelected,\n        updateTableNode\n    ]);\n    if (cellEditor === null) {\n        return;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        style: {\n            position: \"relative\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                className: `${theme.table} ${isSelected ? theme.tableSelected : \"\"}`,\n                ref: tableRef,\n                tabIndex: -1,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                    children: rows.map((row)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                            className: theme.tableRow,\n                            children: row.cells.map((cell)=>{\n                                const { id } = cell;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TableCell, {\n                                    cell: cell,\n                                    theme: theme,\n                                    isSelected: selectedCellSet.has(id),\n                                    isPrimarySelected: primarySelectedCellID === id,\n                                    isEditing: isEditing,\n                                    sortingOptions: sortingOptions,\n                                    cellEditor: cellEditor,\n                                    updateCellsByID: updateCellsByID,\n                                    updateTableNode: updateTableNode,\n                                    cellCoordMap: cellCoordMap,\n                                    rows: rows,\n                                    setSortingOptions: setSortingOptions\n                                }, id, false, {\n                                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                                    lineNumber: 1747,\n                                    columnNumber: 19\n                                }, this);\n                            })\n                        }, row.id, false, {\n                            fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                            lineNumber: 1743,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                    lineNumber: 1741,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 1736,\n                columnNumber: 7\n            }, this),\n            showAddColumns && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: theme.tableAddColumns,\n                onClick: addColumns\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 1769,\n                columnNumber: 9\n            }, this),\n            showAddRows && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: theme.tableAddRows,\n                onClick: addRows,\n                ref: addRowsRef\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 1772,\n                columnNumber: 9\n            }, this),\n            resizingID !== null && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: theme.tableResizeRuler,\n                ref: tableResizerRulerRef\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n                lineNumber: 1779,\n                columnNumber: 9\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/TableComponent.tsx\",\n        lineNumber: 1735,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9MZXhpY2FsL25vZGVzL1RhYmxlQ29tcG9uZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7O0NBTUM7QUFRMkI7QUFDa0Q7QUFDSTtBQUNMO0FBQ0k7QUFDbEM7QUE2QjlCO0FBUUY7QUFDZ0I7QUFDVTtBQUNRO0FBRUk7QUFZaEM7QUFJckIsTUFBTWtELFdBQWUsRUFBRTtBQUV2QixTQUFTQztJQUNQLE1BQU1DLE1BQU16Qyw4REFBcUJBO0lBQ2pDeUMsSUFBSUMsS0FBSyxDQUFDQyxHQUFHLENBQUMsUUFBUXpDLGlEQUFRQSxHQUFHMEMsZUFBZSxJQUFJO0lBQ3BELE9BQU9IO0FBQ1Q7QUFFQSxTQUFTSSx5QkFBeUJDLEtBQXlCO0lBQ3pELE9BQU8sQ0FBQyxVQUFVLEVBQUVBLE1BQU1DLFNBQVMsQ0FBQyxVQUFVLENBQUM7QUFDakQ7QUFFQSxTQUFTQyxVQUFVQyxTQUFzQixFQUFFQyxFQUFVO0lBQ25ELE1BQU1DLFdBQVdGLFVBQVVHLGFBQWEsQ0FBQyxDQUFDLFNBQVMsRUFBRUYsR0FBRyxDQUFDLENBQUM7SUFDMUQsSUFBSUMsWUFBWSxNQUFNO1FBQ3BCO0lBQ0Y7SUFDQUEsU0FBU1QsS0FBSztBQUNoQjtBQUVBLFNBQVNXLGlCQUFpQkMsTUFBbUI7SUFDM0MsT0FBT0EsT0FBT0MsUUFBUSxLQUFLLEtBQUtELE9BQU9FLFlBQVksQ0FBQztBQUN0RDtBQUVBLFNBQVNDLHFCQUNQQyxlQUF1QixFQUN2QkMsVUFBeUI7SUFFekIsTUFBTUMsY0FBY0QsV0FBV0UsZ0JBQWdCLENBQUNIO0lBQ2hELElBQUlJLE9BQU83QixzREFBYUEsQ0FBQzhCLEdBQUcsQ0FBQ0w7SUFDN0IsSUFBSUksU0FBU0UsV0FBVztRQUN0QkYsT0FBT0YsWUFBWUssSUFBSSxDQUFDLElBQU16RSxxRUFBc0JBLENBQUNtRSxZQUFZO1FBQ2pFLE1BQU1PLGNBQWNOLFlBQVlLLElBQUksQ0FBQyxJ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QyxDQUFDLEVBQUUzSyxhQUFhOUksTUFBTTBULGFBQWEsR0FBRyxHQUFHLENBQUM7Z0JBQ3BFbk0sS0FBS21FO2dCQUNML0IsVUFBVSxDQUFDOzBCQUVYLDRFQUFDZ0s7OEJBQ0U3USxLQUFLNkksR0FBRyxDQUFDLENBQUN0RyxvQkFDVCw4REFBQ3VPOzRCQUFnQnRNLFdBQVd0SCxNQUFNNlQsUUFBUTtzQ0FDdkN4TyxJQUFJSCxLQUFLLENBQUN5RyxHQUFHLENBQUMsQ0FBQ3hJO2dDQUNkLE1BQU0sRUFBRS9DLEVBQUUsRUFBRSxHQUFHK0M7Z0NBQ2YscUJBQ0UsOERBQUN5RjtvQ0FFQ3pGLE1BQU1BO29DQUNObkQsT0FBT0E7b0NBQ1A4SSxZQUFZa0UsZ0JBQWdCMEYsR0FBRyxDQUFDdFM7b0NBQ2hDMkksbUJBQW1CeUQsMEJBQTBCcE07b0NBQzdDeUksV0FBV0E7b0NBQ1h0QyxnQkFBZ0JBO29DQUNoQjFGLFlBQVlBO29DQUNadUYsaUJBQWlCQTtvQ0FDakJuRCxpQkFBaUJBO29DQUNqQkQsY0FBY0E7b0NBQ2RGLE1BQU1BO29DQUNOd0QsbUJBQW1CQTttQ0FaZGxHOzs7Ozs0QkFlWDsyQkFwQk9pRixJQUFJakYsRUFBRTs7Ozs7Ozs7Ozs7Ozs7O1lBeUJwQitLLGdDQUNDLDhEQUFDdEQ7Z0JBQU9QLFdBQVd0SCxNQUFNOFQsZUFBZTtnQkFBRWxNLFNBQVN1Rjs7Ozs7O1lBRXBEOUIsNkJBQ0MsOERBQUN4RDtnQkFDQ1AsV0FBV3RILE1BQU0rVCxZQUFZO2dCQUM3Qm5NLFNBQVN3RjtnQkFDVDdGLEtBQUt3RDs7Ozs7O1lBR1JTLGVBQWUsc0JBQ2QsOERBQUNuRTtnQkFBSUMsV0FBV3RILE1BQU1nVSxnQkFBZ0I7Z0JBQUV6TSxLQUFLMEQ7Ozs7Ozs7Ozs7OztBQUlyRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Ntc19jcmVhdG9yLy4vc3JjL2NvbXBvbmVudHMvTGV4aWNhbC9ub2Rlcy9UYWJsZUNvbXBvbmVudC50c3g/NWU2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmltcG9ydCB0eXBlIHsgUmFuZ2VTZWxlY3Rpb24sIFRleHRGb3JtYXRUeXBlIH0gZnJvbSBcImxleGljYWxcIjtcblxuaW1wb3J0IHtcbiAgJGdlbmVyYXRlSlNPTkZyb21TZWxlY3RlZE5vZGVzLFxuICAkZ2VuZXJhdGVOb2Rlc0Zyb21TZXJpYWxpemVkTm9kZXMsXG4gICRpbnNlcnRHZW5lcmF0ZWROb2Rlc1xufSBmcm9tIFwiQGxleGljYWwvY2xpcGJvYXJkXCI7XG5pbXBvcnQgeyAkZ2VuZXJhdGVIdG1sRnJvbU5vZGVzLCAkZ2VuZXJhdGVOb2Rlc0Zyb21ET00gfSBmcm9tIFwiQGxleGljYWwvaHRtbFwiO1xuaW1wb3J0IHsgdXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dCB9IGZyb20gXCJAbGV4aWNhbC9yZWFjdC9MZXhpY2FsQ29tcG9zZXJDb250ZXh0XCI7XG5pbXBvcnQgeyBMZXhpY2FsTmVzdGVkQ29tcG9zZXIgfSBmcm9tIFwiQGxleGljYWwvcmVhY3QvTGV4aWNhbE5lc3RlZENvbXBvc2VyXCI7XG5pbXBvcnQgeyB1c2VMZXhpY2FsTm9kZVNlbGVjdGlvbiB9IGZyb20gXCJAbGV4aWNhbC9yZWFjdC91c2VMZXhpY2FsTm9kZVNlbGVjdGlvblwiO1xuaW1wb3J0IHsgbWVyZ2VSZWdpc3RlciB9IGZyb20gXCJAbGV4aWNhbC91dGlsc1wiO1xuaW1wb3J0IHtcbiAgJGFkZFVwZGF0ZVRhZyxcbiAgJGNyZWF0ZVBhcmFncmFwaE5vZGUsXG4gICRjcmVhdGVSYW5nZVNlbGVjdGlvbixcbiAgJGdldE5vZGVCeUtleSxcbiAgJGdldFJvb3QsXG4gICRnZXRTZWxlY3Rpb24sXG4gICRpc05vZGVTZWxlY3Rpb24sXG4gICRpc1JhbmdlU2VsZWN0aW9uLFxuICBDTElDS19DT01NQU5ELFxuICBDT01NQU5EX1BSSU9SSVRZX0xPVyxcbiAgQ09QWV9DT01NQU5ELFxuICBjcmVhdGVFZGl0b3IsXG4gIENVVF9DT01NQU5ELFxuICBFZGl0b3JUaGVtZUNsYXNzZXMsXG4gIEZPUk1BVF9URVhUX0NPTU1BTkQsXG4gIEtFWV9BUlJPV19ET1dOX0NPTU1BTkQsXG4gIEtFWV9BUlJPV19MRUZUX0NPTU1BTkQsXG4gIEtFWV9BUlJPV19SSUdIVF9DT01NQU5ELFxuICBLRVlfQVJST1dfVVBfQ09NTUFORCxcbiAgS0VZX0JBQ0tTUEFDRV9DT01NQU5ELFxuICBLRVlfREVMRVRFX0NPTU1BTkQsXG4gIEtFWV9FTlRFUl9DT01NQU5ELFxuICBLRVlfRVNDQVBFX0NPTU1BTkQsXG4gIEtFWV9UQUJfQ09NTUFORCxcbiAgTGV4aWNhbEVkaXRvcixcbiAgTm9kZUtleSxcbiAgUEFTVEVfQ09NTUFORFxufSBmcm9tIFwibGV4aWNhbFwiO1xuaW1wb3J0IHtcbiAgdXNlQ2FsbGJhY2ssXG4gIHVzZUNvbnRleHQsXG4gIHVzZUVmZmVjdCxcbiAgdXNlTWVtbyxcbiAgdXNlUmVmLFxuICB1c2VTdGF0ZVxufSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY3JlYXRlUG9ydGFsIH0gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHsgSVNfQVBQTEUgfSBmcm9tIFwiLi4vc2hhcmVkL2Vudmlyb25tZW50XCI7XG5cbmltcG9ydCB7IENlbGxDb250ZXh0IH0gZnJvbSBcIi4uL3BsdWdpbnMvVGFibGVQbHVnaW5cIjtcbmltcG9ydCB7XG4gICRpc1RhYmxlTm9kZSxcbiAgQ2VsbCxcbiAgY2VsbEhUTUxDYWNoZSxcbiAgY2VsbFRleHRDb250ZW50Q2FjaGUsXG4gIGNyZWF0ZVJvdyxcbiAgY3JlYXRlVUlELFxuICBleHBvcnRUYWJsZUNlbGxzVG9IVE1MLFxuICBleHRyYWN0Um93c0Zyb21IVE1MLFxuICBSb3dzLFxuICBUYWJsZU5vZGVcbn0gZnJvbSBcIi4vVGFibGVOb2RlXCI7XG5cbnR5cGUgU29ydE9wdGlvbnMgPSB7IHR5cGU6IFwiYXNjZW5kaW5nXCIgfCBcImRlc2NlbmRpbmdcIjsgeDogbnVtYmVyIH07XG5cbmNvbnN0IE5PX0NFTExTOiBbXSA9IFtdO1xuXG5mdW5jdGlvbiAkY3JlYXRlU2VsZWN0QWxsKCk6IFJhbmdlU2VsZWN0aW9uIHtcbiAgY29uc3Qgc2VsID0gJGNyZWF0ZVJhbmdlU2VsZWN0aW9uKCk7XG4gIHNlbC5mb2N1cy5zZXQoXCJyb290XCIsICRnZXRSb290KCkuZ2V0Q2hpbGRyZW5TaXplKCksIFwiZWxlbWVudFwiKTtcbiAgcmV0dXJuIHNlbDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlRW1wdHlQYXJhZ3JhcGhIVE1MKHRoZW1lOiBFZGl0b3JUaGVtZUNsYXNzZXMpOiBzdHJpbmcge1xuICByZXR1cm4gYDxwIGNsYXNzPVwiJHt0aGVtZS5wYXJhZ3JhcGh9XCI+PGJyPjwvcD5gO1xufVxuXG5mdW5jdGlvbiBmb2N1c0NlbGwodGFibGVFbGVtOiBIVE1MRWxlbWVudCwgaWQ6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBjZWxsRWxlbSA9IHRhYmxlRWxlbS5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pZD0ke2lkfV1gKSBhcyBIVE1MRWxlbWVudDtcbiAgaWYgKGNlbGxFbGVtID09IG51bGwpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY2VsbEVsZW0uZm9jdXMoKTtcbn1cblxuZnVuY3Rpb24gaXNTdGFydGluZ1Jlc2l6ZSh0YXJnZXQ6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG4gIHJldHVybiB0YXJnZXQubm9kZVR5cGUgPT09IDEgJiYgdGFyZ2V0Lmhhc0F0dHJpYnV0ZShcImRhdGEtdGFibGUtcmVzaXplXCIpO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUhUTUxGcm9tSlNPTihcbiAgZWRpdG9yU3RhdGVKU09OOiBzdHJpbmcsXG4gIGNlbGxFZGl0b3I6IExleGljYWxFZGl0b3Jcbik6IHN0cmluZyB7XG4gIGNvbnN0IGVkaXRvclN0YXRlID0gY2VsbEVkaXRvci5wYXJzZUVkaXRvclN0YXRlKGVkaXRvclN0YXRlSlNPTik7XG4gIGxldCBodG1sID0gY2VsbEhUTUxDYWNoZS5nZXQoZWRpdG9yU3RhdGVKU09OKTtcbiAgaWYgKGh0bWwgPT09IHVuZGVmaW5lZCkge1xuICAgIGh0bWwgPSBlZGl0b3JTdGF0ZS5yZWFkKCgpID0+ICRnZW5lcmF0ZUh0bWxGcm9tTm9kZXMoY2VsbEVkaXRvciwgbnVsbCkpO1xuICAgIGNvbnN0IHRleHRDb250ZW50ID0gZWRpdG9yU3RhdGUucmVhZCgoKSA9PiAkZ2V0Um9vdCgpLmdldFRleHRDb250ZW50KCkpO1xuICAgIGNlbGxIVE1MQ2FjaGUuc2V0KGVkaXRvclN0YXRlSlNPTiwgaHRtbCk7XG4gICAgY2VsbFRleHRDb250ZW50Q2FjaGUuc2V0KGVkaXRvclN0YXRlSlNPTiwgdGV4dENvbnRlbnQpO1xuICB9XG4gIHJldHVybiBodG1sO1xufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50RG9jdW1lbnQoZWRpdG9yOiBMZXhpY2FsRWRpdG9yKTogRG9jdW1lbnQge1xuICBjb25zdCByb290RWxlbWVudCA9IGVkaXRvci5nZXRSb290RWxlbWVudCgpO1xuICByZXR1cm4gcm9vdEVsZW1lbnQgIT09IG51bGwgPyByb290RWxlbWVudC5vd25lckRvY3VtZW50IDogZG9jdW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGlzQ29weShcbiAga2V5Q29kZTogbnVtYmVyLFxuICBzaGlmdEtleTogYm9vbGVhbixcbiAgbWV0YUtleTogYm9vbGVhbixcbiAgY3RybEtleTogYm9vbGVhblxuKTogYm9vbGVhbiB7XG4gIGlmIChzaGlmdEtleSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoa2V5Q29kZSA9PT0gNjcpIHtcbiAgICByZXR1cm4gSVNfQVBQTEUgPyBtZXRhS2V5IDogY3RybEtleTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaXNDdXQoXG4gIGtleUNvZGU6IG51bWJlcixcbiAgc2hpZnRLZXk6IGJvb2xlYW4sXG4gIG1ldGFLZXk6IGJvb2xlYW4sXG4gIGN0cmxLZXk6IGJvb2xlYW5cbik6IGJvb2xlYW4ge1xuICBpZiAoc2hpZnRLZXkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleUNvZGUgPT09IDg4KSB7XG4gICAgcmV0dXJuIElTX0FQUExFID8gbWV0YUtleSA6IGN0cmxLZXk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGlzUGFzdGUoXG4gIGtleUNvZGU6IG51bWJlcixcbiAgc2hpZnRLZXk6IGJvb2xlYW4sXG4gIG1ldGFLZXk6IGJvb2xlYW4sXG4gIGN0cmxLZXk6IGJvb2xlYW5cbik6IGJvb2xlYW4ge1xuICBpZiAoc2hpZnRLZXkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGtleUNvZGUgPT09IDg2KSB7XG4gICAgcmV0dXJuIElTX0FQUExFID8gbWV0YUtleSA6IGN0cmxLZXk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldENlbGxJRChkb21FbGVtZW50OiBIVE1MRWxlbWVudCk6IG51bGwgfCBzdHJpbmcge1xuICBsZXQgbm9kZTogbnVsbCB8IEhUTUxFbGVtZW50ID0gZG9tRWxlbWVudDtcbiAgd2hpbGUgKG5vZGUgIT09IG51bGwpIHtcbiAgICBjb25zdCBwb3NzaWJsZUlEID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpO1xuICAgIGlmIChwb3NzaWJsZUlEICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBwb3NzaWJsZUlEO1xuICAgIH1cbiAgICBub2RlID0gbm9kZS5wYXJlbnRFbGVtZW50O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRUYWJsZUNlbGxXaWR0aChkb21FbGVtZW50OiBIVE1MRWxlbWVudCk6IG51bWJlciB7XG4gIGxldCBub2RlOiBudWxsIHwgSFRNTEVsZW1lbnQgPSBkb21FbGVtZW50O1xuICB3aGlsZSAobm9kZSAhPT0gbnVsbCkge1xuICAgIGlmIChub2RlLm5vZGVOYW1lID09PSBcIlRIXCIgfHwgbm9kZS5ub2RlTmFtZSA9PT0gXCJURFwiKSB7XG4gICAgICByZXR1cm4gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcbiAgICB9XG4gICAgbm9kZSA9IG5vZGUucGFyZW50RWxlbWVudDtcbiAgfVxuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gJHVwZGF0ZUNlbGxzKFxuICByb3dzOiBSb3dzLFxuICBpZHM6IEFycmF5PHN0cmluZz4sXG4gIGNlbGxDb29yZE1hcDogTWFwPHN0cmluZywgW251bWJlciwgbnVtYmVyXT4sXG4gIGNlbGxFZGl0b3I6IG51bGwgfCBMZXhpY2FsRWRpdG9yLFxuICB1cGRhdGVUYWJsZU5vZGU6IChmbjI6ICh0YWJsZU5vZGU6IFRhYmxlTm9kZSkgPT4gdm9pZCkgPT4gdm9pZCxcbiAgZm46ICgpID0+IHZvaWRcbik6IHZvaWQge1xuICBmb3IgKGNvbnN0IGlkIG9mIGlkcykge1xuICAgIGNvbnN0IGNlbGwgPSBnZXRDZWxsKHJvd3MsIGlkLCBjZWxsQ29vcmRNYXApO1xuICAgIGlmIChjZWxsICE9PSBudWxsICYmIGNlbGxFZGl0b3IgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IGVkaXRvclN0YXRlID0gY2VsbEVkaXRvci5wYXJzZUVkaXRvclN0YXRlKGNlbGwuanNvbik7XG4gICAgICBjZWxsRWRpdG9yLl9oZWFkbGVzcyA9IHRydWU7XG4gICAgICBjZWxsRWRpdG9yLnNldEVkaXRvclN0YXRlKGVkaXRvclN0YXRlKTtcbiAgICAgIGNlbGxFZGl0b3IudXBkYXRlKGZuLCB7IGRpc2NyZXRlOiB0cnVlIH0pO1xuICAgICAgY2VsbEVkaXRvci5faGVhZGxlc3MgPSBmYWxzZTtcbiAgICAgIGNvbnN0IG5ld0pTT04gPSBKU09OLnN0cmluZ2lmeShjZWxsRWRpdG9yLmdldEVkaXRvclN0YXRlKCkpO1xuICAgICAgdXBkYXRlVGFibGVOb2RlKCh0YWJsZU5vZGUpID0+IHtcbiAgICAgICAgY29uc3QgW3gsIHldID0gY2VsbENvb3JkTWFwLmdldChpZCkgYXMgW251bWJlciwgbnVtYmVyXTtcbiAgICAgICAgJGFkZFVwZGF0ZVRhZyhcImhpc3RvcnktcHVzaFwiKTtcbiAgICAgICAgdGFibGVOb2RlLnVwZGF0ZUNlbGxKU09OKHgsIHksIG5ld0pTT04pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGlzVGFyZ2V0T25Qb3NzaWJsZVVJQ29udHJvbCh0YXJnZXQ6IEhUTUxFbGVtZW50KTogYm9vbGVhbiB7XG4gIGxldCBub2RlOiBIVE1MRWxlbWVudCB8IG51bGwgPSB0YXJnZXQ7XG4gIHdoaWxlIChub2RlICE9PSBudWxsKSB7XG4gICAgY29uc3Qgbm9kZU5hbWUgPSBub2RlLm5vZGVOYW1lO1xuICAgIGlmIChcbiAgICAgIG5vZGVOYW1lID09PSBcIkJVVFRPTlwiIHx8XG4gICAgICBub2RlTmFtZSA9PT0gXCJJTlBVVFwiIHx8XG4gICAgICBub2RlTmFtZSA9PT0gXCJURVhUQVJFQVwiXG4gICAgKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbm9kZSA9IG5vZGUucGFyZW50RWxlbWVudDtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFNlbGVjdGVkUmVjdChcbiAgc3RhcnRJRDogc3RyaW5nLFxuICBlbmRJRDogc3RyaW5nLFxuICBjZWxsQ29vcmRNYXA6IE1hcDxzdHJpbmcsIFtudW1iZXIsIG51bWJlcl0+XG4pOiBudWxsIHwgeyBzdGFydFg6IG51bWJlcjsgZW5kWDogbnVtYmVyOyBzdGFydFk6IG51bWJlcjsgZW5kWTogbnVtYmVyIH0ge1xuICBjb25zdCBzdGFydENvb3JkcyA9IGNlbGxDb29yZE1hcC5nZXQoc3RhcnRJRCk7XG4gIGNvbnN0IGVuZENvb3JkcyA9IGNlbGxDb29yZE1hcC5nZXQoZW5kSUQpO1xuICBpZiAoc3RhcnRDb29yZHMgPT09IHVuZGVmaW5lZCB8fCBlbmRDb29yZHMgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHN0YXJ0WCA9IE1hdGgubWluKHN0YXJ0Q29vcmRzWzBdLCBlbmRDb29yZHNbMF0pO1xuICBjb25zdCBlbmRYID0gTWF0aC5tYXgoc3RhcnRDb29yZHNbMF0sIGVuZENvb3Jkc1swXSk7XG4gIGNvbnN0IHN0YXJ0WSA9IE1hdGgubWluKHN0YXJ0Q29vcmRzWzFdLCBlbmRDb29yZHNbMV0pO1xuICBjb25zdCBlbmRZID0gTWF0aC5tYXgoc3RhcnRDb29yZHNbMV0sIGVuZENvb3Jkc1sxXSk7XG5cbiAgcmV0dXJuIHtcbiAgICBlbmRYLFxuICAgIGVuZFksXG4gICAgc3RhcnRYLFxuICAgIHN0YXJ0WVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRTZWxlY3RlZElEcyhcbiAgcm93czogUm93cyxcbiAgc3RhcnRJRDogc3RyaW5nLFxuICBlbmRJRDogc3RyaW5nLFxuICBjZWxsQ29vcmRNYXA6IE1hcDxzdHJpbmcsIFtudW1iZXIsIG51bWJlcl0+XG4pOiBBcnJheTxzdHJpbmc+IHtcbiAgY29uc3QgcmVjdCA9IGdldFNlbGVjdGVkUmVjdChzdGFydElELCBlbmRJRCwgY2VsbENvb3JkTWFwKTtcbiAgaWYgKHJlY3QgPT09IG51bGwpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgeyBzdGFydFgsIGVuZFksIGVuZFgsIHN0YXJ0WSB9ID0gcmVjdDtcbiAgY29uc3QgaWRzID0gW107XG5cbiAgZm9yIChsZXQgeCA9IHN0YXJ0WDsgeCA8PSBlbmRYOyB4KyspIHtcbiAgICBmb3IgKGxldCB5ID0gc3RhcnRZOyB5IDw9IGVuZFk7IHkrKykge1xuICAgICAgaWRzLnB1c2gocm93c1t5XS5jZWxsc1t4XS5pZCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBpZHM7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RDZWxsc0Zyb21Sb3dzKFxuICByb3dzOiBSb3dzLFxuICByZWN0OiB7IHN0YXJ0WDogbnVtYmVyOyBlbmRYOiBudW1iZXI7IHN0YXJ0WTogbnVtYmVyOyBlbmRZOiBudW1iZXIgfVxuKTogUm93cyB7XG4gIGNvbnN0IHsgc3RhcnRYLCBlbmRZLCBlbmRYLCBzdGFydFkgfSA9IHJlY3Q7XG4gIGNvbnN0IG5ld1Jvd3M6IFJvd3MgPSBbXTtcblxuICBmb3IgKGxldCB5ID0gc3RhcnRZOyB5IDw9IGVuZFk7IHkrKykge1xuICAgIGNvbnN0IHJvdyA9IHJvd3NbeV07XG4gICAgY29uc3QgbmV3Um93ID0gY3JlYXRlUm93KCk7XG4gICAgZm9yIChsZXQgeCA9IHN0YXJ0WDsgeCA8PSBlbmRYOyB4KyspIHtcbiAgICAgIGNvbnN0IGNlbGxDbG9uZSA9IHsgLi4ucm93LmNlbGxzW3hdIH07XG4gICAgICBjZWxsQ2xvbmUuaWQgPSBjcmVhdGVVSUQoKTtcbiAgICAgIG5ld1Jvdy5jZWxscy5wdXNoKGNlbGxDbG9uZSk7XG4gICAgfVxuICAgIG5ld1Jvd3MucHVzaChuZXdSb3cpO1xuICB9XG4gIHJldHVybiBuZXdSb3dzO1xufVxuXG5mdW5jdGlvbiBUYWJsZUNlbGxFZGl0b3IoeyBjZWxsRWRpdG9yIH06IHsgY2VsbEVkaXRvcjogTGV4aWNhbEVkaXRvciB9KSB7XG4gIGNvbnN0IHsgY2VsbEVkaXRvckNvbmZpZywgY2VsbEVkaXRvclBsdWdpbnMgfSA9IHVzZUNvbnRleHQoQ2VsbENvbnRleHQpO1xuXG4gIGlmIChjZWxsRWRpdG9yUGx1Z2lucyA9PT0gbnVsbCB8fCBjZWxsRWRpdG9yQ29uZmlnID09PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxMZXhpY2FsTmVzdGVkQ29tcG9zZXJcbiAgICAgIGluaXRpYWxFZGl0b3I9e2NlbGxFZGl0b3J9XG4gICAgICBpbml0aWFsVGhlbWU9e2NlbGxFZGl0b3JDb25maWcudGhlbWV9XG4gICAgICBpbml0aWFsTm9kZXM9e2NlbGxFZGl0b3JDb25maWcubm9kZXN9XG4gICAgICBza2lwQ29sbGFiQ2hlY2tzPXt0cnVlfVxuICAgID5cbiAgICAgIHtjZWxsRWRpdG9yUGx1Z2luc31cbiAgICA8L0xleGljYWxOZXN0ZWRDb21wb3Nlcj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gZ2V0Q2VsbChcbiAgcm93czogUm93cyxcbiAgY2VsbElEOiBzdHJpbmcsXG4gIGNlbGxDb29yZE1hcDogTWFwPHN0cmluZywgW251bWJlciwgbnVtYmVyXT5cbik6IG51bGwgfCBDZWxsIHtcbiAgY29uc3QgY29vcmRzID0gY2VsbENvb3JkTWFwLmdldChjZWxsSUQpO1xuICBpZiAoY29vcmRzID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBbeCwgeV0gPSBjb29yZHM7XG4gIGNvbnN0IHJvdyA9IHJvd3NbeV07XG4gIHJldHVybiByb3cuY2VsbHNbeF07XG59XG5cbmZ1bmN0aW9uIFRhYmxlQWN0aW9uTWVudSh7XG4gIGNlbGwsXG4gIHJvd3MsXG4gIGNlbGxDb29yZE1hcCxcbiAgbWVudUVsZW0sXG4gIHVwZGF0ZUNlbGxzQnlJRCxcbiAgb25DbG9zZSxcbiAgdXBkYXRlVGFibGVOb2RlLFxuICBzZXRTb3J0aW5nT3B0aW9ucyxcbiAgc29ydGluZ09wdGlvbnNcbn06IHtcbiAgY2VsbDogQ2VsbDtcbiAgbWVudUVsZW06IEhUTUxFbGVtZW50O1xuICB1cGRhdGVDZWxsc0J5SUQ6IChpZHM6IEFycmF5PHN0cmluZz4sIGZuOiAoKSA9PiB2b2lkKSA9PiB2b2lkO1xuICBvbkNsb3NlOiAoKSA9PiB2b2lkO1xuICB1cGRhdGVUYWJsZU5vZGU6IChmbjI6ICh0YWJsZU5vZGU6IFRhYmxlTm9kZSkgPT4gdm9pZCkgPT4gdm9pZDtcbiAgY2VsbENvb3JkTWFwOiBNYXA8c3RyaW5nLCBbbnVtYmVyLCBudW1iZXJdPjtcbiAgcm93czogUm93cztcbiAgc2V0U29ydGluZ09wdGlvbnM6IChvcHRpb25zOiBudWxsIHwgU29ydE9wdGlvbnMpID0+IHZvaWQ7XG4gIHNvcnRpbmdPcHRpb25zOiBudWxsIHwgU29ydE9wdGlvbnM7XG59KSB7XG4gIGNvbnN0IGRyb3BEb3duUmVmID0gdXNlUmVmPG51bGwgfCBIVE1MRGl2RWxlbWVudD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBkcm9wZG93bkVsZW0gPSBkcm9wRG93blJlZi5jdXJyZW50O1xuICAgIGlmIChkcm9wZG93bkVsZW0gIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHJlY3QgPSBtZW51RWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGRyb3Bkb3duRWxlbS5zdHlsZS50b3AgPSBgJHtyZWN0Lnl9cHhgO1xuICAgICAgZHJvcGRvd25FbGVtLnN0eWxlLmxlZnQgPSBgJHtyZWN0Lnh9cHhgO1xuICAgIH1cbiAgfSwgW21lbnVFbGVtXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVDbGlja091dHNpZGUgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGRyb3Bkb3duRWxlbSA9IGRyb3BEb3duUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoXG4gICAgICAgIGRyb3Bkb3duRWxlbSAhPT0gbnVsbCAmJlxuICAgICAgICAhZHJvcGRvd25FbGVtLmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgcmV0dXJuICgpID0+IHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgfSwgW29uQ2xvc2VdKTtcbiAgY29uc3QgY29vcmRzID0gY2VsbENvb3JkTWFwLmdldChjZWxsLmlkKTtcblxuICBpZiAoY29vcmRzID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBjb25zdCBbeCwgeV0gPSBjb29yZHM7XG5cbiAgcmV0dXJuIChcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUganN4LWExMXkvbm8tc3RhdGljLWVsZW1lbnQtaW50ZXJhY3Rpb25zXG4gICAgPGRpdlxuICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd25cIlxuICAgICAgcmVmPXtkcm9wRG93blJlZn1cbiAgICAgIG9uUG9pbnRlck1vdmU9eyhlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9fVxuICAgICAgb25Qb2ludGVyRG93bj17KGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH19XG4gICAgICBvblBvaW50ZXJVcD17KGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH19XG4gICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfX1cbiAgICA+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cIml0ZW1cIlxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlVGFibGVOb2RlKCh0YWJsZU5vZGUpID0+IHtcbiAgICAgICAgICAgICRhZGRVcGRhdGVUYWcoXCJoaXN0b3J5LXB1c2hcIik7XG4gICAgICAgICAgICB0YWJsZU5vZGUudXBkYXRlQ2VsbFR5cGUoXG4gICAgICAgICAgICAgIHgsXG4gICAgICAgICAgICAgIHksXG4gICAgICAgICAgICAgIGNlbGwudHlwZSA9PT0gXCJub3JtYWxcIiA/IFwiaGVhZGVyXCIgOiBcIm5vcm1hbFwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dFwiPlxuICAgICAgICAgIHtjZWxsLnR5cGUgPT09IFwibm9ybWFsXCIgPyBcIk1ha2UgaGVhZGVyXCIgOiBcIlJlbW92ZSBoZWFkZXJcIn1cbiAgICAgICAgPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cIml0ZW1cIlxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlQ2VsbHNCeUlEKFtjZWxsLmlkXSwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgcm9vdCA9ICRnZXRSb290KCk7XG4gICAgICAgICAgICByb290LmNsZWFyKCk7XG4gICAgICAgICAgICByb290LmFwcGVuZCgkY3JlYXRlUGFyYWdyYXBoTm9kZSgpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHRcIj5DbGVhciBjZWxsPC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8aHIgLz5cbiAgICAgIHtjZWxsLnR5cGUgPT09IFwiaGVhZGVyXCIgJiYgeSA9PT0gMCAmJiAoXG4gICAgICAgIDw+XG4gICAgICAgICAge3NvcnRpbmdPcHRpb25zICE9PSBudWxsICYmIHNvcnRpbmdPcHRpb25zLnggPT09IHggJiYgKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpdGVtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFNvcnRpbmdPcHRpb25zKG51bGwpO1xuICAgICAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dFwiPlJlbW92ZSBzb3J0aW5nPC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgICB7KHNvcnRpbmdPcHRpb25zID09PSBudWxsIHx8XG4gICAgICAgICAgICBzb3J0aW5nT3B0aW9ucy54ICE9PSB4IHx8XG4gICAgICAgICAgICBzb3J0aW5nT3B0aW9ucy50eXBlID09PSBcImRlc2NlbmRpbmdcIikgJiYgKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpdGVtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFNvcnRpbmdPcHRpb25zKHsgdHlwZTogXCJhc2NlbmRpbmdcIiwgeCB9KTtcbiAgICAgICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHRcIj5Tb3J0IGFzY2VuZGluZzwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgICAgeyhzb3J0aW5nT3B0aW9ucyA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgc29ydGluZ09wdGlvbnMueCAhPT0geCB8fFxuICAgICAgICAgICAgc29ydGluZ09wdGlvbnMudHlwZSA9PT0gXCJhc2NlbmRpbmdcIikgJiYgKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpdGVtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFNvcnRpbmdPcHRpb25zKHsgdHlwZTogXCJkZXNjZW5kaW5nXCIsIHggfSk7XG4gICAgICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0XCI+U29ydCBkZXNjZW5kaW5nPC9zcGFuPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8aHIgLz5cbiAgICAgICAgPC8+XG4gICAgICApfVxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJpdGVtXCJcbiAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgIHVwZGF0ZVRhYmxlTm9kZSgodGFibGVOb2RlKSA9PiB7XG4gICAgICAgICAgICAkYWRkVXBkYXRlVGFnKFwiaGlzdG9yeS1wdXNoXCIpO1xuICAgICAgICAgICAgdGFibGVOb2RlLmluc2VydFJvd0F0KHkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dFwiPkluc2VydCByb3cgYWJvdmU8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgY2xhc3NOYW1lPVwiaXRlbVwiXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICB1cGRhdGVUYWJsZU5vZGUoKHRhYmxlTm9kZSkgPT4ge1xuICAgICAgICAgICAgJGFkZFVwZGF0ZVRhZyhcImhpc3RvcnktcHVzaFwiKTtcbiAgICAgICAgICAgIHRhYmxlTm9kZS5pbnNlcnRSb3dBdCh5ICsgMSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0XCI+SW5zZXJ0IHJvdyBiZWxvdzwvc3Bhbj5cbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGhyIC8+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cIml0ZW1cIlxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlVGFibGVOb2RlKCh0YWJsZU5vZGUpID0+IHtcbiAgICAgICAgICAgICRhZGRVcGRhdGVUYWcoXCJoaXN0b3J5LXB1c2hcIik7XG4gICAgICAgICAgICB0YWJsZU5vZGUuaW5zZXJ0Q29sdW1uQXQoeCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0XCI+SW5zZXJ0IGNvbHVtbiBsZWZ0PC9zcGFuPlxuICAgICAgPC9idXR0b24+XG4gICAgICA8YnV0dG9uXG4gICAgICAgIGNsYXNzTmFtZT1cIml0ZW1cIlxuICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlVGFibGVOb2RlKCh0YWJsZU5vZGUpID0+IHtcbiAgICAgICAgICAgICRhZGRVcGRhdGVUYWcoXCJoaXN0b3J5LXB1c2hcIik7XG4gICAgICAgICAgICB0YWJsZU5vZGUuaW5zZXJ0Q29sdW1uQXQoeCArIDEpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgfX1cbiAgICAgID5cbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dFwiPkluc2VydCBjb2x1bW4gcmlnaHQ8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxociAvPlxuICAgICAge3Jvd3NbMF0uY2VsbHMubGVuZ3RoICE9PSAxICYmIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cIml0ZW1cIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZVRhYmxlTm9kZSgodGFibGVOb2RlKSA9PiB7XG4gICAgICAgICAgICAgICRhZGRVcGRhdGVUYWcoXCJoaXN0b3J5LXB1c2hcIik7XG4gICAgICAgICAgICAgIHRhYmxlTm9kZS5kZWxldGVDb2x1bW5BdCh4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0XCI+RGVsZXRlIGNvbHVtbjwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApfVxuICAgICAge3Jvd3MubGVuZ3RoICE9PSAxICYmIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cIml0ZW1cIlxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZVRhYmxlTm9kZSgodGFibGVOb2RlKSA9PiB7XG4gICAgICAgICAgICAgICRhZGRVcGRhdGVUYWcoXCJoaXN0b3J5LXB1c2hcIik7XG4gICAgICAgICAgICAgIHRhYmxlTm9kZS5kZWxldGVSb3dBdCh5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0XCI+RGVsZXRlIHJvdzwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICApfVxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzc05hbWU9XCJpdGVtXCJcbiAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgIHVwZGF0ZVRhYmxlTm9kZSgodGFibGVOb2RlKSA9PiB7XG4gICAgICAgICAgICAkYWRkVXBkYXRlVGFnKFwiaGlzdG9yeS1wdXNoXCIpO1xuICAgICAgICAgICAgdGFibGVOb2RlLnNlbGVjdE5leHQoKTtcbiAgICAgICAgICAgIHRhYmxlTm9kZS5yZW1vdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHRcIj5EZWxldGUgdGFibGU8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cblxuZnVuY3Rpb24gVGFibGVDZWxsKHtcbiAgY2VsbCxcbiAgY2VsbENvb3JkTWFwLFxuICBjZWxsRWRpdG9yLFxuICBpc0VkaXRpbmcsXG4gIGlzU2VsZWN0ZWQsXG4gIGlzUHJpbWFyeVNlbGVjdGVkLFxuICB0aGVtZSxcbiAgdXBkYXRlQ2VsbHNCeUlELFxuICB1cGRhdGVUYWJsZU5vZGUsXG4gIHJvd3MsXG4gIHNldFNvcnRpbmdPcHRpb25zLFxuICBzb3J0aW5nT3B0aW9uc1xufToge1xuICBjZWxsOiBDZWxsO1xuICBpc0VkaXRpbmc6IGJvb2xlYW47XG4gIGlzU2VsZWN0ZWQ6IGJvb2xlYW47XG4gIGlzUHJpbWFyeVNlbGVjdGVkOiBib29sZWFuO1xuICB0aGVtZTogRWRpdG9yVGhlbWVDbGFzc2VzO1xuICBjZWxsRWRpdG9yOiBMZXhpY2FsRWRpdG9yO1xuICB1cGRhdGVDZWxsc0J5SUQ6IChpZHM6IEFycmF5PHN0cmluZz4sIGZuOiAoKSA9PiB2b2lkKSA9PiB2b2lkO1xuICB1cGRhdGVUYWJsZU5vZGU6IChmbjI6ICh0YWJsZU5vZGU6IFRhYmxlTm9kZSkgPT4gdm9pZCkgPT4gdm9pZDtcbiAgY2VsbENvb3JkTWFwOiBNYXA8c3RyaW5nLCBbbnVtYmVyLCBudW1iZXJdPjtcbiAgcm93czogUm93cztcbiAgc2V0U29ydGluZ09wdGlvbnM6IChvcHRpb25zOiBudWxsIHwgU29ydE9wdGlvbnMpID0+IHZvaWQ7XG4gIHNvcnRpbmdPcHRpb25zOiBudWxsIHwgU29ydE9wdGlvbnM7XG59KSB7XG4gIGNvbnN0IFtzaG93TWVudSwgc2V0U2hvd01lbnVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBtZW51Um9vdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgaXNIZWFkZXIgPSBjZWxsLnR5cGUgIT09IFwibm9ybWFsXCI7XG4gIGNvbnN0IGVkaXRvclN0YXRlSlNPTiA9IGNlbGwuanNvbjtcbiAgY29uc3QgQ2VsbENvbXBvbmVudCA9IGlzSGVhZGVyID8gXCJ0aFwiIDogXCJ0ZFwiO1xuICBjb25zdCBjZWxsV2lkdGggPSBjZWxsLndpZHRoO1xuICBjb25zdCBtZW51RWxlbSA9IG1lbnVSb290UmVmLmN1cnJlbnQ7XG4gIGNvbnN0IGNvb3JkcyA9IGNlbGxDb29yZE1hcC5nZXQoY2VsbC5pZCk7XG4gIGNvbnN0IGlzU29ydGVkID1cbiAgICBzb3J0aW5nT3B0aW9ucyAhPT0gbnVsbCAmJlxuICAgIGNvb3JkcyAhPT0gdW5kZWZpbmVkICYmXG4gICAgY29vcmRzWzBdID09PSBzb3J0aW5nT3B0aW9ucy54ICYmXG4gICAgY29vcmRzWzFdID09PSAwO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlzRWRpdGluZyB8fCAhaXNQcmltYXJ5U2VsZWN0ZWQpIHtcbiAgICAgIHNldFNob3dNZW51KGZhbHNlKTtcbiAgICB9XG4gIH0sIFtpc0VkaXRpbmcsIGlzUHJpbWFyeVNlbGVjdGVkXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8Q2VsbENvbXBvbmVudFxuICAgICAgY2xhc3NOYW1lPXtgJHt0aGVtZS50YWJsZUNlbGx9ICR7aXNIZWFkZXIgPyB0aGVtZS50YWJsZUNlbGxIZWFkZXIgOiBcIlwifSAke1xuICAgICAgICBpc1NlbGVjdGVkID8gdGhlbWUudGFibGVDZWxsU2VsZWN0ZWQgOiBcIlwiXG4gICAgICB9YH1cbiAgICAgIGRhdGEtaWQ9e2NlbGwuaWR9XG4gICAgICB0YWJJbmRleD17LTF9XG4gICAgICBzdHlsZT17eyB3aWR0aDogY2VsbFdpZHRoICE9PSBudWxsID8gY2VsbFdpZHRoIDogdW5kZWZpbmVkIH19XG4gICAgPlxuICAgICAge2lzUHJpbWFyeVNlbGVjdGVkICYmIChcbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT17YCR7dGhlbWUudGFibGVDZWxsUHJpbWFyeVNlbGVjdGVkfSAke1xuICAgICAgICAgICAgaXNFZGl0aW5nID8gdGhlbWUudGFibGVDZWxsRWRpdGluZyA6IFwiXCJcbiAgICAgICAgICB9YH1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgICB7aXNQcmltYXJ5U2VsZWN0ZWQgJiYgaXNFZGl0aW5nID8gKFxuICAgICAgICA8VGFibGVDZWxsRWRpdG9yIGNlbGxFZGl0b3I9e2NlbGxFZGl0b3J9IC8+XG4gICAgICApIDogKFxuICAgICAgICA8PlxuICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7XG4gICAgICAgICAgICAgIF9faHRtbDpcbiAgICAgICAgICAgICAgICBlZGl0b3JTdGF0ZUpTT04gPT09IFwiXCJcbiAgICAgICAgICAgICAgICAgID8gY3JlYXRlRW1wdHlQYXJhZ3JhcGhIVE1MKHRoZW1lKVxuICAgICAgICAgICAgICAgICAgOiBnZW5lcmF0ZUhUTUxGcm9tSlNPTihlZGl0b3JTdGF0ZUpTT04sIGNlbGxFZGl0b3IpXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RoZW1lLnRhYmxlQ2VsbFJlc2l6ZXJ9IGRhdGEtdGFibGUtcmVzaXplPVwidHJ1ZVwiIC8+XG4gICAgICAgIDwvPlxuICAgICAgKX1cbiAgICAgIHtpc1ByaW1hcnlTZWxlY3RlZCAmJiAhaXNFZGl0aW5nICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RoZW1lLnRhYmxlQ2VsbEFjdGlvbkJ1dHRvbkNvbnRhaW5lcn0gcmVmPXttZW51Um9vdFJlZn0+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGVtZS50YWJsZUNlbGxBY3Rpb25CdXR0b259XG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICBzZXRTaG93TWVudSghc2hvd01lbnUpO1xuICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJjaGV2cm9uLWRvd25cIiAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG4gICAgICB7c2hvd01lbnUgJiZcbiAgICAgICAgbWVudUVsZW0gIT09IG51bGwgJiZcbiAgICAgICAgY3JlYXRlUG9ydGFsKFxuICAgICAgICAgIDxUYWJsZUFjdGlvbk1lbnVcbiAgICAgICAgICAgIGNlbGw9e2NlbGx9XG4gICAgICAgICAgICBtZW51RWxlbT17bWVudUVsZW19XG4gICAgICAgICAgICB1cGRhdGVDZWxsc0J5SUQ9e3VwZGF0ZUNlbGxzQnlJRH1cbiAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dNZW51KGZhbHNlKX1cbiAgICAgICAgICAgIHVwZGF0ZVRhYmxlTm9kZT17dXBkYXRlVGFibGVOb2RlfVxuICAgICAgICAgICAgY2VsbENvb3JkTWFwPXtjZWxsQ29vcmRNYXB9XG4gICAgICAgICAgICByb3dzPXtyb3dzfVxuICAgICAgICAgICAgc2V0U29ydGluZ09wdGlvbnM9e3NldFNvcnRpbmdPcHRpb25zfVxuICAgICAgICAgICAgc29ydGluZ09wdGlvbnM9e3NvcnRpbmdPcHRpb25zfVxuICAgICAgICAgIC8+LFxuICAgICAgICAgIGRvY3VtZW50LmJvZHlcbiAgICAgICAgKX1cbiAgICAgIHtpc1NvcnRlZCAmJiA8ZGl2IGNsYXNzTmFtZT17dGhlbWUudGFibGVDZWxsU29ydGVkSW5kaWNhdG9yfSAvPn1cbiAgICA8L0NlbGxDb21wb25lbnQ+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFRhYmxlQ29tcG9uZW50KHtcbiAgbm9kZUtleSxcbiAgcm93czogcmF3Um93cyxcbiAgdGhlbWVcbn06IHtcbiAgbm9kZUtleTogTm9kZUtleTtcbiAgcm93czogUm93cztcbiAgdGhlbWU6IEVkaXRvclRoZW1lQ2xhc3Nlcztcbn0pIHtcbiAgY29uc3QgW2lzU2VsZWN0ZWQsIHNldFNlbGVjdGVkLCBjbGVhclNlbGVjdGlvbl0gPSB1c2VMZXhpY2FsTm9kZVNlbGVjdGlvbihcbiAgICBub2RlS2V5XG4gICk7XG4gIGNvbnN0IHJlc2l6ZU1lYXN1cmVSZWYgPSB1c2VSZWY8eyBzaXplOiBudW1iZXI7IHBvaW50OiBudW1iZXIgfT4oe1xuICAgIHBvaW50OiAwLFxuICAgIHNpemU6IDBcbiAgfSk7XG4gIGNvbnN0IFtzb3J0aW5nT3B0aW9ucywgc2V0U29ydGluZ09wdGlvbnNdID0gdXNlU3RhdGU8bnVsbCB8IFNvcnRPcHRpb25zPihcbiAgICBudWxsXG4gICk7XG4gIGNvbnN0IGFkZFJvd3NSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGxhc3RDZWxsSURSZWYgPSB1c2VSZWY8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHRhYmxlUmVzaXplclJ1bGVyUmVmID0gdXNlUmVmPG51bGwgfCBIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHsgY2VsbEVkaXRvckNvbmZpZyB9ID0gdXNlQ29udGV4dChDZWxsQ29udGV4dCk7XG4gIGNvbnN0IFtpc0VkaXRpbmcsIHNldElzRWRpdGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93QWRkQ29sdW1ucywgc2V0U2hvd0FkZENvbHVtbnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd0FkZFJvd3MsIHNldFNob3dBZGRSb3dzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2VkaXRvcl0gPSB1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0KCk7XG4gIGNvbnN0IG1vdXNlRG93blJlZiA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IFtyZXNpemluZ0lELCBzZXRSZXNpemluZ0lEXSA9IHVzZVN0YXRlPG51bGwgfCBzdHJpbmc+KG51bGwpO1xuICBjb25zdCB0YWJsZVJlZiA9IHVzZVJlZjxudWxsIHwgSFRNTFRhYmxlRWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IGNlbGxDb29yZE1hcCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IG1hcCA9IG5ldyBNYXAoKTtcblxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgcmF3Um93cy5sZW5ndGg7IHkrKykge1xuICAgICAgY29uc3Qgcm93ID0gcmF3Um93c1t5XTtcbiAgICAgIGNvbnN0IGNlbGxzID0gcm93LmNlbGxzO1xuICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBjZWxscy5sZW5ndGg7IHgrKykge1xuICAgICAgICBjb25zdCBjZWxsID0gY2VsbHNbeF07XG4gICAgICAgIG1hcC5zZXQoY2VsbC5pZCwgW3gsIHldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hcDtcbiAgfSwgW3Jhd1Jvd3NdKTtcbiAgY29uc3Qgcm93cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChzb3J0aW5nT3B0aW9ucyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHJhd1Jvd3M7XG4gICAgfVxuICAgIGNvbnN0IF9yb3dzID0gcmF3Um93cy5zbGljZSgxKTtcbiAgICBfcm93cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBhQ2VsbHMgPSBhLmNlbGxzO1xuICAgICAgY29uc3QgYkNlbGxzID0gYi5jZWxscztcbiAgICAgIGNvbnN0IHggPSBzb3J0aW5nT3B0aW9ucy54O1xuICAgICAgY29uc3QgYUNvbnRlbnQgPSBjZWxsVGV4dENvbnRlbnRDYWNoZS5nZXQoYUNlbGxzW3hdLmpzb24pIHx8IFwiXCI7XG4gICAgICBjb25zdCBiQ29udGVudCA9IGNlbGxUZXh0Q29udGVudENhY2hlLmdldChiQ2VsbHNbeF0uanNvbikgfHwgXCJcIjtcbiAgICAgIGlmIChhQ29udGVudCA9PT0gXCJcIiB8fCBiQ29udGVudCA9PT0gXCJcIikge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIGlmIChzb3J0aW5nT3B0aW9ucy50eXBlID09PSBcImFzY2VuZGluZ1wiKSB7XG4gICAgICAgIHJldHVybiBhQ29udGVudC5sb2NhbGVDb21wYXJlKGJDb250ZW50KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiQ29udGVudC5sb2NhbGVDb21wYXJlKGFDb250ZW50KTtcbiAgICB9KTtcbiAgICBfcm93cy51bnNoaWZ0KHJhd1Jvd3NbMF0pO1xuICAgIHJldHVybiBfcm93cztcbiAgfSwgW3Jhd1Jvd3MsIHNvcnRpbmdPcHRpb25zXSk7XG4gIGNvbnN0IFtwcmltYXJ5U2VsZWN0ZWRDZWxsSUQsIHNldFByaW1hcnlTZWxlY3RlZENlbGxJRF0gPSB1c2VTdGF0ZTxcbiAgICBudWxsIHwgc3RyaW5nXG4gID4obnVsbCk7XG4gIGNvbnN0IGNlbGxFZGl0b3IgPSB1c2VNZW1vPG51bGwgfCBMZXhpY2FsRWRpdG9yPigoKSA9PiB7XG4gICAgaWYgKGNlbGxFZGl0b3JDb25maWcgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBfY2VsbEVkaXRvciA9IGNyZWF0ZUVkaXRvcih7XG4gICAgICBuYW1lc3BhY2U6IGNlbGxFZGl0b3JDb25maWcubmFtZXNwYWNlLFxuICAgICAgbm9kZXM6IGNlbGxFZGl0b3JDb25maWcubm9kZXMsXG4gICAgICBvbkVycm9yOiAoZXJyb3IpID0+IGNlbGxFZGl0b3JDb25maWcub25FcnJvcihlcnJvciwgX2NlbGxFZGl0b3IpLFxuICAgICAgdGhlbWU6IGNlbGxFZGl0b3JDb25maWcudGhlbWVcbiAgICB9KTtcbiAgICByZXR1cm4gX2NlbGxFZGl0b3I7XG4gIH0sIFtjZWxsRWRpdG9yQ29uZmlnXSk7XG4gIGNvbnN0IFtzZWxlY3RlZENlbGxJRHMsIHNldFNlbGVjdGVkQ2VsbElEc10gPSB1c2VTdGF0ZTxBcnJheTxzdHJpbmc+PihbXSk7XG4gIGNvbnN0IHNlbGVjdGVkQ2VsbFNldCA9IHVzZU1lbW88U2V0PHN0cmluZz4+KCgpID0+IG5ldyBTZXQoc2VsZWN0ZWRDZWxsSURzKSwgW1xuICAgIHNlbGVjdGVkQ2VsbElEc1xuICBdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHRhYmxlRWxlbSA9IHRhYmxlUmVmLmN1cnJlbnQ7XG4gICAgaWYgKFxuICAgICAgaXNTZWxlY3RlZCAmJlxuICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZG9jdW1lbnQuYm9keSAmJlxuICAgICAgdGFibGVFbGVtICE9PSBudWxsXG4gICAgKSB7XG4gICAgICB0YWJsZUVsZW0uZm9jdXMoKTtcbiAgICB9XG4gIH0sIFtpc1NlbGVjdGVkXSk7XG5cbiAgY29uc3QgdXBkYXRlVGFibGVOb2RlID0gdXNlQ2FsbGJhY2soXG4gICAgKGZuOiAodGFibGVOb2RlOiBUYWJsZU5vZGUpID0+IHZvaWQpID0+IHtcbiAgICAgIGVkaXRvci51cGRhdGUoKCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJsZU5vZGUgPSAkZ2V0Tm9kZUJ5S2V5KG5vZGVLZXkpO1xuICAgICAgICBpZiAoJGlzVGFibGVOb2RlKHRhYmxlTm9kZSkpIHtcbiAgICAgICAgICBmbih0YWJsZU5vZGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtlZGl0b3IsIG5vZGVLZXldXG4gICk7XG5cbiAgY29uc3QgYWRkQ29sdW1ucyA9ICgpID0+IHtcbiAgICB1cGRhdGVUYWJsZU5vZGUoKHRhYmxlTm9kZSkgPT4ge1xuICAgICAgJGFkZFVwZGF0ZVRhZyhcImhpc3RvcnktcHVzaFwiKTtcbiAgICAgIHRhYmxlTm9kZS5hZGRDb2x1bW5zKDEpO1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IGFkZFJvd3MgPSAoKSA9PiB7XG4gICAgdXBkYXRlVGFibGVOb2RlKCh0YWJsZU5vZGUpID0+IHtcbiAgICAgICRhZGRVcGRhdGVUYWcoXCJoaXN0b3J5LXB1c2hcIik7XG4gICAgICB0YWJsZU5vZGUuYWRkUm93cygxKTtcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBtb2RpZnlTZWxlY3RlZENlbGxzID0gdXNlQ2FsbGJhY2soXG4gICAgKHg6IG51bWJlciwgeTogbnVtYmVyLCBleHRlbmQ6IGJvb2xlYW4pID0+IHtcbiAgICAgIGNvbnN0IGlkID0gcm93c1t5XS5jZWxsc1t4XS5pZDtcbiAgICAgIGxhc3RDZWxsSURSZWYuY3VycmVudCA9IGlkO1xuICAgICAgaWYgKGV4dGVuZCkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZElEcyA9IGdldFNlbGVjdGVkSURzKFxuICAgICAgICAgIHJvd3MsXG4gICAgICAgICAgcHJpbWFyeVNlbGVjdGVkQ2VsbElEIGFzIHN0cmluZyxcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBjZWxsQ29vcmRNYXBcbiAgICAgICAgKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRDZWxsSURzKHNlbGVjdGVkSURzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFByaW1hcnlTZWxlY3RlZENlbGxJRChpZCk7XG4gICAgICAgIHNldFNlbGVjdGVkQ2VsbElEcyhOT19DRUxMUyk7XG4gICAgICAgIGZvY3VzQ2VsbCh0YWJsZVJlZi5jdXJyZW50IGFzIEhUTUxFbGVtZW50LCBpZCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbY2VsbENvb3JkTWFwLCBwcmltYXJ5U2VsZWN0ZWRDZWxsSUQsIHJvd3NdXG4gICk7XG5cbiAgY29uc3Qgc2F2ZUVkaXRvclRvSlNPTiA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoY2VsbEVkaXRvciAhPT0gbnVsbCAmJiBwcmltYXJ5U2VsZWN0ZWRDZWxsSUQgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IGpzb24gPSBKU09OLnN0cmluZ2lmeShjZWxsRWRpdG9yLmdldEVkaXRvclN0YXRlKCkpO1xuICAgICAgdXBkYXRlVGFibGVOb2RlKCh0YWJsZU5vZGUpID0+IHtcbiAgICAgICAgY29uc3QgY29vcmRzID0gY2VsbENvb3JkTWFwLmdldChwcmltYXJ5U2VsZWN0ZWRDZWxsSUQpO1xuICAgICAgICBpZiAoY29vcmRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgJGFkZFVwZGF0ZVRhZyhcImhpc3RvcnktcHVzaFwiKTtcbiAgICAgICAgY29uc3QgW3gsIHldID0gY29vcmRzO1xuICAgICAgICB0YWJsZU5vZGUudXBkYXRlQ2VsbEpTT04oeCwgeSwganNvbik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtjZWxsQ29vcmRNYXAsIGNlbGxFZGl0b3IsIHByaW1hcnlTZWxlY3RlZENlbGxJRCwgdXBkYXRlVGFibGVOb2RlXSk7XG5cbiAgY29uc3Qgc2VsZWN0VGFibGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zdCBwYXJlbnRSb290RWxlbWVudCA9IGVkaXRvci5nZXRSb290RWxlbWVudCgpO1xuICAgICAgaWYgKHBhcmVudFJvb3RFbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAgIHBhcmVudFJvb3RFbGVtZW50LmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTtcbiAgICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpPy5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgIH1cbiAgICB9LCAyMCk7XG4gIH0sIFtlZGl0b3JdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHRhYmxlRWxlbSA9IHRhYmxlUmVmLmN1cnJlbnQ7XG4gICAgaWYgKHRhYmxlRWxlbSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkb2MgPSBnZXRDdXJyZW50RG9jdW1lbnQoZWRpdG9yKTtcblxuICAgIGNvbnN0IGlzQXRFZGdlT2ZUYWJsZSA9IChldmVudDogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WCAtIHRhYmxlUmVjdC54O1xuICAgICAgY29uc3QgeSA9IGV2ZW50LmNsaWVudFkgLSB0YWJsZVJlY3QueTtcbiAgICAgIHJldHVybiB4IDwgNSB8fCB5IDwgNTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlUG9pbnRlckRvd24gPSAoZXZlbnQ6IFBvaW50ZXJFdmVudCkgPT4ge1xuICAgICAgY29uc3QgcG9zc2libGVJRCA9IGdldENlbGxJRChldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgaWYgKFxuICAgICAgICBwb3NzaWJsZUlEICE9PSBudWxsICYmXG4gICAgICAgIGVkaXRvci5pc0VkaXRhYmxlKCkgJiZcbiAgICAgICAgdGFibGVFbGVtLmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudClcbiAgICAgICkge1xuICAgICAgICBpZiAoaXNBdEVkZ2VPZlRhYmxlKGV2ZW50KSkge1xuICAgICAgICAgIHNldFNlbGVjdGVkKHRydWUpO1xuICAgICAgICAgIHNldFByaW1hcnlTZWxlY3RlZENlbGxJRChudWxsKTtcbiAgICAgICAgICBzZWxlY3RUYWJsZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRTZWxlY3RlZChmYWxzZSk7XG4gICAgICAgIGlmIChpc1N0YXJ0aW5nUmVzaXplKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudCkpIHtcbiAgICAgICAgICBzZXRSZXNpemluZ0lEKHBvc3NpYmxlSUQpO1xuICAgICAgICAgIHRhYmxlRWxlbS5zdHlsZS51c2VyU2VsZWN0ID0gXCJub25lXCI7XG4gICAgICAgICAgcmVzaXplTWVhc3VyZVJlZi5jdXJyZW50ID0ge1xuICAgICAgICAgICAgcG9pbnQ6IGV2ZW50LmNsaWVudFgsXG4gICAgICAgICAgICBzaXplOiBnZXRUYWJsZUNlbGxXaWR0aChldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbW91c2VEb3duUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICBpZiAocHJpbWFyeVNlbGVjdGVkQ2VsbElEICE9PSBwb3NzaWJsZUlEKSB7XG4gICAgICAgICAgaWYgKGlzRWRpdGluZykge1xuICAgICAgICAgICAgc2F2ZUVkaXRvclRvSlNPTigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRQcmltYXJ5U2VsZWN0ZWRDZWxsSUQocG9zc2libGVJRCk7XG4gICAgICAgICAgc2V0SXNFZGl0aW5nKGZhbHNlKTtcbiAgICAgICAgICBsYXN0Q2VsbElEUmVmLmN1cnJlbnQgPSBwb3NzaWJsZUlEO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3RDZWxsSURSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgc2V0U2VsZWN0ZWRDZWxsSURzKE5PX0NFTExTKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHByaW1hcnlTZWxlY3RlZENlbGxJRCAhPT0gbnVsbCAmJlxuICAgICAgICAhaXNUYXJnZXRPblBvc3NpYmxlVUlDb250cm9sKGV2ZW50LnRhcmdldCBhcyBIVE1MRWxlbWVudClcbiAgICAgICkge1xuICAgICAgICBzZXRTZWxlY3RlZChmYWxzZSk7XG4gICAgICAgIG1vdXNlRG93blJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIGlmIChpc0VkaXRpbmcpIHtcbiAgICAgICAgICBzYXZlRWRpdG9yVG9KU09OKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0UHJpbWFyeVNlbGVjdGVkQ2VsbElEKG51bGwpO1xuICAgICAgICBzZXRTZWxlY3RlZENlbGxJRHMoTk9fQ0VMTFMpO1xuICAgICAgICBzZXRJc0VkaXRpbmcoZmFsc2UpO1xuICAgICAgICBsYXN0Q2VsbElEUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB0YWJsZVJlY3QgPSB0YWJsZUVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBjb25zdCBoYW5kbGVQb2ludGVyTW92ZSA9IChldmVudDogUG9pbnRlckV2ZW50KSA9PiB7XG4gICAgICBpZiAocmVzaXppbmdJRCAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCB0YWJsZVJlc2l6ZXJSdWxlckVsZW0gPSB0YWJsZVJlc2l6ZXJSdWxlclJlZi5jdXJyZW50O1xuICAgICAgICBpZiAodGFibGVSZXNpemVyUnVsZXJFbGVtICE9PSBudWxsKSB7XG4gICAgICAgICAgY29uc3QgeyBzaXplLCBwb2ludCB9ID0gcmVzaXplTWVhc3VyZVJlZi5jdXJyZW50O1xuICAgICAgICAgIGNvbnN0IGRpZmYgPSBldmVudC5jbGllbnRYIC0gcG9pbnQ7XG4gICAgICAgICAgY29uc3QgbmV3V2lkdGggPSBzaXplICsgZGlmZjtcbiAgICAgICAgICBsZXQgeCA9IGV2ZW50LmNsaWVudFggLSB0YWJsZVJlY3QueDtcbiAgICAgICAgICBpZiAoeCA8IDEwKSB7XG4gICAgICAgICAgICB4ID0gMTA7XG4gICAgICAgICAgfSBlbHNlIGlmICh4ID4gdGFibGVSZWN0LndpZHRoIC0gMTApIHtcbiAgICAgICAgICAgIHggPSB0YWJsZVJlY3Qud2lkdGggLSAxMDtcbiAgICAgICAgICB9IGVsc2UgaWYgKG5ld1dpZHRoIDwgMjApIHtcbiAgICAgICAgICAgIHggPSBwb2ludCAtIHNpemUgKyAyMCAtIHRhYmxlUmVjdC54O1xuICAgICAgICAgIH1cbiAgICAgICAgICB0YWJsZVJlc2l6ZXJSdWxlckVsZW0uc3R5bGUubGVmdCA9IGAke3h9cHhgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghaXNFZGl0aW5nKSB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50WCwgY2xpZW50WSB9ID0gZXZlbnQ7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIHgsIHksIGhlaWdodCB9ID0gdGFibGVSZWN0O1xuICAgICAgICBjb25zdCBpc09uUmlnaHRFZGdlID1cbiAgICAgICAgICBjbGllbnRYID4geCArIHdpZHRoICogMC45ICYmXG4gICAgICAgICAgY2xpZW50WCA8IHggKyB3aWR0aCArIDQwICYmXG4gICAgICAgICAgIW1vdXNlRG93blJlZi5jdXJyZW50O1xuICAgICAgICBzZXRTaG93QWRkQ29sdW1ucyhpc09uUmlnaHRFZGdlKTtcbiAgICAgICAgY29uc3QgaXNPbkJvdHRvbUVkZ2UgPVxuICAgICAgICAgIGV2ZW50LnRhcmdldCA9PT0gYWRkUm93c1JlZi5jdXJyZW50IHx8XG4gICAgICAgICAgKGNsaWVudFkgPiB5ICsgaGVpZ2h0ICogMC44NSAmJlxuICAgICAgICAgICAgY2xpZW50WSA8IHkgKyBoZWlnaHQgKyA1ICYmXG4gICAgICAgICAgICAhbW91c2VEb3duUmVmLmN1cnJlbnQpO1xuICAgICAgICBzZXRTaG93QWRkUm93cyhpc09uQm90dG9tRWRnZSk7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIGlzRWRpdGluZyB8fFxuICAgICAgICAhbW91c2VEb3duUmVmLmN1cnJlbnQgfHxcbiAgICAgICAgcHJpbWFyeVNlbGVjdGVkQ2VsbElEID09PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcG9zc2libGVJRCA9IGdldENlbGxJRChldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgaWYgKHBvc3NpYmxlSUQgIT09IG51bGwgJiYgcG9zc2libGVJRCAhPT0gbGFzdENlbGxJRFJlZi5jdXJyZW50KSB7XG4gICAgICAgIGlmIChzZWxlY3RlZENlbGxJRHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGFibGVFbGVtLnN0eWxlLnVzZXJTZWxlY3QgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWxlY3RlZElEcyA9IGdldFNlbGVjdGVkSURzKFxuICAgICAgICAgIHJvd3MsXG4gICAgICAgICAgcHJpbWFyeVNlbGVjdGVkQ2VsbElELFxuICAgICAgICAgIHBvc3NpYmxlSUQsXG4gICAgICAgICAgY2VsbENvb3JkTWFwXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzZWxlY3RlZElEcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBzZXRTZWxlY3RlZENlbGxJRHMoTk9fQ0VMTFMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNldFNlbGVjdGVkQ2VsbElEcyhzZWxlY3RlZElEcyk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdENlbGxJRFJlZi5jdXJyZW50ID0gcG9zc2libGVJRDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlUG9pbnRlclVwID0gKGV2ZW50OiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICAgIGlmIChyZXNpemluZ0lEICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHsgc2l6ZSwgcG9pbnQgfSA9IHJlc2l6ZU1lYXN1cmVSZWYuY3VycmVudDtcbiAgICAgICAgY29uc3QgZGlmZiA9IGV2ZW50LmNsaWVudFggLSBwb2ludDtcbiAgICAgICAgbGV0IG5ld1dpZHRoID0gc2l6ZSArIGRpZmY7XG4gICAgICAgIGlmIChuZXdXaWR0aCA8IDEwKSB7XG4gICAgICAgICAgbmV3V2lkdGggPSAxMDtcbiAgICAgICAgfVxuICAgICAgICB1cGRhdGVUYWJsZU5vZGUoKHRhYmxlTm9kZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IFt4XSA9IGNlbGxDb29yZE1hcC5nZXQocmVzaXppbmdJRCkgYXMgW251bWJlciwgbnVtYmVyXTtcbiAgICAgICAgICAkYWRkVXBkYXRlVGFnKFwiaGlzdG9yeS1wdXNoXCIpO1xuICAgICAgICAgIHRhYmxlTm9kZS51cGRhdGVDb2x1bW5XaWR0aCh4LCBuZXdXaWR0aCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRSZXNpemluZ0lEKG51bGwpO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICB0YWJsZUVsZW0gIT09IG51bGwgJiZcbiAgICAgICAgc2VsZWN0ZWRDZWxsSURzLmxlbmd0aCA+IDEgJiZcbiAgICAgICAgbW91c2VEb3duUmVmLmN1cnJlbnRcbiAgICAgICkge1xuICAgICAgICB0YWJsZUVsZW0uc3R5bGUudXNlclNlbGVjdCA9IFwidGV4dFwiO1xuICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk/LnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgfVxuICAgICAgbW91c2VEb3duUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCBoYW5kbGVQb2ludGVyRG93bik7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCBoYW5kbGVQb2ludGVyTW92ZSk7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgaGFuZGxlUG9pbnRlclVwKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIGhhbmRsZVBvaW50ZXJEb3duKTtcbiAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgaGFuZGxlUG9pbnRlck1vdmUpO1xuICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgaGFuZGxlUG9pbnRlclVwKTtcbiAgICB9O1xuICB9LCBbXG4gICAgY2VsbEVkaXRvcixcbiAgICBlZGl0b3IsXG4gICAgaXNFZGl0aW5nLFxuICAgIHJvd3MsXG4gICAgc2F2ZUVkaXRvclRvSlNPTixcbiAgICBwcmltYXJ5U2VsZWN0ZWRDZWxsSUQsXG4gICAgc2VsZWN0ZWRDZWxsU2V0LFxuICAgIHNlbGVjdGVkQ2VsbElEcyxcbiAgICBjZWxsQ29vcmRNYXAsXG4gICAgcmVzaXppbmdJRCxcbiAgICB1cGRhdGVUYWJsZU5vZGUsXG4gICAgc2V0U2VsZWN0ZWQsXG4gICAgc2VsZWN0VGFibGVcbiAgXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzRWRpdGluZyAmJiBwcmltYXJ5U2VsZWN0ZWRDZWxsSUQgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IGRvYyA9IGdldEN1cnJlbnREb2N1bWVudChlZGl0b3IpO1xuXG4gICAgICBjb25zdCBsb2FkQ29udGVudEludG9DZWxsID0gKGNlbGw6IENlbGwgfCBudWxsKSA9PiB7XG4gICAgICAgIGlmIChjZWxsICE9PSBudWxsICYmIGNlbGxFZGl0b3IgIT09IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBlZGl0b3JTdGF0ZUpTT04gPSBjZWxsLmpzb247XG4gICAgICAgICAgY29uc3QgZWRpdG9yU3RhdGUgPSBjZWxsRWRpdG9yLnBhcnNlRWRpdG9yU3RhdGUoZWRpdG9yU3RhdGVKU09OKTtcbiAgICAgICAgICBjZWxsRWRpdG9yLnNldEVkaXRvclN0YXRlKGVkaXRvclN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY29uc3QgaGFuZGxlRGJsQ2xpY2sgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgcG9zc2libGVJRCA9IGdldENlbGxJRChldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgICBpZiAocG9zc2libGVJRCA9PT0gcHJpbWFyeVNlbGVjdGVkQ2VsbElEICYmIGVkaXRvci5pc0VkaXRhYmxlKCkpIHtcbiAgICAgICAgICBjb25zdCBjZWxsID0gZ2V0Q2VsbChyb3dzLCBwb3NzaWJsZUlELCBjZWxsQ29vcmRNYXApO1xuICAgICAgICAgIGxvYWRDb250ZW50SW50b0NlbGwoY2VsbCk7XG4gICAgICAgICAgc2V0SXNFZGl0aW5nKHRydWUpO1xuICAgICAgICAgIHNldFNlbGVjdGVkQ2VsbElEcyhOT19DRUxMUyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgICAgLy8gSWdub3JlIGFycm93IGtleXMsIGVzY2FwZSBvciB0YWJcbiAgICAgICAgY29uc3Qga2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBrZXlDb2RlID09PSAxNiB8fFxuICAgICAgICAgIGtleUNvZGUgPT09IDI3IHx8XG4gICAgICAgICAga2V5Q29kZSA9PT0gOSB8fFxuICAgICAgICAgIGtleUNvZGUgPT09IDM3IHx8XG4gICAgICAgICAga2V5Q29kZSA9PT0gMzggfHxcbiAgICAgICAgICBrZXlDb2RlID09PSAzOSB8fFxuICAgICAgICAgIGtleUNvZGUgPT09IDQwIHx8XG4gICAgICAgICAga2V5Q29kZSA9PT0gOCB8fFxuICAgICAgICAgIGtleUNvZGUgPT09IDQ2IHx8XG4gICAgICAgICAgIWVkaXRvci5pc0VkaXRhYmxlKClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrZXlDb2RlID09PSAxMykge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgICFpc0VkaXRpbmcgJiZcbiAgICAgICAgICBwcmltYXJ5U2VsZWN0ZWRDZWxsSUQgIT09IG51bGwgJiZcbiAgICAgICAgICBlZGl0b3IuZ2V0RWRpdG9yU3RhdGUoKS5yZWFkKCgpID0+ICRnZXRTZWxlY3Rpb24oKSA9PT0gbnVsbCkgJiZcbiAgICAgICAgICAoZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5jb250ZW50RWRpdGFibGUgIT09IFwidHJ1ZVwiXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChpc0NvcHkoa2V5Q29kZSwgZXZlbnQuc2hpZnRLZXksIGV2ZW50Lm1ldGFLZXksIGV2ZW50LmN0cmxLZXkpKSB7XG4gICAgICAgICAgICBlZGl0b3IuZGlzcGF0Y2hDb21tYW5kKENPUFlfQ09NTUFORCwgZXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNDdXQoa2V5Q29kZSwgZXZlbnQuc2hpZnRLZXksIGV2ZW50Lm1ldGFLZXksIGV2ZW50LmN0cmxLZXkpKSB7XG4gICAgICAgICAgICBlZGl0b3IuZGlzcGF0Y2hDb21tYW5kKENVVF9DT01NQU5ELCBldmVudCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc1Bhc3RlKGtleUNvZGUsIGV2ZW50LnNoaWZ0S2V5LCBldmVudC5tZXRhS2V5LCBldmVudC5jdHJsS2V5KSkge1xuICAgICAgICAgICAgZWRpdG9yLmRpc3BhdGNoQ29tbWFuZChQQVNURV9DT01NQU5ELCBldmVudCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC5tZXRhS2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuYWx0S2V5KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNlbGwgPSBnZXRDZWxsKHJvd3MsIHByaW1hcnlTZWxlY3RlZENlbGxJRCwgY2VsbENvb3JkTWFwKTtcbiAgICAgICAgbG9hZENvbnRlbnRJbnRvQ2VsbChjZWxsKTtcbiAgICAgICAgc2V0SXNFZGl0aW5nKHRydWUpO1xuICAgICAgICBzZXRTZWxlY3RlZENlbGxJRHMoTk9fQ0VMTFMpO1xuICAgICAgfTtcblxuICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCBoYW5kbGVEYmxDbGljayk7XG4gICAgICBkb2MuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIiwgaGFuZGxlRGJsQ2xpY2spO1xuICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bik7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW1xuICAgIGNlbGxFZGl0b3IsXG4gICAgZWRpdG9yLFxuICAgIGlzRWRpdGluZyxcbiAgICByb3dzLFxuICAgIHByaW1hcnlTZWxlY3RlZENlbGxJRCxcbiAgICBjZWxsQ29vcmRNYXBcbiAgXSk7XG5cbiAgY29uc3QgdXBkYXRlQ2VsbHNCeUlEID0gdXNlQ2FsbGJhY2soXG4gICAgKGlkczogQXJyYXk8c3RyaW5nPiwgZm46ICgpID0+IHZvaWQpID0+IHtcbiAgICAgICR1cGRhdGVDZWxscyhyb3dzLCBpZHMsIGNlbGxDb29yZE1hcCwgY2VsbEVkaXRvciwgdXBkYXRlVGFibGVOb2RlLCBmbik7XG4gICAgfSxcbiAgICBbY2VsbENvb3JkTWFwLCBjZWxsRWRpdG9yLCByb3dzLCB1cGRhdGVUYWJsZU5vZGVdXG4gICk7XG5cbiAgY29uc3QgY2xlYXJDZWxsc0NvbW1hbmQgPSB1c2VDYWxsYmFjaygoKTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKHByaW1hcnlTZWxlY3RlZENlbGxJRCAhPT0gbnVsbCAmJiAhaXNFZGl0aW5nKSB7XG4gICAgICB1cGRhdGVDZWxsc0J5SUQoW3ByaW1hcnlTZWxlY3RlZENlbGxJRCwgLi4uc2VsZWN0ZWRDZWxsSURzXSwgKCkgPT4ge1xuICAgICAgICBjb25zdCByb290ID0gJGdldFJvb3QoKTtcbiAgICAgICAgcm9vdC5jbGVhcigpO1xuICAgICAgICByb290LmFwcGVuZCgkY3JlYXRlUGFyYWdyYXBoTm9kZSgpKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICB1cGRhdGVUYWJsZU5vZGUoKHRhYmxlTm9kZSkgPT4ge1xuICAgICAgICAkYWRkVXBkYXRlVGFnKFwiaGlzdG9yeS1wdXNoXCIpO1xuICAgICAgICB0YWJsZU5vZGUuc2VsZWN0TmV4dCgpO1xuICAgICAgICB0YWJsZU5vZGUucmVtb3ZlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LCBbXG4gICAgaXNFZGl0aW5nLFxuICAgIGlzU2VsZWN0ZWQsXG4gICAgcHJpbWFyeVNlbGVjdGVkQ2VsbElELFxuICAgIHNlbGVjdGVkQ2VsbElEcyxcbiAgICB1cGRhdGVDZWxsc0J5SUQsXG4gICAgdXBkYXRlVGFibGVOb2RlXG4gIF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgdGFibGVFbGVtID0gdGFibGVSZWYuY3VycmVudDtcbiAgICBpZiAodGFibGVFbGVtID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY29weURhdGFUb0NsaXBib2FyZCA9IChcbiAgICAgIGV2ZW50OiBDbGlwYm9hcmRFdmVudCxcbiAgICAgIGh0bWxTdHJpbmc6IHN0cmluZyxcbiAgICAgIGxleGljYWxTdHJpbmc6IHN0cmluZyxcbiAgICAgIHBsYWluVGV4dFN0cmluZzogc3RyaW5nXG4gICAgKSA9PiB7XG4gICAgICBjb25zdCBjbGlwYm9hcmREYXRhID1cbiAgICAgICAgZXZlbnQgaW5zdGFuY2VvZiBLZXlib2FyZEV2ZW50ID8gbnVsbCA6IGV2ZW50LmNsaXBib2FyZERhdGE7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICBpZiAoY2xpcGJvYXJkRGF0YSAhPSBudWxsKSB7XG4gICAgICAgIGNsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHQvaHRtbFwiLCBodG1sU3RyaW5nKTtcbiAgICAgICAgY2xpcGJvYXJkRGF0YS5zZXREYXRhKFwidGV4dC9wbGFpblwiLCBwbGFpblRleHRTdHJpbmcpO1xuICAgICAgICBjbGlwYm9hcmREYXRhLnNldERhdGEoXCJhcHBsaWNhdGlvbi94LWxleGljYWwtZWRpdG9yXCIsIGxleGljYWxTdHJpbmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY2xpcGJvYXJkID0gbmF2aWdhdG9yLmNsaXBib2FyZDtcbiAgICAgICAgaWYgKGNsaXBib2FyZCAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gTW9zdCBicm93c2VycyBvbmx5IHN1cHBvcnQgYSBzaW5nbGUgaXRlbSBpbiB0aGUgY2xpcGJvYXJkIGF0IG9uZSB0aW1lLlxuICAgICAgICAgIC8vIFNvIHdlIG9wdGltaXplIGJ5IG9ubHkgcHV0dGluZyBpbiBIVE1MLlxuICAgICAgICAgIGNvbnN0IGRhdGEgPSBbXG4gICAgICAgICAgICBuZXcgQ2xpcGJvYXJkSXRlbSh7XG4gICAgICAgICAgICAgIFwidGV4dC9odG1sXCI6IG5ldyBCbG9iKFtodG1sU3RyaW5nIGFzIEJsb2JQYXJ0XSwge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dC9odG1sXCJcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgXTtcbiAgICAgICAgICBjbGlwYm9hcmQud3JpdGUoZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgZ2V0VHlwZUZyb21PYmplY3QgPSBhc3luYyAoXG4gICAgICBjbGlwYm9hcmREYXRhOiBEYXRhVHJhbnNmZXIgfCBDbGlwYm9hcmRJdGVtLFxuICAgICAgdHlwZTogc3RyaW5nXG4gICAgKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBjbGlwYm9hcmREYXRhIGluc3RhbmNlb2YgRGF0YVRyYW5zZmVyXG4gICAgICAgICAgPyBjbGlwYm9hcmREYXRhLmdldERhdGEodHlwZSlcbiAgICAgICAgICA6IGNsaXBib2FyZERhdGEgaW5zdGFuY2VvZiBDbGlwYm9hcmRJdGVtXG4gICAgICAgICAgPyBhd2FpdCAoYXdhaXQgY2xpcGJvYXJkRGF0YS5nZXRUeXBlKHR5cGUpKS50ZXh0KClcbiAgICAgICAgICA6IFwiXCI7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHBhc3RlQ29udGVudCA9IGFzeW5jIChldmVudDogQ2xpcGJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGxldCBjbGlwYm9hcmREYXRhOiBudWxsIHwgRGF0YVRyYW5zZmVyIHwgQ2xpcGJvYXJkSXRlbSA9XG4gICAgICAgIChldmVudCBpbnN0YW5jZW9mIElucHV0RXZlbnQgPyBudWxsIDogZXZlbnQuY2xpcGJvYXJkRGF0YSkgfHwgbnVsbDtcblxuICAgICAgaWYgKHByaW1hcnlTZWxlY3RlZENlbGxJRCAhPT0gbnVsbCAmJiBjZWxsRWRpdG9yICE9PSBudWxsKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKGNsaXBib2FyZERhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWQoKTtcbiAgICAgICAgICAgIGNsaXBib2FyZERhdGEgPSBpdGVtc1swXTtcbiAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgIC8vIE5PLU9QXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxleGljYWxTdHJpbmcgPVxuICAgICAgICAgIGNsaXBib2FyZERhdGEgIT09IG51bGxcbiAgICAgICAgICAgID8gYXdhaXQgZ2V0VHlwZUZyb21PYmplY3QoXG4gICAgICAgICAgICAgICAgY2xpcGJvYXJkRGF0YSxcbiAgICAgICAgICAgICAgICBcImFwcGxpY2F0aW9uL3gtbGV4aWNhbC1lZGl0b3JcIlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IFwiXCI7XG5cbiAgICAgICAgaWYgKGxleGljYWxTdHJpbmcpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IEpTT04ucGFyc2UobGV4aWNhbFN0cmluZyk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHBheWxvYWQubmFtZXNwYWNlID09PSBlZGl0b3IuX2NvbmZpZy5uYW1lc3BhY2UgJiZcbiAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheShwYXlsb2FkLm5vZGVzKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICR1cGRhdGVDZWxscyhcbiAgICAgICAgICAgICAgICByb3dzLFxuICAgICAgICAgICAgICAgIFtwcmltYXJ5U2VsZWN0ZWRDZWxsSURdLFxuICAgICAgICAgICAgICAgIGNlbGxDb29yZE1hcCxcbiAgICAgICAgICAgICAgICBjZWxsRWRpdG9yLFxuICAgICAgICAgICAgICAgIHVwZGF0ZVRhYmxlTm9kZSxcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCByb290ID0gJGdldFJvb3QoKTtcbiAgICAgICAgICAgICAgICAgIHJvb3QuY2xlYXIoKTtcbiAgICAgICAgICAgICAgICAgIHJvb3QuYXBwZW5kKCRjcmVhdGVQYXJhZ3JhcGhOb2RlKCkpO1xuICAgICAgICAgICAgICAgICAgcm9vdC5zZWxlY3RFbmQoKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gJGdlbmVyYXRlTm9kZXNGcm9tU2VyaWFsaXplZE5vZGVzKFxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLm5vZGVzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsID0gJGdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgaWYgKCRpc1JhbmdlU2VsZWN0aW9uKHNlbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgJGluc2VydEdlbmVyYXRlZE5vZGVzKGNlbGxFZGl0b3IsIG5vZGVzLCBzZWwpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGh0bWxTdHJpbmcgPVxuICAgICAgICAgIGNsaXBib2FyZERhdGEgIT09IG51bGxcbiAgICAgICAgICAgID8gYXdhaXQgZ2V0VHlwZUZyb21PYmplY3QoY2xpcGJvYXJkRGF0YSwgXCJ0ZXh0L2h0bWxcIilcbiAgICAgICAgICAgIDogXCJcIjtcblxuICAgICAgICBpZiAoaHRtbFN0cmluZykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICAgICAgICBjb25zdCBkb20gPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGh0bWxTdHJpbmcsIFwidGV4dC9odG1sXCIpO1xuICAgICAgICAgICAgY29uc3QgcG9zc2libGVUYWJsZUVsZW1lbnQgPSBkb20ucXVlcnlTZWxlY3RvcihcInRhYmxlXCIpO1xuXG4gICAgICAgICAgICBpZiAocG9zc2libGVUYWJsZUVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb25zdCBwYXN0ZVJvd3MgPSBleHRyYWN0Um93c0Zyb21IVE1MKHBvc3NpYmxlVGFibGVFbGVtZW50KTtcbiAgICAgICAgICAgICAgdXBkYXRlVGFibGVOb2RlKCh0YWJsZU5vZGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbeCwgeV0gPSBjZWxsQ29vcmRNYXAuZ2V0KHByaW1hcnlTZWxlY3RlZENlbGxJRCkgYXMgW1xuICAgICAgICAgICAgICAgICAgbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgbnVtYmVyXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAkYWRkVXBkYXRlVGFnKFwiaGlzdG9yeS1wdXNoXCIpO1xuICAgICAgICAgICAgICAgIHRhYmxlTm9kZS5tZXJnZVJvd3MoeCwgeSwgcGFzdGVSb3dzKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICR1cGRhdGVDZWxscyhcbiAgICAgICAgICAgICAgcm93cyxcbiAgICAgICAgICAgICAgW3ByaW1hcnlTZWxlY3RlZENlbGxJRF0sXG4gICAgICAgICAgICAgIGNlbGxDb29yZE1hcCxcbiAgICAgICAgICAgICAgY2VsbEVkaXRvcixcbiAgICAgICAgICAgICAgdXBkYXRlVGFibGVOb2RlLFxuICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdCA9ICRnZXRSb290KCk7XG4gICAgICAgICAgICAgICAgcm9vdC5jbGVhcigpO1xuICAgICAgICAgICAgICAgIHJvb3QuYXBwZW5kKCRjcmVhdGVQYXJhZ3JhcGhOb2RlKCkpO1xuICAgICAgICAgICAgICAgIHJvb3Quc2VsZWN0RW5kKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9kZXMgPSAkZ2VuZXJhdGVOb2Rlc0Zyb21ET00oZWRpdG9yLCBkb20pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbCA9ICRnZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoJGlzUmFuZ2VTZWxlY3Rpb24oc2VsKSkge1xuICAgICAgICAgICAgICAgICAgJGluc2VydEdlbmVyYXRlZE5vZGVzKGNlbGxFZGl0b3IsIG5vZGVzLCBzZWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE11bHRpLWxpbmUgcGxhaW4gdGV4dCBpbiByaWNoIHRleHQgbW9kZSBwYXN0ZWQgYXMgc2VwYXJhdGUgcGFyYWdyYXBoc1xuICAgICAgICAvLyBpbnN0ZWFkIG9mIHNpbmdsZSBwYXJhZ3JhcGggd2l0aCBsaW5lYnJlYWtzLlxuICAgICAgICBjb25zdCB0ZXh0ID1cbiAgICAgICAgICBjbGlwYm9hcmREYXRhICE9PSBudWxsXG4gICAgICAgICAgICA/IGF3YWl0IGdldFR5cGVGcm9tT2JqZWN0KGNsaXBib2FyZERhdGEsIFwidGV4dC9wbGFpblwiKVxuICAgICAgICAgICAgOiBcIlwiO1xuXG4gICAgICAgIGlmICh0ZXh0ICE9IG51bGwpIHtcbiAgICAgICAgICAkdXBkYXRlQ2VsbHMoXG4gICAgICAgICAgICByb3dzLFxuICAgICAgICAgICAgW3ByaW1hcnlTZWxlY3RlZENlbGxJRF0sXG4gICAgICAgICAgICBjZWxsQ29vcmRNYXAsXG4gICAgICAgICAgICBjZWxsRWRpdG9yLFxuICAgICAgICAgICAgdXBkYXRlVGFibGVOb2RlLFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCByb290ID0gJGdldFJvb3QoKTtcbiAgICAgICAgICAgICAgcm9vdC5jbGVhcigpO1xuICAgICAgICAgICAgICByb290LnNlbGVjdEVuZCgpO1xuICAgICAgICAgICAgICBjb25zdCBzZWwgPSAkZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgIGlmIChzZWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzZWwuaW5zZXJ0UmF3VGV4dCh0ZXh0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgY29weVByaW1hcnlDZWxsID0gKGV2ZW50OiBDbGlwYm9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKHByaW1hcnlTZWxlY3RlZENlbGxJRCAhPT0gbnVsbCAmJiBjZWxsRWRpdG9yICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGNlbGwgPSBnZXRDZWxsKHJvd3MsIHByaW1hcnlTZWxlY3RlZENlbGxJRCwgY2VsbENvb3JkTWFwKSBhcyBDZWxsO1xuICAgICAgICBjb25zdCBqc29uID0gY2VsbC5qc29uO1xuICAgICAgICBjb25zdCBodG1sU3RyaW5nID0gY2VsbEhUTUxDYWNoZS5nZXQoanNvbikgfHwgbnVsbDtcbiAgICAgICAgaWYgKGh0bWxTdHJpbmcgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWRpdG9yU3RhdGUgPSBjZWxsRWRpdG9yLnBhcnNlRWRpdG9yU3RhdGUoanNvbik7XG4gICAgICAgIGNvbnN0IHBsYWluVGV4dFN0cmluZyA9IGVkaXRvclN0YXRlLnJlYWQoKCkgPT5cbiAgICAgICAgICAkZ2V0Um9vdCgpLmdldFRleHRDb250ZW50KClcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgbGV4aWNhbFN0cmluZyA9IGVkaXRvclN0YXRlLnJlYWQoKCkgPT4ge1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICRnZW5lcmF0ZUpTT05Gcm9tU2VsZWN0ZWROb2RlcyhjZWxsRWRpdG9yLCBudWxsKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvcHlEYXRhVG9DbGlwYm9hcmQoZXZlbnQsIGh0bWxTdHJpbmcsIGxleGljYWxTdHJpbmcsIHBsYWluVGV4dFN0cmluZyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IGNvcHlDZWxsUmFuZ2UgPSAoZXZlbnQ6IENsaXBib2FyZEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBsYXN0Q2VsbElEID0gbGFzdENlbGxJRFJlZi5jdXJyZW50O1xuICAgICAgaWYgKFxuICAgICAgICBwcmltYXJ5U2VsZWN0ZWRDZWxsSUQgIT09IG51bGwgJiZcbiAgICAgICAgY2VsbEVkaXRvciAhPT0gbnVsbCAmJlxuICAgICAgICBsYXN0Q2VsbElEICE9PSBudWxsXG4gICAgICApIHtcbiAgICAgICAgY29uc3QgcmVjdCA9IGdldFNlbGVjdGVkUmVjdChcbiAgICAgICAgICBwcmltYXJ5U2VsZWN0ZWRDZWxsSUQsXG4gICAgICAgICAgbGFzdENlbGxJRCxcbiAgICAgICAgICBjZWxsQ29vcmRNYXBcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHJlY3QgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZG9tID0gZXhwb3J0VGFibGVDZWxsc1RvSFRNTChyb3dzLCByZWN0KTtcbiAgICAgICAgY29uc3QgaHRtbFN0cmluZyA9IGRvbS5vdXRlckhUTUw7XG4gICAgICAgIGNvbnN0IHBsYWluVGV4dFN0cmluZyA9IGRvbS5vdXRlclRleHQ7XG4gICAgICAgIGNvbnN0IHRhYmxlTm9kZUpTT04gPSBlZGl0b3IuZ2V0RWRpdG9yU3RhdGUoKS5yZWFkKCgpID0+IHtcbiAgICAgICAgICBjb25zdCB0YWJsZU5vZGUgPSAkZ2V0Tm9kZUJ5S2V5KG5vZGVLZXkpIGFzIFRhYmxlTm9kZTtcbiAgICAgICAgICByZXR1cm4gdGFibGVOb2RlLmV4cG9ydEpTT04oKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRhYmxlTm9kZUpTT04ucm93cyA9IGV4dHJhY3RDZWxsc0Zyb21Sb3dzKHJvd3MsIHJlY3QpO1xuICAgICAgICBjb25zdCBsZXhpY2FsSlNPTiA9IHtcbiAgICAgICAgICBuYW1lc3BhY2U6IGNlbGxFZGl0b3IuX2NvbmZpZy5uYW1lc3BhY2UsXG4gICAgICAgICAgbm9kZXM6IFt0YWJsZU5vZGVKU09OXVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBsZXhpY2FsU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkobGV4aWNhbEpTT04pO1xuICAgICAgICBjb3B5RGF0YVRvQ2xpcGJvYXJkKGV2ZW50LCBodG1sU3RyaW5nLCBsZXhpY2FsU3RyaW5nLCBwbGFpblRleHRTdHJpbmcpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVQYXN0ZSA9IChcbiAgICAgIGV2ZW50OiBDbGlwYm9hcmRFdmVudCxcbiAgICAgIGFjdGl2ZUVkaXRvcjogTGV4aWNhbEVkaXRvclxuICAgICkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0aW9uID0gJGdldFNlbGVjdGlvbigpO1xuICAgICAgaWYgKFxuICAgICAgICBwcmltYXJ5U2VsZWN0ZWRDZWxsSUQgIT09IG51bGwgJiZcbiAgICAgICAgIWlzRWRpdGluZyAmJlxuICAgICAgICBzZWxlY3Rpb24gPT09IG51bGwgJiZcbiAgICAgICAgYWN0aXZlRWRpdG9yID09PSBlZGl0b3JcbiAgICAgICkge1xuICAgICAgICBwYXN0ZUNvbnRlbnQoZXZlbnQpO1xuICAgICAgICBtb3VzZURvd25SZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICBzZXRTZWxlY3RlZENlbGxJRHMoTk9fQ0VMTFMpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgY29uc3QgaGFuZGxlQ29weSA9IChldmVudDogQ2xpcGJvYXJkRXZlbnQsIGFjdGl2ZUVkaXRvcjogTGV4aWNhbEVkaXRvcikgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0aW9uID0gJGdldFNlbGVjdGlvbigpO1xuICAgICAgaWYgKFxuICAgICAgICBwcmltYXJ5U2VsZWN0ZWRDZWxsSUQgIT09IG51bGwgJiZcbiAgICAgICAgIWlzRWRpdGluZyAmJlxuICAgICAgICBzZWxlY3Rpb24gPT09IG51bGwgJiZcbiAgICAgICAgYWN0aXZlRWRpdG9yID09PSBlZGl0b3JcbiAgICAgICkge1xuICAgICAgICBpZiAoc2VsZWN0ZWRDZWxsSURzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNvcHlQcmltYXJ5Q2VsbChldmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29weUNlbGxSYW5nZShldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIHJldHVybiBtZXJnZVJlZ2lzdGVyKFxuICAgICAgZWRpdG9yLnJlZ2lzdGVyQ29tbWFuZChcbiAgICAgICAgQ0xJQ0tfQ09NTUFORCxcbiAgICAgICAgKHBheWxvYWQpID0+IHtcbiAgICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSAkZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgaWYgKCRpc05vZGVTZWxlY3Rpb24oc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgQ09NTUFORF9QUklPUklUWV9MT1dcbiAgICAgICksXG4gICAgICBlZGl0b3IucmVnaXN0ZXJDb21tYW5kPENsaXBib2FyZEV2ZW50PihcbiAgICAgICAgUEFTVEVfQ09NTUFORCxcbiAgICAgICAgaGFuZGxlUGFzdGUsXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XXG4gICAgICApLFxuICAgICAgZWRpdG9yLnJlZ2lzdGVyQ29tbWFuZDxDbGlwYm9hcmRFdmVudD4oXG4gICAgICAgIENPUFlfQ09NTUFORCxcbiAgICAgICAgaGFuZGxlQ29weSxcbiAgICAgICAgQ09NTUFORF9QUklPUklUWV9MT1dcbiAgICAgICksXG4gICAgICBlZGl0b3IucmVnaXN0ZXJDb21tYW5kPENsaXBib2FyZEV2ZW50PihcbiAgICAgICAgQ1VUX0NPTU1BTkQsXG4gICAgICAgIChldmVudDogQ2xpcGJvYXJkRXZlbnQsIGFjdGl2ZUVkaXRvcikgPT4ge1xuICAgICAgICAgIGlmIChoYW5kbGVDb3B5KGV2ZW50LCBhY3RpdmVFZGl0b3IpKSB7XG4gICAgICAgICAgICBjbGVhckNlbGxzQ29tbWFuZCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgQ09NTUFORF9QUklPUklUWV9MT1dcbiAgICAgICksXG4gICAgICBlZGl0b3IucmVnaXN0ZXJDb21tYW5kPEtleWJvYXJkRXZlbnQ+KFxuICAgICAgICBLRVlfQkFDS1NQQUNFX0NPTU1BTkQsXG4gICAgICAgIGNsZWFyQ2VsbHNDb21tYW5kLFxuICAgICAgICBDT01NQU5EX1BSSU9SSVRZX0xPV1xuICAgICAgKSxcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQ8S2V5Ym9hcmRFdmVudD4oXG4gICAgICAgIEtFWV9ERUxFVEVfQ09NTUFORCxcbiAgICAgICAgY2xlYXJDZWxsc0NvbW1hbmQsXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XXG4gICAgICApLFxuICAgICAgZWRpdG9yLnJlZ2lzdGVyQ29tbWFuZDxUZXh0Rm9ybWF0VHlwZT4oXG4gICAgICAgIEZPUk1BVF9URVhUX0NPTU1BTkQsXG4gICAgICAgIChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgaWYgKHByaW1hcnlTZWxlY3RlZENlbGxJRCAhPT0gbnVsbCAmJiAhaXNFZGl0aW5nKSB7XG4gICAgICAgICAgICAkdXBkYXRlQ2VsbHMoXG4gICAgICAgICAgICAgIHJvd3MsXG4gICAgICAgICAgICAgIFtwcmltYXJ5U2VsZWN0ZWRDZWxsSUQsIC4uLnNlbGVjdGVkQ2VsbElEc10sXG4gICAgICAgICAgICAgIGNlbGxDb29yZE1hcCxcbiAgICAgICAgICAgICAgY2VsbEVkaXRvcixcbiAgICAgICAgICAgICAgdXBkYXRlVGFibGVOb2RlLFxuICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsID0gJGNyZWF0ZVNlbGVjdEFsbCgpO1xuICAgICAgICAgICAgICAgIHNlbC5mb3JtYXRUZXh0KHBheWxvYWQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgQ09NTUFORF9QUklPUklUWV9MT1dcbiAgICAgICksXG4gICAgICBlZGl0b3IucmVnaXN0ZXJDb21tYW5kPEtleWJvYXJkRXZlbnQ+KFxuICAgICAgICBLRVlfRU5URVJfQ09NTUFORCxcbiAgICAgICAgKGV2ZW50LCB0YXJnZXRFZGl0b3IpID0+IHtcbiAgICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSAkZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcHJpbWFyeVNlbGVjdGVkQ2VsbElEID09PSBudWxsICYmXG4gICAgICAgICAgICAhaXNFZGl0aW5nICYmXG4gICAgICAgICAgICAkaXNOb2RlU2VsZWN0aW9uKHNlbGVjdGlvbikgJiZcbiAgICAgICAgICAgIHNlbGVjdGlvbi5oYXMobm9kZUtleSkgJiZcbiAgICAgICAgICAgIHNlbGVjdGlvbi5nZXROb2RlcygpLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgICAgICAgdGFyZ2V0RWRpdG9yID09PSBlZGl0b3JcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0Q2VsbElEID0gcm93c1swXS5jZWxsc1swXS5pZDtcbiAgICAgICAgICAgIHNldFByaW1hcnlTZWxlY3RlZENlbGxJRChmaXJzdENlbGxJRCk7XG4gICAgICAgICAgICBmb2N1c0NlbGwodGFibGVFbGVtLCBmaXJzdENlbGxJRCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBjbGVhclNlbGVjdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgQ09NTUFORF9QUklPUklUWV9MT1dcbiAgICAgICksXG4gICAgICBlZGl0b3IucmVnaXN0ZXJDb21tYW5kPEtleWJvYXJkRXZlbnQ+KFxuICAgICAgICBLRVlfVEFCX0NPTU1BTkQsXG4gICAgICAgIChldmVudCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9ICRnZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXNFZGl0aW5nICYmXG4gICAgICAgICAgICBzZWxlY3Rpb24gPT09IG51bGwgJiZcbiAgICAgICAgICAgIHByaW1hcnlTZWxlY3RlZENlbGxJRCAhPT0gbnVsbFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgaXNCYWNrd2FyZCA9IGV2ZW50LnNoaWZ0S2V5O1xuICAgICAgICAgICAgY29uc3QgW3gsIHldID0gY2VsbENvb3JkTWFwLmdldChwcmltYXJ5U2VsZWN0ZWRDZWxsSUQpIGFzIFtcbiAgICAgICAgICAgICAgbnVtYmVyLFxuICAgICAgICAgICAgICBudW1iZXJcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgbGV0IG5leHRYID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBuZXh0WSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoeCA9PT0gMCAmJiBpc0JhY2t3YXJkKSB7XG4gICAgICAgICAgICAgIGlmICh5ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbmV4dFkgPSB5IC0gMTtcbiAgICAgICAgICAgICAgICBuZXh0WCA9IHJvd3NbbmV4dFldLmNlbGxzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeCA9PT0gcm93c1t5XS5jZWxscy5sZW5ndGggLSAxICYmICFpc0JhY2t3YXJkKSB7XG4gICAgICAgICAgICAgIGlmICh5ICE9PSByb3dzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBuZXh0WSA9IHkgKyAxO1xuICAgICAgICAgICAgICAgIG5leHRYID0gMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmICghaXNCYWNrd2FyZCkge1xuICAgICAgICAgICAgICBuZXh0WCA9IHggKyAxO1xuICAgICAgICAgICAgICBuZXh0WSA9IHk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXh0WCA9IHggLSAxO1xuICAgICAgICAgICAgICBuZXh0WSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dFggIT09IG51bGwgJiYgbmV4dFkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgbW9kaWZ5U2VsZWN0ZWRDZWxscyhuZXh0WCwgbmV4dFksIGZhbHNlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgQ09NTUFORF9QUklPUklUWV9MT1dcbiAgICAgICksXG4gICAgICBlZGl0b3IucmVnaXN0ZXJDb21tYW5kPEtleWJvYXJkRXZlbnQ+KFxuICAgICAgICBLRVlfQVJST1dfVVBfQ09NTUFORCxcbiAgICAgICAgKGV2ZW50LCB0YXJnZXRFZGl0b3IpID0+IHtcbiAgICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSAkZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgaWYgKCFpc0VkaXRpbmcgJiYgc2VsZWN0aW9uID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBleHRlbmQgPSBldmVudC5zaGlmdEtleTtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxJRCA9IGV4dGVuZFxuICAgICAgICAgICAgICA/IGxhc3RDZWxsSURSZWYuY3VycmVudCB8fCBwcmltYXJ5U2VsZWN0ZWRDZWxsSURcbiAgICAgICAgICAgICAgOiBwcmltYXJ5U2VsZWN0ZWRDZWxsSUQ7XG4gICAgICAgICAgICBpZiAoY2VsbElEICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGNvbnN0IFt4LCB5XSA9IGNlbGxDb29yZE1hcC5nZXQoY2VsbElEKSBhcyBbbnVtYmVyLCBudW1iZXJdO1xuICAgICAgICAgICAgICBpZiAoeSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIG1vZGlmeVNlbGVjdGVkQ2VsbHMoeCwgeSAtIDEsIGV4dGVuZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEkaXNSYW5nZVNlbGVjdGlvbihzZWxlY3Rpb24pIHx8IHRhcmdldEVkaXRvciAhPT0gY2VsbEVkaXRvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBzZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSAmJlxuICAgICAgICAgICAgc2VsZWN0aW9uLmFuY2hvclxuICAgICAgICAgICAgICAuZ2V0Tm9kZSgpXG4gICAgICAgICAgICAgIC5nZXRUb3BMZXZlbEVsZW1lbnRPclRocm93KClcbiAgICAgICAgICAgICAgLmdldFByZXZpb3VzU2libGluZygpID09PSBudWxsXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgQ09NTUFORF9QUklPUklUWV9MT1dcbiAgICAgICksXG4gICAgICBlZGl0b3IucmVnaXN0ZXJDb21tYW5kPEtleWJvYXJkRXZlbnQ+KFxuICAgICAgICBLRVlfQVJST1dfRE9XTl9DT01NQU5ELFxuICAgICAgICAoZXZlbnQsIHRhcmdldEVkaXRvcikgPT4ge1xuICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9ICRnZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICBpZiAoIWlzRWRpdGluZyAmJiBzZWxlY3Rpb24gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4dGVuZCA9IGV2ZW50LnNoaWZ0S2V5O1xuICAgICAgICAgICAgY29uc3QgY2VsbElEID0gZXh0ZW5kXG4gICAgICAgICAgICAgID8gbGFzdENlbGxJRFJlZi5jdXJyZW50IHx8IHByaW1hcnlTZWxlY3RlZENlbGxJRFxuICAgICAgICAgICAgICA6IHByaW1hcnlTZWxlY3RlZENlbGxJRDtcbiAgICAgICAgICAgIGlmIChjZWxsSUQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc3QgW3gsIHldID0gY2VsbENvb3JkTWFwLmdldChjZWxsSUQpIGFzIFtudW1iZXIsIG51bWJlcl07XG4gICAgICAgICAgICAgIGlmICh5ICE9PSByb3dzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBtb2RpZnlTZWxlY3RlZENlbGxzKHgsIHkgKyAxLCBleHRlbmQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghJGlzUmFuZ2VTZWxlY3Rpb24oc2VsZWN0aW9uKSB8fCB0YXJnZXRFZGl0b3IgIT09IGNlbGxFZGl0b3IpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkgJiZcbiAgICAgICAgICAgIHNlbGVjdGlvbi5hbmNob3JcbiAgICAgICAgICAgICAgLmdldE5vZGUoKVxuICAgICAgICAgICAgICAuZ2V0VG9wTGV2ZWxFbGVtZW50T3JUaHJvdygpXG4gICAgICAgICAgICAgIC5nZXROZXh0U2libGluZygpID09PSBudWxsXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgQ09NTUFORF9QUklPUklUWV9MT1dcbiAgICAgICksXG4gICAgICBlZGl0b3IucmVnaXN0ZXJDb21tYW5kPEtleWJvYXJkRXZlbnQ+KFxuICAgICAgICBLRVlfQVJST1dfTEVGVF9DT01NQU5ELFxuICAgICAgICAoZXZlbnQsIHRhcmdldEVkaXRvcikgPT4ge1xuICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9ICRnZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICBpZiAoIWlzRWRpdGluZyAmJiBzZWxlY3Rpb24gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGV4dGVuZCA9IGV2ZW50LnNoaWZ0S2V5O1xuICAgICAgICAgICAgY29uc3QgY2VsbElEID0gZXh0ZW5kXG4gICAgICAgICAgICAgID8gbGFzdENlbGxJRFJlZi5jdXJyZW50IHx8IHByaW1hcnlTZWxlY3RlZENlbGxJRFxuICAgICAgICAgICAgICA6IHByaW1hcnlTZWxlY3RlZENlbGxJRDtcbiAgICAgICAgICAgIGlmIChjZWxsSUQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc3QgW3gsIHldID0gY2VsbENvb3JkTWFwLmdldChjZWxsSUQpIGFzIFtudW1iZXIsIG51bWJlcl07XG4gICAgICAgICAgICAgIGlmICh4ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbW9kaWZ5U2VsZWN0ZWRDZWxscyh4IC0gMSwgeSwgZXh0ZW5kKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoISRpc1JhbmdlU2VsZWN0aW9uKHNlbGVjdGlvbikgfHwgdGFyZ2V0RWRpdG9yICE9PSBjZWxsRWRpdG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSAmJiBzZWxlY3Rpb24uYW5jaG9yLm9mZnNldCA9PT0gMCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XXG4gICAgICApLFxuICAgICAgZWRpdG9yLnJlZ2lzdGVyQ29tbWFuZDxLZXlib2FyZEV2ZW50PihcbiAgICAgICAgS0VZX0FSUk9XX1JJR0hUX0NPTU1BTkQsXG4gICAgICAgIChldmVudCwgdGFyZ2V0RWRpdG9yKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gJGdldFNlbGVjdGlvbigpO1xuICAgICAgICAgIGlmICghaXNFZGl0aW5nICYmIHNlbGVjdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgZXh0ZW5kID0gZXZlbnQuc2hpZnRLZXk7XG4gICAgICAgICAgICBjb25zdCBjZWxsSUQgPSBleHRlbmRcbiAgICAgICAgICAgICAgPyBsYXN0Q2VsbElEUmVmLmN1cnJlbnQgfHwgcHJpbWFyeVNlbGVjdGVkQ2VsbElEXG4gICAgICAgICAgICAgIDogcHJpbWFyeVNlbGVjdGVkQ2VsbElEO1xuICAgICAgICAgICAgaWYgKGNlbGxJRCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb25zdCBbeCwgeV0gPSBjZWxsQ29vcmRNYXAuZ2V0KGNlbGxJRCkgYXMgW251bWJlciwgbnVtYmVyXTtcbiAgICAgICAgICAgICAgaWYgKHggIT09IHJvd3NbeV0uY2VsbHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIG1vZGlmeVNlbGVjdGVkQ2VsbHMoeCArIDEsIHksIGV4dGVuZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEkaXNSYW5nZVNlbGVjdGlvbihzZWxlY3Rpb24pIHx8IHRhcmdldEVkaXRvciAhPT0gY2VsbEVkaXRvcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvciA9IHNlbGVjdGlvbi5hbmNob3I7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChhbmNob3IudHlwZSA9PT0gXCJ0ZXh0XCIgJiZcbiAgICAgICAgICAgICAgICBhbmNob3Iub2Zmc2V0ID09PSBhbmNob3IuZ2V0Tm9kZSgpLmdldFRleHRDb250ZW50U2l6ZSgpKSB8fFxuICAgICAgICAgICAgICAoYW5jaG9yLnR5cGUgPT09IFwiZWxlbWVudFwiICYmXG4gICAgICAgICAgICAgICAgYW5jaG9yLm9mZnNldCA9PT0gYW5jaG9yLmdldE5vZGUoKS5nZXRDaGlsZHJlblNpemUoKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBDT01NQU5EX1BSSU9SSVRZX0xPV1xuICAgICAgKSxcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQ8S2V5Ym9hcmRFdmVudD4oXG4gICAgICAgIEtFWV9FU0NBUEVfQ09NTUFORCxcbiAgICAgICAgKGV2ZW50LCB0YXJnZXRFZGl0b3IpID0+IHtcbiAgICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSAkZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgaWYgKCFpc0VkaXRpbmcgJiYgc2VsZWN0aW9uID09PSBudWxsICYmIHRhcmdldEVkaXRvciA9PT0gZWRpdG9yKSB7XG4gICAgICAgICAgICBzZXRTZWxlY3RlZCh0cnVlKTtcbiAgICAgICAgICAgIHNldFByaW1hcnlTZWxlY3RlZENlbGxJRChudWxsKTtcbiAgICAgICAgICAgIHNlbGVjdFRhYmxlKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCEkaXNSYW5nZVNlbGVjdGlvbihzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0VkaXRpbmcpIHtcbiAgICAgICAgICAgIHNhdmVFZGl0b3JUb0pTT04oKTtcbiAgICAgICAgICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gICAgICAgICAgICBpZiAocHJpbWFyeVNlbGVjdGVkQ2VsbElEICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZvY3VzQ2VsbCh0YWJsZUVsZW0sIHByaW1hcnlTZWxlY3RlZENlbGxJRCk7XG4gICAgICAgICAgICAgIH0sIDIwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XXG4gICAgICApXG4gICAgKTtcbiAgfSwgW1xuICAgIGNlbGxDb29yZE1hcCxcbiAgICBjZWxsRWRpdG9yLFxuICAgIGNsZWFyQ2VsbHNDb21tYW5kLFxuICAgIGNsZWFyU2VsZWN0aW9uLFxuICAgIGVkaXRvcixcbiAgICBpc0VkaXRpbmcsXG4gICAgbW9kaWZ5U2VsZWN0ZWRDZWxscyxcbiAgICBub2RlS2V5LFxuICAgIHByaW1hcnlTZWxlY3RlZENlbGxJRCxcbiAgICByb3dzLFxuICAgIHNhdmVFZGl0b3JUb0pTT04sXG4gICAgc2VsZWN0VGFibGUsXG4gICAgc2VsZWN0ZWRDZWxsSURzLFxuICAgIHNldFNlbGVjdGVkLFxuICAgIHVwZGF0ZVRhYmxlTm9kZVxuICBdKTtcblxuICBpZiAoY2VsbEVkaXRvciA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiIH19PlxuICAgICAgPHRhYmxlXG4gICAgICAgIGNsYXNzTmFtZT17YCR7dGhlbWUudGFibGV9ICR7aXNTZWxlY3RlZCA/IHRoZW1lLnRhYmxlU2VsZWN0ZWQgOiBcIlwifWB9XG4gICAgICAgIHJlZj17dGFibGVSZWZ9XG4gICAgICAgIHRhYkluZGV4PXstMX1cbiAgICAgID5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgIHtyb3dzLm1hcCgocm93KSA9PiAoXG4gICAgICAgICAgICA8dHIga2V5PXtyb3cuaWR9IGNsYXNzTmFtZT17dGhlbWUudGFibGVSb3d9PlxuICAgICAgICAgICAgICB7cm93LmNlbGxzLm1hcCgoY2VsbCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgaWQgfSA9IGNlbGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGxcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpZH1cbiAgICAgICAgICAgICAgICAgICAgY2VsbD17Y2VsbH1cbiAgICAgICAgICAgICAgICAgICAgdGhlbWU9e3RoZW1lfVxuICAgICAgICAgICAgICAgICAgICBpc1NlbGVjdGVkPXtzZWxlY3RlZENlbGxTZXQuaGFzKGlkKX1cbiAgICAgICAgICAgICAgICAgICAgaXNQcmltYXJ5U2VsZWN0ZWQ9e3ByaW1hcnlTZWxlY3RlZENlbGxJRCA9PT0gaWR9XG4gICAgICAgICAgICAgICAgICAgIGlzRWRpdGluZz17aXNFZGl0aW5nfVxuICAgICAgICAgICAgICAgICAgICBzb3J0aW5nT3B0aW9ucz17c29ydGluZ09wdGlvbnN9XG4gICAgICAgICAgICAgICAgICAgIGNlbGxFZGl0b3I9e2NlbGxFZGl0b3J9XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNlbGxzQnlJRD17dXBkYXRlQ2VsbHNCeUlEfVxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVUYWJsZU5vZGU9e3VwZGF0ZVRhYmxlTm9kZX1cbiAgICAgICAgICAgICAgICAgICAgY2VsbENvb3JkTWFwPXtjZWxsQ29vcmRNYXB9XG4gICAgICAgICAgICAgICAgICAgIHJvd3M9e3Jvd3N9XG4gICAgICAgICAgICAgICAgICAgIHNldFNvcnRpbmdPcHRpb25zPXtzZXRTb3J0aW5nT3B0aW9uc31cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICAgIHtzaG93QWRkQ29sdW1ucyAmJiAoXG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPXt0aGVtZS50YWJsZUFkZENvbHVtbnN9IG9uQ2xpY2s9e2FkZENvbHVtbnN9IC8+XG4gICAgICApfVxuICAgICAge3Nob3dBZGRSb3dzICYmIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT17dGhlbWUudGFibGVBZGRSb3dzfVxuICAgICAgICAgIG9uQ2xpY2s9e2FkZFJvd3N9XG4gICAgICAgICAgcmVmPXthZGRSb3dzUmVmfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIHtyZXNpemluZ0lEICE9PSBudWxsICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e3RoZW1lLnRhYmxlUmVzaXplUnVsZXJ9IHJlZj17dGFibGVSZXNpemVyUnVsZXJSZWZ9IC8+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sIm5hbWVzIjpbIiRnZW5lcmF0ZUpTT05Gcm9tU2VsZWN0ZWROb2RlcyIsIiRnZW5lcmF0ZU5vZGVzRnJvbVNlcmlhbGl6ZWROb2RlcyIsIiRpbnNlcnRHZW5lcmF0ZWROb2RlcyIsIiRnZW5lcmF0ZUh0bWxGcm9tTm9kZXMiLCIkZ2VuZXJhdGVOb2Rlc0Zyb21ET00iLCJ1c2VMZXhpY2FsQ29tcG9zZXJDb250ZXh0IiwiTGV4aWNhbE5lc3RlZENvbXBvc2VyIiwidXNlTGV4aWNhbE5vZGVTZWxlY3Rpb24iLCJtZXJnZVJlZ2lzdGVyIiwiJGFkZFVwZGF0ZVRhZyIsIiRjcmVhdGVQYXJhZ3JhcGhOb2RlIiwiJGNyZWF0ZVJhbmdlU2VsZWN0aW9uIiwiJGdldE5vZGVCeUtleSIsIiRnZXRSb290IiwiJGdldFNlbGVjdGlvbiIsIiRpc05vZGVTZWxlY3Rpb24iLCIkaXNSYW5nZVNlbGVjdGlvbiIsIkNMSUNLX0NPTU1BTkQiLCJDT01NQU5EX1BSSU9SSVRZX0xPVyIsIkNPUFlfQ09NTUFORCIsImNyZWF0ZUVkaXRvciIsIkNVVF9DT01NQU5EIiwiRk9STUFUX1RFWFRfQ09NTUFORCIsIktFWV9BUlJPV19ET1dOX0NPTU1BTkQiLCJLRVlfQVJST1dfTEVGVF9DT01NQU5EIiwiS0VZX0FSUk9XX1JJR0hUX0NPTU1BTkQiLCJLRVlfQVJST1dfVVBfQ09NTUFORCIsIktFWV9CQUNLU1BBQ0VfQ09NTUFORCIsIktFWV9ERUxFVEVfQ09NTUFORCIsIktFWV9FTlRFUl9DT01NQU5EIiwiS0VZX0VTQ0FQRV9DT01NQU5EIiwiS0VZX1RBQl9DT01NQU5EIiwiUEFTVEVfQ09NTUFORCIsInVzZUNhbGxiYWNrIiwidXNlQ29udGV4dCIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VSZWYiLCJ1c2VTdGF0ZSIsIlJlYWN0IiwiY3JlYXRlUG9ydGFsIiwiSVNfQVBQTEUiLCJDZWxsQ29udGV4dCIsIiRpc1RhYmxlTm9kZSIsImNlbGxIVE1MQ2FjaGUiLCJjZWxsVGV4dENvbnRlbnRDYWNoZSIsImNyZWF0ZVJvdyIsImNyZWF0ZVVJRCIsImV4cG9ydFRhYmxlQ2VsbHNUb0hUTUwiLCJleHRyYWN0Um93c0Zyb21IVE1MIiwiTk9fQ0VMTFMiLCIkY3JlYXRlU2VsZWN0QWxsIiwic2VsIiwiZm9jdXMiLCJzZXQiLCJnZXRDaGlsZHJlblNpemUiLCJjcmVhdGVFbXB0eVBhcmFncmFwaEhUTUwiLCJ0aGVtZSIsInBhcmFncmFwaCIsImZvY3VzQ2VsbCIsInRhYmxlRWxlbSIsImlkIiwiY2VsbEVsZW0iLCJxdWVyeVNlbGVjdG9yIiwiaXNTdGFydGluZ1Jlc2l6ZSIsInRhcmdldCIsIm5vZGVUeXBlIiwiaGFzQXR0cmlidXRlIiwiZ2VuZXJhdGVIVE1MRnJvbUpTT04iLCJlZGl0b3JTdGF0ZUpTT04iLCJjZWxsRWRpdG9yIiwiZWRpdG9yU3RhdGUiLCJwYXJzZUVkaXRvclN0YXRlIiwiaHRtbCIsImdldCIsInVuZGVmaW5lZCIsInJlYWQiLCJ0ZXh0Q29udGVudCIsImdldFRleHRDb250ZW50IiwiZ2V0Q3VycmVudERvY3VtZW50IiwiZWRpdG9yIiwicm9vdEVsZW1lbnQiLCJnZXRSb290RWxlbWVudCIsIm93bmVyRG9jdW1lbnQiLCJkb2N1bWVudCIsImlzQ29weSIsImtleUNvZGUiLCJzaGlmdEtleSIsIm1ldGFLZXkiLCJjdHJsS2V5IiwiaXNDdXQiLCJpc1Bhc3RlIiwiZ2V0Q2VsbElEIiwiZG9tRWxlbWVudCIsIm5vZGUiLCJwb3NzaWJsZUlEIiwiZ2V0QXR0cmlidXRlIiwicGFyZW50RWxlbWVudCIsImdldFRhYmxlQ2VsbFdpZHRoIiwibm9kZU5hbWUiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsIiR1cGRhdGVDZWxscyIsInJvd3MiLCJpZHMiLCJjZWxsQ29vcmRNYXAiLCJ1cGRhdGVUYWJsZU5vZGUiLCJmbiIsImNlbGwiLCJnZXRDZWxsIiwianNvbiIsIl9oZWFkbGVzcyIsInNldEVkaXRvclN0YXRlIiwidXBkYXRlIiwiZGlzY3JldGUiLCJuZXdKU09OIiwiSlNPTiIsInN0cmluZ2lmeSIsImdldEVkaXRvclN0YXRlIiwidGFibGVOb2RlIiwieCIsInkiLCJ1cGRhdGVDZWxsSlNPTiIsImlzVGFyZ2V0T25Qb3NzaWJsZVVJQ29udHJvbCIsImdldFNlbGVjdGVkUmVjdCIsInN0YXJ0SUQiLCJlbmRJRCIsInN0YXJ0Q29vcmRzIiwiZW5kQ29vcmRzIiwic3RhcnRYIiwiTWF0aCIsIm1pbiIsImVuZFgiLCJtYXgiLCJzdGFydFkiLCJlbmRZIiwiZ2V0U2VsZWN0ZWRJRHMiLCJyZWN0IiwicHVzaCIsImNlbGxzIiwiZXh0cmFjdENlbGxzRnJvbVJvd3MiLCJuZXdSb3dzIiwicm93IiwibmV3Um93IiwiY2VsbENsb25lIiwiVGFibGVDZWxsRWRpdG9yIiwiY2VsbEVkaXRvckNvbmZpZyIsImNlbGxFZGl0b3JQbHVnaW5zIiwiaW5pdGlhbEVkaXRvciIsImluaXRpYWxUaGVtZSIsImluaXRpYWxOb2RlcyIsIm5vZGVzIiwic2tpcENvbGxhYkNoZWNrcyIsImNlbGxJRCIsImNvb3JkcyIsIlRhYmxlQWN0aW9uTWVudSIsIm1lbnVFbGVtIiwidXBkYXRlQ2VsbHNCeUlEIiwib25DbG9zZSIsInNldFNvcnRpbmdPcHRpb25zIiwic29ydGluZ09wdGlvbnMiLCJkcm9wRG93blJlZiIsImRyb3Bkb3duRWxlbSIsImN1cnJlbnQiLCJzdHlsZSIsInRvcCIsImxlZnQiLCJoYW5kbGVDbGlja091dHNpZGUiLCJldmVudCIsImNvbnRhaW5zIiwic3RvcFByb3BhZ2F0aW9uIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXYiLCJjbGFzc05hbWUiLCJyZWYiLCJvblBvaW50ZXJNb3ZlIiwiZSIsIm9uUG9pbnRlckRvd24iLCJvblBvaW50ZXJVcCIsIm9uQ2xpY2siLCJidXR0b24iLCJ1cGRhdGVDZWxsVHlwZSIsInR5cGUiLCJzcGFuIiwicm9vdCIsImNsZWFyIiwiYXBwZW5kIiwiaHIiLCJpbnNlcnRSb3dBdCIsImluc2VydENvbHVtbkF0IiwibGVuZ3RoIiwiZGVsZXRlQ29sdW1uQXQiLCJkZWxldGVSb3dBdCIsInNlbGVjdE5leHQiLCJyZW1vdmUiLCJUYWJsZUNlbGwiLCJpc0VkaXRpbmciLCJpc1NlbGVjdGVkIiwiaXNQcmltYXJ5U2VsZWN0ZWQiLCJzaG93TWVudSIsInNldFNob3dNZW51IiwibWVudVJvb3RSZWYiLCJpc0hlYWRlciIsIkNlbGxDb21wb25lbnQiLCJjZWxsV2lkdGgiLCJpc1NvcnRlZCIsInRhYmxlQ2VsbCIsInRhYmxlQ2VsbEhlYWRlciIsInRhYmxlQ2VsbFNlbGVjdGVkIiwiZGF0YS1pZCIsInRhYkluZGV4IiwidGFibGVDZWxsUHJpbWFyeVNlbGVjdGVkIiwidGFibGVDZWxsRWRpdGluZyIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwidGFibGVDZWxsUmVzaXplciIsImRhdGEtdGFibGUtcmVzaXplIiwidGFibGVDZWxsQWN0aW9uQnV0dG9uQ29udGFpbmVyIiwidGFibGVDZWxsQWN0aW9uQnV0dG9uIiwiaSIsImJvZHkiLCJ0YWJsZUNlbGxTb3J0ZWRJbmRpY2F0b3IiLCJUYWJsZUNvbXBvbmVudCIsIm5vZGVLZXkiLCJyYXdSb3dzIiwic2V0U2VsZWN0ZWQiLCJjbGVhclNlbGVjdGlvbiIsInJlc2l6ZU1lYXN1cmVSZWYiLCJwb2ludCIsInNpemUiLCJhZGRSb3dzUmVmIiwibGFzdENlbGxJRFJlZiIsInRhYmxlUmVzaXplclJ1bGVyUmVmIiwic2V0SXNFZGl0aW5nIiwic2hvd0FkZENvbHVtbnMiLCJzZXRTaG93QWRkQ29sdW1ucyIsInNob3dBZGRSb3dzIiwic2V0U2hvd0FkZFJvd3MiLCJtb3VzZURvd25SZWYiLCJyZXNpemluZ0lEIiwic2V0UmVzaXppbmdJRCIsInRhYmxlUmVmIiwibWFwIiwiTWFwIiwiX3Jvd3MiLCJzbGljZSIsInNvcnQiLCJhIiwiYiIsImFDZWxscyIsImJDZWxscyIsImFDb250ZW50IiwiYkNvbnRlbnQiLCJsb2NhbGVDb21wYXJlIiwidW5zaGlmdCIsInByaW1hcnlTZWxlY3RlZENlbGxJRCIsInNldFByaW1hcnlTZWxlY3RlZENlbGxJRCIsIl9jZWxsRWRpdG9yIiwibmFtZXNwYWNlIiwib25FcnJvciIsImVycm9yIiwic2VsZWN0ZWRDZWxsSURzIiwic2V0U2VsZWN0ZWRDZWxsSURzIiwic2VsZWN0ZWRDZWxsU2V0IiwiU2V0IiwiYWN0aXZlRWxlbWVudCIsImFkZENvbHVtbnMiLCJhZGRSb3dzIiwibW9kaWZ5U2VsZWN0ZWRDZWxscyIsImV4dGVuZCIsInNlbGVjdGVkSURzIiwic2F2ZUVkaXRvclRvSlNPTiIsInNlbGVjdFRhYmxlIiwic2V0VGltZW91dCIsInBhcmVudFJvb3RFbGVtZW50IiwicHJldmVudFNjcm9sbCIsImdldFNlbGVjdGlvbiIsInJlbW92ZUFsbFJhbmdlcyIsImRvYyIsImlzQXRFZGdlT2ZUYWJsZSIsImNsaWVudFgiLCJ0YWJsZVJlY3QiLCJjbGllbnRZIiwiaGFuZGxlUG9pbnRlckRvd24iLCJpc0VkaXRhYmxlIiwidXNlclNlbGVjdCIsImhhbmRsZVBvaW50ZXJNb3ZlIiwidGFibGVSZXNpemVyUnVsZXJFbGVtIiwiZGlmZiIsIm5ld1dpZHRoIiwiaGVpZ2h0IiwiaXNPblJpZ2h0RWRnZSIsImlzT25Cb3R0b21FZGdlIiwiaGFuZGxlUG9pbnRlclVwIiwidXBkYXRlQ29sdW1uV2lkdGgiLCJsb2FkQ29udGVudEludG9DZWxsIiwiaGFuZGxlRGJsQ2xpY2siLCJoYW5kbGVLZXlEb3duIiwicHJldmVudERlZmF1bHQiLCJjb250ZW50RWRpdGFibGUiLCJkaXNwYXRjaENvbW1hbmQiLCJhbHRLZXkiLCJjbGVhckNlbGxzQ29tbWFuZCIsImNvcHlEYXRhVG9DbGlwYm9hcmQiLCJodG1sU3RyaW5nIiwibGV4aWNhbFN0cmluZyIsInBsYWluVGV4dFN0cmluZyIsImNsaXBib2FyZERhdGEiLCJLZXlib2FyZEV2ZW50Iiwic2V0RGF0YSIsImNsaXBib2FyZCIsIm5hdmlnYXRvciIsImRhdGEiLCJDbGlwYm9hcmRJdGVtIiwiQmxvYiIsIndyaXRlIiwiZ2V0VHlwZUZyb21PYmplY3QiLCJEYXRhVHJhbnNmZXIiLCJnZXREYXRhIiwiZ2V0VHlwZSIsInRleHQiLCJwYXN0ZUNvbnRlbnQiLCJJbnB1dEV2ZW50IiwiaXRlbXMiLCJwYXlsb2FkIiwicGFyc2UiLCJfY29uZmlnIiwiQXJyYXkiLCJpc0FycmF5Iiwic2VsZWN0RW5kIiwicGFyc2VyIiwiRE9NUGFyc2VyIiwiZG9tIiwicGFyc2VGcm9tU3RyaW5nIiwicG9zc2libGVUYWJsZUVsZW1lbnQiLCJwYXN0ZVJvd3MiLCJtZXJnZVJvd3MiLCJpbnNlcnRSYXdUZXh0IiwiY29weVByaW1hcnlDZWxsIiwiY29weUNlbGxSYW5nZSIsImxhc3RDZWxsSUQiLCJvdXRlckhUTUwiLCJvdXRlclRleHQiLCJ0YWJsZU5vZGVKU09OIiwiZXhwb3J0SlNPTiIsImxleGljYWxKU09OIiwiaGFuZGxlUGFzdGUiLCJhY3RpdmVFZGl0b3IiLCJzZWxlY3Rpb24iLCJoYW5kbGVDb3B5IiwicmVnaXN0ZXJDb21tYW5kIiwiZm9ybWF0VGV4dCIsInRhcmdldEVkaXRvciIsImhhcyIsImdldE5vZGVzIiwiZmlyc3RDZWxsSUQiLCJpc0JhY2t3YXJkIiwibmV4dFgiLCJuZXh0WSIsImlzQ29sbGFwc2VkIiwiYW5jaG9yIiwiZ2V0Tm9kZSIsImdldFRvcExldmVsRWxlbWVudE9yVGhyb3ciLCJnZXRQcmV2aW91c1NpYmxpbmciLCJnZXROZXh0U2libGluZyIsIm9mZnNldCIsImdldFRleHRDb250ZW50U2l6ZSIsInBvc2l0aW9uIiwidGFibGUiLCJ0YWJsZVNlbGVjdGVkIiwidGJvZHkiLCJ0ciIsInRhYmxlUm93IiwidGFibGVBZGRDb2x1bW5zIiwidGFibGVBZGRSb3dzIiwidGFibGVSZXNpemVSdWxlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Lexical/nodes/TableComponent.tsx\n");

/***/ })

};
;