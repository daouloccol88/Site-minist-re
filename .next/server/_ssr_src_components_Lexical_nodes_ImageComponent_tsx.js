"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_src_components_Lexical_nodes_ImageComponent_tsx";
exports.ids = ["_ssr_src_components_Lexical_nodes_ImageComponent_tsx"];
exports.modules = {

/***/ "(ssr)/./src/components/Lexical/nodes/ImageComponent.tsx":
/*!*********************************************************!*\
  !*** ./src/components/Lexical/nodes/ImageComponent.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ImageComponent)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ImageNode_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ImageNode.css */ \"(ssr)/./src/components/Lexical/nodes/ImageNode.css\");\n/* harmony import */ var _lexical_react_LexicalAutoFocusPlugin__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lexical/react/LexicalAutoFocusPlugin */ \"(ssr)/./node_modules/@lexical/react/LexicalAutoFocusPlugin.js\");\n/* harmony import */ var _lexical_react_LexicalAutoFocusPlugin__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalAutoFocusPlugin__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lexical/react/LexicalComposerContext */ \"(ssr)/./node_modules/@lexical/react/LexicalComposerContext.js\");\n/* harmony import */ var _lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lexical_react_LexicalErrorBoundary__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @lexical/react/LexicalErrorBoundary */ \"(ssr)/./node_modules/@lexical/react/LexicalErrorBoundary.js\");\n/* harmony import */ var _lexical_react_LexicalErrorBoundary__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalErrorBoundary__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _lexical_react_LexicalHashtagPlugin__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @lexical/react/LexicalHashtagPlugin */ \"(ssr)/./node_modules/@lexical/react/LexicalHashtagPlugin.js\");\n/* harmony import */ var _lexical_react_LexicalHashtagPlugin__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalHashtagPlugin__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _lexical_react_LexicalNestedComposer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @lexical/react/LexicalNestedComposer */ \"(ssr)/./node_modules/@lexical/react/LexicalNestedComposer.js\");\n/* harmony import */ var _lexical_react_LexicalNestedComposer__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalNestedComposer__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _lexical_react_LexicalRichTextPlugin__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @lexical/react/LexicalRichTextPlugin */ \"(ssr)/./node_modules/@lexical/react/LexicalRichTextPlugin.js\");\n/* harmony import */ var _lexical_react_LexicalRichTextPlugin__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_LexicalRichTextPlugin__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @lexical/react/useLexicalNodeSelection */ \"(ssr)/./node_modules/@lexical/react/useLexicalNodeSelection.js\");\n/* harmony import */ var _lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _lexical_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @lexical/utils */ \"(ssr)/./node_modules/@lexical/utils/LexicalUtils.js\");\n/* harmony import */ var _lexical_utils__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_lexical_utils__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var lexical__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! lexical */ \"(ssr)/./node_modules/lexical/Lexical.js\");\n/* harmony import */ var lexical__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(lexical__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _context_SettingsContext__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../context/SettingsContext */ \"(ssr)/./src/components/Lexical/context/SettingsContext.tsx\");\n/* harmony import */ var _context_SharedHistoryContext__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../context/SharedHistoryContext */ \"(ssr)/./src/components/Lexical/context/SharedHistoryContext.tsx\");\n/* harmony import */ var _plugins_EmojisPlugin__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../plugins/EmojisPlugin */ \"(ssr)/./src/components/Lexical/plugins/EmojisPlugin/index.ts\");\n/* harmony import */ var _plugins_KeywordsPlugin__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../plugins/KeywordsPlugin */ \"(ssr)/./src/components/Lexical/plugins/KeywordsPlugin/index.ts\");\n/* harmony import */ var _plugins_LinkPlugin__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../plugins/LinkPlugin */ \"(ssr)/./src/components/Lexical/plugins/LinkPlugin/index.tsx\");\n/* harmony import */ var _plugins_MentionsPlugin__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../plugins/MentionsPlugin */ \"(ssr)/./src/components/Lexical/plugins/MentionsPlugin/index.tsx\");\n/* harmony import */ var _plugins_TreeViewPlugin__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../plugins/TreeViewPlugin */ \"(ssr)/./src/components/Lexical/plugins/TreeViewPlugin/index.tsx\");\n/* harmony import */ var _ui_ContentEditable__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../ui/ContentEditable */ \"(ssr)/./src/components/Lexical/ui/ContentEditable.tsx\");\n/* harmony import */ var _ui_ImageResizer__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../ui/ImageResizer */ \"(ssr)/./src/components/Lexical/ui/ImageResizer.tsx\");\n/* harmony import */ var _ui_Placeholder__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../ui/Placeholder */ \"(ssr)/./src/components/Lexical/ui/Placeholder.tsx\");\n/* harmony import */ var _ImageNode__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./ImageNode */ \"(ssr)/./src/components/Lexical/nodes/ImageNode.tsx\");\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */ \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst imageCache = new Set();\nfunction useSuspenseImage(src) {\n    if (!imageCache.has(src)) {\n        throw new Promise((resolve)=>{\n            const img = new Image();\n            img.src = src;\n            img.onload = ()=>{\n                imageCache.add(src);\n                resolve(null);\n            };\n        });\n    }\n}\nfunction LazyImage({ altText, className, imageRef, src, width, height, maxWidth }) {\n    useSuspenseImage(src);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n        className: className || undefined,\n        src: src,\n        alt: altText,\n        ref: imageRef,\n        style: {\n            height,\n            maxWidth,\n            width\n        },\n        draggable: \"false\"\n    }, void 0, false, {\n        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n        lineNumber: 91,\n        columnNumber: 5\n    }, this);\n}\nfunction ImageComponent({ src, altText, nodeKey, width, height, maxWidth, resizable, showCaption, caption, captionsEnabled }) {\n    const imageRef = (0,react__WEBPACK_IMPORTED_MODULE_11__.useRef)(null);\n    const buttonRef = (0,react__WEBPACK_IMPORTED_MODULE_11__.useRef)(null);\n    const [isSelected, setSelected, clearSelection] = (0,_lexical_react_useLexicalNodeSelection__WEBPACK_IMPORTED_MODULE_8__.useLexicalNodeSelection)(nodeKey);\n    const [isResizing, setIsResizing] = (0,react__WEBPACK_IMPORTED_MODULE_11__.useState)(false);\n    const [editor] = (0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__.useLexicalComposerContext)();\n    const [selection, setSelection] = (0,react__WEBPACK_IMPORTED_MODULE_11__.useState)(null);\n    const activeEditorRef = (0,react__WEBPACK_IMPORTED_MODULE_11__.useRef)(null);\n    const onDelete = (0,react__WEBPACK_IMPORTED_MODULE_11__.useCallback)((payload)=>{\n        if (isSelected && (0,lexical__WEBPACK_IMPORTED_MODULE_10__.$isNodeSelection)((0,lexical__WEBPACK_IMPORTED_MODULE_10__.$getSelection)())) {\n            const event = payload;\n            event.preventDefault();\n            const node = (0,lexical__WEBPACK_IMPORTED_MODULE_10__.$getNodeByKey)(nodeKey);\n            if ((0,_ImageNode__WEBPACK_IMPORTED_MODULE_22__.$isImageNode)(node)) {\n                node.remove();\n            }\n            setSelected(false);\n        }\n        return false;\n    }, [\n        isSelected,\n        nodeKey,\n        setSelected\n    ]);\n    const onEnter = (0,react__WEBPACK_IMPORTED_MODULE_11__.useCallback)((event)=>{\n        const latestSelection = (0,lexical__WEBPACK_IMPORTED_MODULE_10__.$getSelection)();\n        const buttonElem = buttonRef.current;\n        if (isSelected && (0,lexical__WEBPACK_IMPORTED_MODULE_10__.$isNodeSelection)(latestSelection) && latestSelection.getNodes().length === 1) {\n            if (showCaption) {\n                // Move focus into nested editor\n                (0,lexical__WEBPACK_IMPORTED_MODULE_10__.$setSelection)(null);\n                event.preventDefault();\n                caption.focus();\n                return true;\n            } else if (buttonElem !== null && buttonElem !== document.activeElement) {\n                event.preventDefault();\n                buttonElem.focus();\n                return true;\n            }\n        }\n        return false;\n    }, [\n        caption,\n        isSelected,\n        showCaption\n    ]);\n    const onEscape = (0,react__WEBPACK_IMPORTED_MODULE_11__.useCallback)((event)=>{\n        if (activeEditorRef.current === caption || buttonRef.current === event.target) {\n            (0,lexical__WEBPACK_IMPORTED_MODULE_10__.$setSelection)(null);\n            editor.update(()=>{\n                setSelected(true);\n                const parentRootElement = editor.getRootElement();\n                if (parentRootElement !== null) {\n                    parentRootElement.focus();\n                }\n            });\n            return true;\n        }\n        return false;\n    }, [\n        caption,\n        editor,\n        setSelected\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_11__.useEffect)(()=>{\n        let isMounted = true;\n        const unregister = (0,_lexical_utils__WEBPACK_IMPORTED_MODULE_9__.mergeRegister)(editor.registerUpdateListener(({ editorState })=>{\n            if (isMounted) {\n                setSelection(editorState.read(()=>(0,lexical__WEBPACK_IMPORTED_MODULE_10__.$getSelection)()));\n            }\n        }), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_10__.SELECTION_CHANGE_COMMAND, (_, activeEditor)=>{\n            activeEditorRef.current = activeEditor;\n            return false;\n        }, lexical__WEBPACK_IMPORTED_MODULE_10__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_10__.CLICK_COMMAND, (payload)=>{\n            const event = payload;\n            if (isResizing) {\n                return true;\n            }\n            if (event.target === imageRef.current) {\n                if (event.shiftKey) {\n                    setSelected(!isSelected);\n                } else {\n                    clearSelection();\n                    setSelected(true);\n                }\n                return true;\n            }\n            return false;\n        }, lexical__WEBPACK_IMPORTED_MODULE_10__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_10__.DRAGSTART_COMMAND, (event)=>{\n            if (event.target === imageRef.current) {\n                // TODO This is just a temporary workaround for FF to behave like other browsers.\n                // Ideally, this handles drag & drop too (and all browsers).\n                event.preventDefault();\n                return true;\n            }\n            return false;\n        }, lexical__WEBPACK_IMPORTED_MODULE_10__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_10__.KEY_DELETE_COMMAND, onDelete, lexical__WEBPACK_IMPORTED_MODULE_10__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_10__.KEY_BACKSPACE_COMMAND, onDelete, lexical__WEBPACK_IMPORTED_MODULE_10__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_10__.KEY_ENTER_COMMAND, onEnter, lexical__WEBPACK_IMPORTED_MODULE_10__.COMMAND_PRIORITY_LOW), editor.registerCommand(lexical__WEBPACK_IMPORTED_MODULE_10__.KEY_ESCAPE_COMMAND, onEscape, lexical__WEBPACK_IMPORTED_MODULE_10__.COMMAND_PRIORITY_LOW));\n        return ()=>{\n            isMounted = false;\n            unregister();\n        };\n    }, [\n        clearSelection,\n        editor,\n        isResizing,\n        isSelected,\n        nodeKey,\n        onDelete,\n        onEnter,\n        onEscape,\n        setSelected\n    ]);\n    const setShowCaption = ()=>{\n        editor.update(()=>{\n            const node = (0,lexical__WEBPACK_IMPORTED_MODULE_10__.$getNodeByKey)(nodeKey);\n            if ((0,_ImageNode__WEBPACK_IMPORTED_MODULE_22__.$isImageNode)(node)) {\n                node.setShowCaption(true);\n            }\n        });\n    };\n    const onResizeEnd = (nextWidth, nextHeight)=>{\n        // Delay hiding the resize bars for click case\n        setTimeout(()=>{\n            setIsResizing(false);\n        }, 200);\n        editor.update(()=>{\n            const node = (0,lexical__WEBPACK_IMPORTED_MODULE_10__.$getNodeByKey)(nodeKey);\n            if ((0,_ImageNode__WEBPACK_IMPORTED_MODULE_22__.$isImageNode)(node)) {\n                node.setWidthAndHeight(nextWidth, nextHeight);\n            }\n        });\n    };\n    const onResizeStart = ()=>{\n        setIsResizing(true);\n    };\n    const { historyState } = (0,_context_SharedHistoryContext__WEBPACK_IMPORTED_MODULE_13__.useSharedHistoryContext)();\n    const { settings: { showNestedEditorTreeView } } = (0,_context_SettingsContext__WEBPACK_IMPORTED_MODULE_12__.useSettings)();\n    const draggable = isSelected && (0,lexical__WEBPACK_IMPORTED_MODULE_10__.$isNodeSelection)(selection) && !isResizing;\n    const isFocused = isSelected || isResizing;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react__WEBPACK_IMPORTED_MODULE_11__.Suspense, {\n        fallback: null,\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    draggable: draggable,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(LazyImage, {\n                        className: isFocused ? `focused ${(0,lexical__WEBPACK_IMPORTED_MODULE_10__.$isNodeSelection)(selection) ? \"draggable\" : \"\"}` : null,\n                        src: src,\n                        altText: altText,\n                        imageRef: imageRef,\n                        width: width,\n                        height: height,\n                        maxWidth: maxWidth\n                    }, void 0, false, {\n                        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                        lineNumber: 331,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                    lineNumber: 330,\n                    columnNumber: 9\n                }, this),\n                showCaption && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"image-caption-container\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_lexical_react_LexicalNestedComposer__WEBPACK_IMPORTED_MODULE_6__.LexicalNestedComposer, {\n                        initialEditor: caption,\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_lexical_react_LexicalAutoFocusPlugin__WEBPACK_IMPORTED_MODULE_2__.AutoFocusPlugin, {}, void 0, false, {\n                                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                                lineNumber: 348,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_plugins_MentionsPlugin__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {}, void 0, false, {\n                                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                                lineNumber: 349,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_plugins_LinkPlugin__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {}, void 0, false, {\n                                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                                lineNumber: 350,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_plugins_EmojisPlugin__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {}, void 0, false, {\n                                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                                lineNumber: 351,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_lexical_react_LexicalHashtagPlugin__WEBPACK_IMPORTED_MODULE_5__.HashtagPlugin, {}, void 0, false, {\n                                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                                lineNumber: 352,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_plugins_KeywordsPlugin__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {}, void 0, false, {\n                                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                                lineNumber: 353,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_lexical_react_LexicalRichTextPlugin__WEBPACK_IMPORTED_MODULE_7__.RichTextPlugin, {\n                                contentEditable: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_ContentEditable__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                    className: \"ImageNode__contentEditable\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                                    lineNumber: 356,\n                                    columnNumber: 19\n                                }, void 0),\n                                placeholder: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_Placeholder__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                    className: \"ImageNode__placeholder\",\n                                    children: \"Enter a caption...\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                                    lineNumber: 359,\n                                    columnNumber: 19\n                                }, void 0),\n                                ErrorBoundary: (_lexical_react_LexicalErrorBoundary__WEBPACK_IMPORTED_MODULE_4___default())\n                            }, void 0, false, {\n                                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                                lineNumber: 354,\n                                columnNumber: 15\n                            }, this),\n                            showNestedEditorTreeView === true ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_plugins_TreeViewPlugin__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {}, void 0, false, {\n                                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                                lineNumber: 365,\n                                columnNumber: 52\n                            }, this) : null\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                        lineNumber: 347,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                    lineNumber: 346,\n                    columnNumber: 11\n                }, this),\n                resizable && (0,lexical__WEBPACK_IMPORTED_MODULE_10__.$isNodeSelection)(selection) && isFocused && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ui_ImageResizer__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                    showCaption: showCaption,\n                    setShowCaption: setShowCaption,\n                    editor: editor,\n                    buttonRef: buttonRef,\n                    imageRef: imageRef,\n                    maxWidth: maxWidth,\n                    onResizeStart: onResizeStart,\n                    onResizeEnd: onResizeEnd,\n                    captionsEnabled: captionsEnabled\n                }, void 0, false, {\n                    fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n                    lineNumber: 370,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true)\n    }, void 0, false, {\n        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/nodes/ImageComponent.tsx\",\n        lineNumber: 328,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9MZXhpY2FsL25vZGVzL0ltYWdlQ29tcG9uZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOzs7Ozs7Q0FNQztBQVV3QjtBQUU2QztBQUNVO0FBQ1Q7QUFDTDtBQUVTO0FBQ1A7QUFDVztBQUNsQztBQWM1QjtBQUNjO0FBQzBDO0FBRWxCO0FBQ2lCO0FBQ3JCO0FBQ0k7QUFDUjtBQUNRO0FBQ0E7QUFDSDtBQUNOO0FBQ0Y7QUFDSDtBQUV6QyxNQUFNcUMsYUFBYSxJQUFJQztBQUV2QixTQUFTQyxpQkFBaUJDLEdBQVc7SUFDbkMsSUFBSSxDQUFDSCxXQUFXSSxHQUFHLENBQUNELE1BQU07UUFDeEIsTUFBTSxJQUFJRSxRQUFRLENBQUNDO1lBQ2pCLE1BQU1DLE1BQU0sSUFBSUM7WUFDaEJELElBQUlKLEdBQUcsR0FBR0E7WUFDVkksSUFBSUUsTUFBTSxHQUFHO2dCQUNYVCxXQUFXVSxHQUFHLENBQUNQO2dCQUNmRyxRQUFRO1lBQ1Y7UUFDRjtJQUNGO0FBQ0Y7QUFFQSxTQUFTSyxVQUFVLEVBQ2pCQyxPQUFPLEVBQ1BDLFNBQVMsRUFDVEMsUUFBUSxFQUNSWCxHQUFHLEVBQ0hZLEtBQUssRUFDTEMsTUFBTSxFQUNOQyxRQUFRLEVBU1Q7SUFDQ2YsaUJBQWlCQztJQUNqQixxQkFDRSw4REFBQ0k7UUFDQ00sV0FBV0EsYUFBYUs7UUFDeEJmLEtBQUtBO1FBQ0xnQixLQUFLUDtRQUNMUSxLQUFLTjtRQUNMTyxPQUFPO1lBQ0xMO1lBQ0FDO1lBQ0FGO1FBQ0Y7UUFDQU8sV0FBVTs7Ozs7O0FBR2hCO0FBRWUsU0FBU0MsZUFBZSxFQUNyQ3BCLEdBQUcsRUFDSFMsT0FBTyxFQUNQWSxPQUFPLEVBQ1BULEtBQUssRUFDTEMsTUFBTSxFQUNOQyxRQUFRLEVBQ1JRLFNBQVMsRUFDVEMsV0FBVyxFQUNYQyxPQUFPLEVBQ1BDLGVBQWUsRUFZaEI7SUFDQyxNQUFNZCxXQUFX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QUVwQ2dILDZCQUE2QixxQkFBTyw4REFBQ2xGLGdFQUFjQTs7Ozt1Q0FBTTs7Ozs7Ozs7Ozs7O2dCQUkvRDhCLGFBQWFwRCwwREFBZ0JBLENBQUMrRCxjQUFjMEMsMkJBQzNDLDhEQUFDakYseURBQVlBO29CQUNYNkIsYUFBYUE7b0JBQ2IwQyxnQkFBZ0JBO29CQUNoQmpDLFFBQVFBO29CQUNSTixXQUFXQTtvQkFDWGYsVUFBVUE7b0JBQ1ZHLFVBQVVBO29CQUNWeUQsZUFBZUE7b0JBQ2ZMLGFBQWFBO29CQUNiekMsaUJBQWlCQTs7Ozs7Ozs7Ozs7OztBQU03QiIsInNvdXJjZXMiOlsid2VicGFjazovL2Ntc19jcmVhdG9yLy4vc3JjL2NvbXBvbmVudHMvTGV4aWNhbC9ub2Rlcy9JbWFnZUNvbXBvbmVudC50c3g/MGNiZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICovXG5cbmltcG9ydCB0eXBlIHtcbiAgR3JpZFNlbGVjdGlvbixcbiAgTGV4aWNhbEVkaXRvcixcbiAgTm9kZUtleSxcbiAgTm9kZVNlbGVjdGlvbixcbiAgUmFuZ2VTZWxlY3Rpb24sXG59IGZyb20gJ2xleGljYWwnO1xuXG5pbXBvcnQgJy4vSW1hZ2VOb2RlLmNzcyc7XG5cbmltcG9ydCB7QXV0b0ZvY3VzUGx1Z2lufSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsQXV0b0ZvY3VzUGx1Z2luJztcbmltcG9ydCB7dXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dH0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbENvbXBvc2VyQ29udGV4dCc7XG5pbXBvcnQgTGV4aWNhbEVycm9yQm91bmRhcnkgZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbEVycm9yQm91bmRhcnknO1xuaW1wb3J0IHtIYXNodGFnUGx1Z2lufSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsSGFzaHRhZ1BsdWdpbic7XG5pbXBvcnQge0hpc3RvcnlQbHVnaW59IGZyb20gJ0BsZXhpY2FsL3JlYWN0L0xleGljYWxIaXN0b3J5UGx1Z2luJztcbmltcG9ydCB7TGV4aWNhbE5lc3RlZENvbXBvc2VyfSBmcm9tICdAbGV4aWNhbC9yZWFjdC9MZXhpY2FsTmVzdGVkQ29tcG9zZXInO1xuaW1wb3J0IHtSaWNoVGV4dFBsdWdpbn0gZnJvbSAnQGxleGljYWwvcmVhY3QvTGV4aWNhbFJpY2hUZXh0UGx1Z2luJztcbmltcG9ydCB7dXNlTGV4aWNhbE5vZGVTZWxlY3Rpb259IGZyb20gJ0BsZXhpY2FsL3JlYWN0L3VzZUxleGljYWxOb2RlU2VsZWN0aW9uJztcbmltcG9ydCB7bWVyZ2VSZWdpc3Rlcn0gZnJvbSAnQGxleGljYWwvdXRpbHMnO1xuaW1wb3J0IHtcbiAgJGdldE5vZGVCeUtleSxcbiAgJGdldFNlbGVjdGlvbixcbiAgJGlzTm9kZVNlbGVjdGlvbixcbiAgJHNldFNlbGVjdGlvbixcbiAgQ0xJQ0tfQ09NTUFORCxcbiAgQ09NTUFORF9QUklPUklUWV9MT1csXG4gIERSQUdTVEFSVF9DT01NQU5ELFxuICBLRVlfQkFDS1NQQUNFX0NPTU1BTkQsXG4gIEtFWV9ERUxFVEVfQ09NTUFORCxcbiAgS0VZX0VOVEVSX0NPTU1BTkQsXG4gIEtFWV9FU0NBUEVfQ09NTUFORCxcbiAgU0VMRUNUSU9OX0NIQU5HRV9DT01NQU5ELFxufSBmcm9tICdsZXhpY2FsJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7U3VzcGVuc2UsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGV9IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHt1c2VTZXR0aW5nc30gZnJvbSAnLi4vY29udGV4dC9TZXR0aW5nc0NvbnRleHQnO1xuaW1wb3J0IHt1c2VTaGFyZWRIaXN0b3J5Q29udGV4dH0gZnJvbSAnLi4vY29udGV4dC9TaGFyZWRIaXN0b3J5Q29udGV4dCc7XG5pbXBvcnQgRW1vamlzUGx1Z2luIGZyb20gJy4uL3BsdWdpbnMvRW1vamlzUGx1Z2luJztcbmltcG9ydCBLZXl3b3Jkc1BsdWdpbiBmcm9tICcuLi9wbHVnaW5zL0tleXdvcmRzUGx1Z2luJztcbmltcG9ydCBMaW5rUGx1Z2luIGZyb20gJy4uL3BsdWdpbnMvTGlua1BsdWdpbic7XG5pbXBvcnQgTWVudGlvbnNQbHVnaW4gZnJvbSAnLi4vcGx1Z2lucy9NZW50aW9uc1BsdWdpbic7XG5pbXBvcnQgVHJlZVZpZXdQbHVnaW4gZnJvbSAnLi4vcGx1Z2lucy9UcmVlVmlld1BsdWdpbic7XG5pbXBvcnQgQ29udGVudEVkaXRhYmxlIGZyb20gJy4uL3VpL0NvbnRlbnRFZGl0YWJsZSc7XG5pbXBvcnQgSW1hZ2VSZXNpemVyIGZyb20gJy4uL3VpL0ltYWdlUmVzaXplcic7XG5pbXBvcnQgUGxhY2Vob2xkZXIgZnJvbSAnLi4vdWkvUGxhY2Vob2xkZXInO1xuaW1wb3J0IHskaXNJbWFnZU5vZGV9IGZyb20gJy4vSW1hZ2VOb2RlJztcblxuY29uc3QgaW1hZ2VDYWNoZSA9IG5ldyBTZXQoKTtcblxuZnVuY3Rpb24gdXNlU3VzcGVuc2VJbWFnZShzcmM6IHN0cmluZykge1xuICBpZiAoIWltYWdlQ2FjaGUuaGFzKHNyYykpIHtcbiAgICB0aHJvdyBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWcuc3JjID0gc3JjO1xuICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgaW1hZ2VDYWNoZS5hZGQoc3JjKTtcbiAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gTGF6eUltYWdlKHtcbiAgYWx0VGV4dCxcbiAgY2xhc3NOYW1lLFxuICBpbWFnZVJlZixcbiAgc3JjLFxuICB3aWR0aCxcbiAgaGVpZ2h0LFxuICBtYXhXaWR0aCxcbn06IHtcbiAgYWx0VGV4dDogc3RyaW5nO1xuICBjbGFzc05hbWU6IHN0cmluZyB8IG51bGw7XG4gIGhlaWdodDogJ2luaGVyaXQnIHwgbnVtYmVyO1xuICBpbWFnZVJlZjoge2N1cnJlbnQ6IG51bGwgfCBIVE1MSW1hZ2VFbGVtZW50fTtcbiAgbWF4V2lkdGg6IG51bWJlcjtcbiAgc3JjOiBzdHJpbmc7XG4gIHdpZHRoOiAnaW5oZXJpdCcgfCBudW1iZXI7XG59KTogSlNYLkVsZW1lbnQge1xuICB1c2VTdXNwZW5zZUltYWdlKHNyYyk7XG4gIHJldHVybiAoXG4gICAgPGltZ1xuICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWUgfHwgdW5kZWZpbmVkfVxuICAgICAgc3JjPXtzcmN9XG4gICAgICBhbHQ9e2FsdFRleHR9XG4gICAgICByZWY9e2ltYWdlUmVmfVxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICBtYXhXaWR0aCxcbiAgICAgICAgd2lkdGgsXG4gICAgICB9fVxuICAgICAgZHJhZ2dhYmxlPVwiZmFsc2VcIlxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEltYWdlQ29tcG9uZW50KHtcbiAgc3JjLFxuICBhbHRUZXh0LFxuICBub2RlS2V5LFxuICB3aWR0aCxcbiAgaGVpZ2h0LFxuICBtYXhXaWR0aCxcbiAgcmVzaXphYmxlLFxuICBzaG93Q2FwdGlvbixcbiAgY2FwdGlvbixcbiAgY2FwdGlvbnNFbmFibGVkLFxufToge1xuICBhbHRUZXh0OiBzdHJpbmc7XG4gIGNhcHRpb246IExleGljYWxFZGl0b3I7XG4gIGhlaWdodDogJ2luaGVyaXQnIHwgbnVtYmVyO1xuICBtYXhXaWR0aDogbnVtYmVyO1xuICBub2RlS2V5OiBOb2RlS2V5O1xuICByZXNpemFibGU6IGJvb2xlYW47XG4gIHNob3dDYXB0aW9uOiBib29sZWFuO1xuICBzcmM6IHN0cmluZztcbiAgd2lkdGg6ICdpbmhlcml0JyB8IG51bWJlcjtcbiAgY2FwdGlvbnNFbmFibGVkOiBib29sZWFuO1xufSk6IEpTWC5FbGVtZW50IHtcbiAgY29uc3QgaW1hZ2VSZWYgPSB1c2VSZWY8bnVsbCB8IEhUTUxJbWFnZUVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBidXR0b25SZWYgPSB1c2VSZWY8SFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzU2VsZWN0ZWQsIHNldFNlbGVjdGVkLCBjbGVhclNlbGVjdGlvbl0gPVxuICAgIHVzZUxleGljYWxOb2RlU2VsZWN0aW9uKG5vZGVLZXkpO1xuICBjb25zdCBbaXNSZXNpemluZywgc2V0SXNSZXNpemluZ10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtlZGl0b3JdID0gdXNlTGV4aWNhbENvbXBvc2VyQ29udGV4dCgpO1xuICBjb25zdCBbc2VsZWN0aW9uLCBzZXRTZWxlY3Rpb25dID0gdXNlU3RhdGU8XG4gICAgUmFuZ2VTZWxlY3Rpb24gfCBOb2RlU2VsZWN0aW9uIHwgR3JpZFNlbGVjdGlvbiB8IG51bGxcbiAgPihudWxsKTtcbiAgY29uc3QgYWN0aXZlRWRpdG9yUmVmID0gdXNlUmVmPExleGljYWxFZGl0b3IgfCBudWxsPihudWxsKTtcblxuICBjb25zdCBvbkRlbGV0ZSA9IHVzZUNhbGxiYWNrKFxuICAgIChwYXlsb2FkOiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICBpZiAoaXNTZWxlY3RlZCAmJiAkaXNOb2RlU2VsZWN0aW9uKCRnZXRTZWxlY3Rpb24oKSkpIHtcbiAgICAgICAgY29uc3QgZXZlbnQ6IEtleWJvYXJkRXZlbnQgPSBwYXlsb2FkO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBub2RlID0gJGdldE5vZGVCeUtleShub2RlS2V5KTtcbiAgICAgICAgaWYgKCRpc0ltYWdlTm9kZShub2RlKSkge1xuICAgICAgICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0U2VsZWN0ZWQoZmFsc2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgW2lzU2VsZWN0ZWQsIG5vZGVLZXksIHNldFNlbGVjdGVkXSxcbiAgKTtcblxuICBjb25zdCBvbkVudGVyID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBsYXRlc3RTZWxlY3Rpb24gPSAkZ2V0U2VsZWN0aW9uKCk7XG4gICAgICBjb25zdCBidXR0b25FbGVtID0gYnV0dG9uUmVmLmN1cnJlbnQ7XG4gICAgICBpZiAoXG4gICAgICAgIGlzU2VsZWN0ZWQgJiZcbiAgICAgICAgJGlzTm9kZVNlbGVjdGlvbihsYXRlc3RTZWxlY3Rpb24pICYmXG4gICAgICAgIGxhdGVzdFNlbGVjdGlvbi5nZXROb2RlcygpLmxlbmd0aCA9PT0gMVxuICAgICAgKSB7XG4gICAgICAgIGlmIChzaG93Q2FwdGlvbikge1xuICAgICAgICAgIC8vIE1vdmUgZm9jdXMgaW50byBuZXN0ZWQgZWRpdG9yXG4gICAgICAgICAgJHNldFNlbGVjdGlvbihudWxsKTtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGNhcHRpb24uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBidXR0b25FbGVtICE9PSBudWxsICYmXG4gICAgICAgICAgYnV0dG9uRWxlbSAhPT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudFxuICAgICAgICApIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGJ1dHRvbkVsZW0uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgW2NhcHRpb24sIGlzU2VsZWN0ZWQsIHNob3dDYXB0aW9uXSxcbiAgKTtcblxuICBjb25zdCBvbkVzY2FwZSA9IHVzZUNhbGxiYWNrKFxuICAgIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBhY3RpdmVFZGl0b3JSZWYuY3VycmVudCA9PT0gY2FwdGlvbiB8fFxuICAgICAgICBidXR0b25SZWYuY3VycmVudCA9PT0gZXZlbnQudGFyZ2V0XG4gICAgICApIHtcbiAgICAgICAgJHNldFNlbGVjdGlvbihudWxsKTtcbiAgICAgICAgZWRpdG9yLnVwZGF0ZSgoKSA9PiB7XG4gICAgICAgICAgc2V0U2VsZWN0ZWQodHJ1ZSk7XG4gICAgICAgICAgY29uc3QgcGFyZW50Um9vdEVsZW1lbnQgPSBlZGl0b3IuZ2V0Um9vdEVsZW1lbnQoKTtcbiAgICAgICAgICBpZiAocGFyZW50Um9vdEVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHBhcmVudFJvb3RFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBbY2FwdGlvbiwgZWRpdG9yLCBzZXRTZWxlY3RlZF0sXG4gICk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgaXNNb3VudGVkID0gdHJ1ZTtcbiAgICBjb25zdCB1bnJlZ2lzdGVyID0gbWVyZ2VSZWdpc3RlcihcbiAgICAgIGVkaXRvci5yZWdpc3RlclVwZGF0ZUxpc3RlbmVyKCh7ZWRpdG9yU3RhdGV9KSA9PiB7XG4gICAgICAgIGlmIChpc01vdW50ZWQpIHtcbiAgICAgICAgICBzZXRTZWxlY3Rpb24oZWRpdG9yU3RhdGUucmVhZCgoKSA9PiAkZ2V0U2VsZWN0aW9uKCkpKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBlZGl0b3IucmVnaXN0ZXJDb21tYW5kKFxuICAgICAgICBTRUxFQ1RJT05fQ0hBTkdFX0NPTU1BTkQsXG4gICAgICAgIChfLCBhY3RpdmVFZGl0b3IpID0+IHtcbiAgICAgICAgICBhY3RpdmVFZGl0b3JSZWYuY3VycmVudCA9IGFjdGl2ZUVkaXRvcjtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XLFxuICAgICAgKSxcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQ8TW91c2VFdmVudD4oXG4gICAgICAgIENMSUNLX0NPTU1BTkQsXG4gICAgICAgIChwYXlsb2FkKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXZlbnQgPSBwYXlsb2FkO1xuXG4gICAgICAgICAgaWYgKGlzUmVzaXppbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBpbWFnZVJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgICAgc2V0U2VsZWN0ZWQoIWlzU2VsZWN0ZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgc2V0U2VsZWN0ZWQodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XLFxuICAgICAgKSxcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQoXG4gICAgICAgIERSQUdTVEFSVF9DT01NQU5ELFxuICAgICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBpbWFnZVJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICAvLyBUT0RPIFRoaXMgaXMganVzdCBhIHRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBGRiB0byBiZWhhdmUgbGlrZSBvdGhlciBicm93c2Vycy5cbiAgICAgICAgICAgIC8vIElkZWFsbHksIHRoaXMgaGFuZGxlcyBkcmFnICYgZHJvcCB0b28gKGFuZCBhbGwgYnJvd3NlcnMpLlxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XLFxuICAgICAgKSxcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQoXG4gICAgICAgIEtFWV9ERUxFVEVfQ09NTUFORCxcbiAgICAgICAgb25EZWxldGUsXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XLFxuICAgICAgKSxcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQoXG4gICAgICAgIEtFWV9CQUNLU1BBQ0VfQ09NTUFORCxcbiAgICAgICAgb25EZWxldGUsXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XLFxuICAgICAgKSxcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQoS0VZX0VOVEVSX0NPTU1BTkQsIG9uRW50ZXIsIENPTU1BTkRfUFJJT1JJVFlfTE9XKSxcbiAgICAgIGVkaXRvci5yZWdpc3RlckNvbW1hbmQoXG4gICAgICAgIEtFWV9FU0NBUEVfQ09NTUFORCxcbiAgICAgICAgb25Fc2NhcGUsXG4gICAgICAgIENPTU1BTkRfUFJJT1JJVFlfTE9XLFxuICAgICAgKSxcbiAgICApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpc01vdW50ZWQgPSBmYWxzZTtcbiAgICAgIHVucmVnaXN0ZXIoKTtcbiAgICB9O1xuICB9LCBbXG4gICAgY2xlYXJTZWxlY3Rpb24sXG4gICAgZWRpdG9yLFxuICAgIGlzUmVzaXppbmcsXG4gICAgaXNTZWxlY3RlZCxcbiAgICBub2RlS2V5LFxuICAgIG9uRGVsZXRlLFxuICAgIG9uRW50ZXIsXG4gICAgb25Fc2NhcGUsXG4gICAgc2V0U2VsZWN0ZWQsXG4gIF0pO1xuXG4gIGNvbnN0IHNldFNob3dDYXB0aW9uID0gKCkgPT4ge1xuICAgIGVkaXRvci51cGRhdGUoKCkgPT4ge1xuICAgICAgY29uc3Qgbm9kZSA9ICRnZXROb2RlQnlLZXkobm9kZUtleSk7XG4gICAgICBpZiAoJGlzSW1hZ2VOb2RlKG5vZGUpKSB7XG4gICAgICAgIG5vZGUuc2V0U2hvd0NhcHRpb24odHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3Qgb25SZXNpemVFbmQgPSAoXG4gICAgbmV4dFdpZHRoOiAnaW5oZXJpdCcgfCBudW1iZXIsXG4gICAgbmV4dEhlaWdodDogJ2luaGVyaXQnIHwgbnVtYmVyLFxuICApID0+IHtcbiAgICAvLyBEZWxheSBoaWRpbmcgdGhlIHJlc2l6ZSBiYXJzIGZvciBjbGljayBjYXNlXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRJc1Jlc2l6aW5nKGZhbHNlKTtcbiAgICB9LCAyMDApO1xuXG4gICAgZWRpdG9yLnVwZGF0ZSgoKSA9PiB7XG4gICAgICBjb25zdCBub2RlID0gJGdldE5vZGVCeUtleShub2RlS2V5KTtcbiAgICAgIGlmICgkaXNJbWFnZU5vZGUobm9kZSkpIHtcbiAgICAgICAgbm9kZS5zZXRXaWR0aEFuZEhlaWdodChuZXh0V2lkdGgsIG5leHRIZWlnaHQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IG9uUmVzaXplU3RhcnQgPSAoKSA9PiB7XG4gICAgc2V0SXNSZXNpemluZyh0cnVlKTtcbiAgfTtcblxuICBjb25zdCB7aGlzdG9yeVN0YXRlfSA9IHVzZVNoYXJlZEhpc3RvcnlDb250ZXh0KCk7XG4gIGNvbnN0IHtcbiAgICBzZXR0aW5nczoge3Nob3dOZXN0ZWRFZGl0b3JUcmVlVmlld30sXG4gIH0gPSB1c2VTZXR0aW5ncygpO1xuXG4gIGNvbnN0IGRyYWdnYWJsZSA9IGlzU2VsZWN0ZWQgJiYgJGlzTm9kZVNlbGVjdGlvbihzZWxlY3Rpb24pICYmICFpc1Jlc2l6aW5nO1xuICBjb25zdCBpc0ZvY3VzZWQgPSBpc1NlbGVjdGVkIHx8IGlzUmVzaXppbmc7XG4gIHJldHVybiAoXG4gICAgPFN1c3BlbnNlIGZhbGxiYWNrPXtudWxsfT5cbiAgICAgIDw+XG4gICAgICAgIDxkaXYgZHJhZ2dhYmxlPXtkcmFnZ2FibGV9PlxuICAgICAgICAgIDxMYXp5SW1hZ2VcbiAgICAgICAgICAgIGNsYXNzTmFtZT17XG4gICAgICAgICAgICAgIGlzRm9jdXNlZFxuICAgICAgICAgICAgICAgID8gYGZvY3VzZWQgJHskaXNOb2RlU2VsZWN0aW9uKHNlbGVjdGlvbikgPyAnZHJhZ2dhYmxlJyA6ICcnfWBcbiAgICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNyYz17c3JjfVxuICAgICAgICAgICAgYWx0VGV4dD17YWx0VGV4dH1cbiAgICAgICAgICAgIGltYWdlUmVmPXtpbWFnZVJlZn1cbiAgICAgICAgICAgIHdpZHRoPXt3aWR0aH1cbiAgICAgICAgICAgIGhlaWdodD17aGVpZ2h0fVxuICAgICAgICAgICAgbWF4V2lkdGg9e21heFdpZHRofVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7c2hvd0NhcHRpb24gJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW1hZ2UtY2FwdGlvbi1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxMZXhpY2FsTmVzdGVkQ29tcG9zZXIgaW5pdGlhbEVkaXRvcj17Y2FwdGlvbn0+XG4gICAgICAgICAgICAgIDxBdXRvRm9jdXNQbHVnaW4gLz5cbiAgICAgICAgICAgICAgPE1lbnRpb25zUGx1Z2luIC8+XG4gICAgICAgICAgICAgIDxMaW5rUGx1Z2luIC8+XG4gICAgICAgICAgICAgIDxFbW9qaXNQbHVnaW4gLz5cbiAgICAgICAgICAgICAgPEhhc2h0YWdQbHVnaW4gLz5cbiAgICAgICAgICAgICAgPEtleXdvcmRzUGx1Z2luIC8+XG4gICAgICAgICAgICAgIDxSaWNoVGV4dFBsdWdpblxuICAgICAgICAgICAgICAgIGNvbnRlbnRFZGl0YWJsZT17XG4gICAgICAgICAgICAgICAgICA8Q29udGVudEVkaXRhYmxlIGNsYXNzTmFtZT1cIkltYWdlTm9kZV9fY29udGVudEVkaXRhYmxlXCIgLz5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9e1xuICAgICAgICAgICAgICAgICAgPFBsYWNlaG9sZGVyIGNsYXNzTmFtZT1cIkltYWdlTm9kZV9fcGxhY2Vob2xkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgRW50ZXIgYSBjYXB0aW9uLi4uXG4gICAgICAgICAgICAgICAgICA8L1BsYWNlaG9sZGVyPlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBFcnJvckJvdW5kYXJ5PXtMZXhpY2FsRXJyb3JCb3VuZGFyeX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAge3Nob3dOZXN0ZWRFZGl0b3JUcmVlVmlldyA9PT0gdHJ1ZSA/IDxUcmVlVmlld1BsdWdpbiAvPiA6IG51bGx9XG4gICAgICAgICAgICA8L0xleGljYWxOZXN0ZWRDb21wb3Nlcj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAge3Jlc2l6YWJsZSAmJiAkaXNOb2RlU2VsZWN0aW9uKHNlbGVjdGlvbikgJiYgaXNGb2N1c2VkICYmIChcbiAgICAgICAgICA8SW1hZ2VSZXNpemVyXG4gICAgICAgICAgICBzaG93Q2FwdGlvbj17c2hvd0NhcHRpb259XG4gICAgICAgICAgICBzZXRTaG93Q2FwdGlvbj17c2V0U2hvd0NhcHRpb259XG4gICAgICAgICAgICBlZGl0b3I9e2VkaXRvcn1cbiAgICAgICAgICAgIGJ1dHRvblJlZj17YnV0dG9uUmVmfVxuICAgICAgICAgICAgaW1hZ2VSZWY9e2ltYWdlUmVmfVxuICAgICAgICAgICAgbWF4V2lkdGg9e21heFdpZHRofVxuICAgICAgICAgICAgb25SZXNpemVTdGFydD17b25SZXNpemVTdGFydH1cbiAgICAgICAgICAgIG9uUmVzaXplRW5kPXtvblJlc2l6ZUVuZH1cbiAgICAgICAgICAgIGNhcHRpb25zRW5hYmxlZD17Y2FwdGlvbnNFbmFibGVkfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICA8Lz5cbiAgICA8L1N1c3BlbnNlPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIkF1dG9Gb2N1c1BsdWdpbiIsInVzZUxleGljYWxDb21wb3NlckNvbnRleHQiLCJMZXhpY2FsRXJyb3JCb3VuZGFyeSIsIkhhc2h0YWdQbHVnaW4iLCJMZXhpY2FsTmVzdGVkQ29tcG9zZXIiLCJSaWNoVGV4dFBsdWdpbiIsInVzZUxleGljYWxOb2RlU2VsZWN0aW9uIiwibWVyZ2VSZWdpc3RlciIsIiRnZXROb2RlQnlLZXkiLCIkZ2V0U2VsZWN0aW9uIiwiJGlzTm9kZVNlbGVjdGlvbiIsIiRzZXRTZWxlY3Rpb24iLCJDTElDS19DT01NQU5EIiwiQ09NTUFORF9QUklPUklUWV9MT1ciLCJEUkFHU1RBUlRfQ09NTUFORCIsIktFWV9CQUNLU1BBQ0VfQ09NTUFORCIsIktFWV9ERUxFVEVfQ09NTUFORCIsIktFWV9FTlRFUl9DT01NQU5EIiwiS0VZX0VTQ0FQRV9DT01NQU5EIiwiU0VMRUNUSU9OX0NIQU5HRV9DT01NQU5EIiwiUmVhY3QiLCJTdXNwZW5zZSIsInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VTZXR0aW5ncyIsInVzZVNoYXJlZEhpc3RvcnlDb250ZXh0IiwiRW1vamlzUGx1Z2luIiwiS2V5d29yZHNQbHVnaW4iLCJMaW5rUGx1Z2luIiwiTWVudGlvbnNQbHVnaW4iLCJUcmVlVmlld1BsdWdpbiIsIkNvbnRlbnRFZGl0YWJsZSIsIkltYWdlUmVzaXplciIsIlBsYWNlaG9sZGVyIiwiJGlzSW1hZ2VOb2RlIiwiaW1hZ2VDYWNoZSIsIlNldCIsInVzZVN1c3BlbnNlSW1hZ2UiLCJzcmMiLCJoYXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsImltZyIsIkltYWdlIiwib25sb2FkIiwiYWRkIiwiTGF6eUltYWdlIiwiYWx0VGV4dCIsImNsYXNzTmFtZSIsImltYWdlUmVmIiwid2lkdGgiLCJoZWlnaHQiLCJtYXhXaWR0aCIsInVuZGVmaW5lZCIsImFsdCIsInJlZiIsInN0eWxlIiwiZHJhZ2dhYmxlIiwiSW1hZ2VDb21wb25lbnQiLCJub2RlS2V5IiwicmVzaXphYmxlIiwic2hvd0NhcHRpb24iLCJjYXB0aW9uIiwiY2FwdGlvbnNFbmFibGVkIiwiYnV0dG9uUmVmIiwiaXNTZWxlY3RlZCIsInNldFNlbGVjdGVkIiwiY2xlYXJTZWxlY3Rpb24iLCJpc1Jlc2l6aW5nIiwic2V0SXNSZXNpemluZyIsImVkaXRvciIsInNlbGVjdGlvbiIsInNldFNlbGVjdGlvbiIsImFjdGl2ZUVkaXRvclJlZiIsIm9uRGVsZXRlIiwicGF5bG9hZCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJub2RlIiwicmVtb3ZlIiwib25FbnRlciIsImxhdGVzdFNlbGVjdGlvbiIsImJ1dHRvbkVsZW0iLCJjdXJyZW50IiwiZ2V0Tm9kZXMiLCJsZW5ndGgiLCJmb2N1cyIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsIm9uRXNjYXBlIiwidGFyZ2V0IiwidXBkYXRlIiwicGFyZW50Um9vdEVsZW1lbnQiLCJnZXRSb290RWxlbWVudCIsImlzTW91bnRlZCIsInVucmVnaXN0ZXIiLCJyZWdpc3RlclVwZGF0ZUxpc3RlbmVyIiwiZWRpdG9yU3RhdGUiLCJyZWFkIiwicmVnaXN0ZXJDb21tYW5kIiwiXyIsImFjdGl2ZUVkaXRvciIsInNoaWZ0S2V5Iiwic2V0U2hvd0NhcHRpb24iLCJvblJlc2l6ZUVuZCIsIm5leHRXaWR0aCIsIm5leHRIZWlnaHQiLCJzZXRUaW1lb3V0Iiwic2V0V2lkdGhBbmRIZWlnaHQiLCJvblJlc2l6ZVN0YXJ0IiwiaGlzdG9yeVN0YXRlIiwic2V0dGluZ3MiLCJzaG93TmVzdGVkRWRpdG9yVHJlZVZpZXciLCJpc0ZvY3VzZWQiLCJmYWxsYmFjayIsImRpdiIsImluaXRpYWxFZGl0b3IiLCJjb250ZW50RWRpdGFibGUiLCJwbGFjZWhvbGRlciIsIkVycm9yQm91bmRhcnkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Lexical/nodes/ImageComponent.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Lexical/ui/ImageResizer.tsx":
/*!****************************************************!*\
  !*** ./src/components/Lexical/ui/ImageResizer.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ImageResizer)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/**\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */ \n\n\nfunction clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n}\nconst Direction = {\n    east: 1 << 0,\n    north: 1 << 3,\n    south: 1 << 1,\n    west: 1 << 2\n};\nfunction ImageResizer({ onResizeStart, onResizeEnd, buttonRef, imageRef, maxWidth, editor, showCaption, setShowCaption, captionsEnabled }) {\n    const controlWrapperRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const userSelect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        priority: \"\",\n        value: \"default\"\n    });\n    const positioningRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)({\n        currentHeight: 0,\n        currentWidth: 0,\n        direction: 0,\n        isResizing: false,\n        ratio: 0,\n        startHeight: 0,\n        startWidth: 0,\n        startX: 0,\n        startY: 0\n    });\n    const editorRootElement = editor.getRootElement();\n    // Find max width, accounting for editor padding.\n    const maxWidthContainer = maxWidth ? maxWidth : editorRootElement !== null ? editorRootElement.getBoundingClientRect().width - 20 : 100;\n    const maxHeightContainer = editorRootElement !== null ? editorRootElement.getBoundingClientRect().height - 20 : 100;\n    const minWidth = 100;\n    const minHeight = 100;\n    const setStartCursor = (direction)=>{\n        const ew = direction === Direction.east || direction === Direction.west;\n        const ns = direction === Direction.north || direction === Direction.south;\n        const nwse = direction & Direction.north && direction & Direction.west || direction & Direction.south && direction & Direction.east;\n        const cursorDir = ew ? \"ew\" : ns ? \"ns\" : nwse ? \"nwse\" : \"nesw\";\n        if (editorRootElement !== null) {\n            editorRootElement.style.setProperty(\"cursor\", `${cursorDir}-resize`, \"important\");\n        }\n        if (document.body !== null) {\n            document.body.style.setProperty(\"cursor\", `${cursorDir}-resize`, \"important\");\n            userSelect.current.value = document.body.style.getPropertyValue(\"-webkit-user-select\");\n            userSelect.current.priority = document.body.style.getPropertyPriority(\"-webkit-user-select\");\n            document.body.style.setProperty(\"-webkit-user-select\", `none`, \"important\");\n        }\n    };\n    const setEndCursor = ()=>{\n        if (editorRootElement !== null) {\n            editorRootElement.style.setProperty(\"cursor\", \"default\");\n        }\n        if (document.body !== null) {\n            document.body.style.setProperty(\"cursor\", \"default\");\n            document.body.style.setProperty(\"-webkit-user-select\", userSelect.current.value, userSelect.current.priority);\n        }\n    };\n    const handlePointerDown = (event, direction)=>{\n        if (!editor.isEditable()) {\n            return;\n        }\n        const image = imageRef.current;\n        const controlWrapper = controlWrapperRef.current;\n        if (image !== null && controlWrapper !== null) {\n            const { width, height } = image.getBoundingClientRect();\n            const positioning = positioningRef.current;\n            positioning.startWidth = width;\n            positioning.startHeight = height;\n            positioning.ratio = width / height;\n            positioning.currentWidth = width;\n            positioning.currentHeight = height;\n            positioning.startX = event.clientX;\n            positioning.startY = event.clientY;\n            positioning.isResizing = true;\n            positioning.direction = direction;\n            setStartCursor(direction);\n            onResizeStart();\n            controlWrapper.classList.add(\"image-control-wrapper--resizing\");\n            image.style.height = `${height}px`;\n            image.style.width = `${width}px`;\n            document.addEventListener(\"pointermove\", handlePointerMove);\n            document.addEventListener(\"pointerup\", handlePointerUp);\n        }\n    };\n    const handlePointerMove = (event)=>{\n        const image = imageRef.current;\n        const positioning = positioningRef.current;\n        const isHorizontal = positioning.direction & (Direction.east | Direction.west);\n        const isVertical = positioning.direction & (Direction.south | Direction.north);\n        if (image !== null && positioning.isResizing) {\n            // Corner cursor\n            if (isHorizontal && isVertical) {\n                let diff = Math.floor(positioning.startX - event.clientX);\n                diff = positioning.direction & Direction.east ? -diff : diff;\n                const width = clamp(positioning.startWidth + diff, minWidth, maxWidthContainer);\n                const height = width / positioning.ratio;\n                image.style.width = `${width}px`;\n                image.style.height = `${height}px`;\n                positioning.currentHeight = height;\n                positioning.currentWidth = width;\n            } else if (isVertical) {\n                let diff = Math.floor(positioning.startY - event.clientY);\n                diff = positioning.direction & Direction.south ? -diff : diff;\n                const height = clamp(positioning.startHeight + diff, minHeight, maxHeightContainer);\n                image.style.height = `${height}px`;\n                positioning.currentHeight = height;\n            } else {\n                let diff = Math.floor(positioning.startX - event.clientX);\n                diff = positioning.direction & Direction.east ? -diff : diff;\n                const width = clamp(positioning.startWidth + diff, minWidth, maxWidthContainer);\n                image.style.width = `${width}px`;\n                positioning.currentWidth = width;\n            }\n        }\n    };\n    const handlePointerUp = ()=>{\n        const image = imageRef.current;\n        const positioning = positioningRef.current;\n        const controlWrapper = controlWrapperRef.current;\n        if (image !== null && controlWrapper !== null && positioning.isResizing) {\n            const width = positioning.currentWidth;\n            const height = positioning.currentHeight;\n            positioning.startWidth = 0;\n            positioning.startHeight = 0;\n            positioning.ratio = 0;\n            positioning.startX = 0;\n            positioning.startY = 0;\n            positioning.currentWidth = 0;\n            positioning.currentHeight = 0;\n            positioning.isResizing = false;\n            controlWrapper.classList.remove(\"image-control-wrapper--resizing\");\n            setEndCursor();\n            onResizeEnd(width, height);\n            document.removeEventListener(\"pointermove\", handlePointerMove);\n            document.removeEventListener(\"pointerup\", handlePointerUp);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: controlWrapperRef,\n        children: [\n            !showCaption && captionsEnabled && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                className: \"image-caption-button\",\n                ref: buttonRef,\n                onClick: ()=>{\n                    setShowCaption(!showCaption);\n                },\n                children: \"Add Caption\"\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/ui/ImageResizer.tsx\",\n                lineNumber: 253,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"image-resizer image-resizer-n\",\n                onPointerDown: (event)=>{\n                    handlePointerDown(event, Direction.north);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/ui/ImageResizer.tsx\",\n                lineNumber: 262,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"image-resizer image-resizer-ne\",\n                onPointerDown: (event)=>{\n                    handlePointerDown(event, Direction.north | Direction.east);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/ui/ImageResizer.tsx\",\n                lineNumber: 268,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"image-resizer image-resizer-e\",\n                onPointerDown: (event)=>{\n                    handlePointerDown(event, Direction.east);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/ui/ImageResizer.tsx\",\n                lineNumber: 274,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"image-resizer image-resizer-se\",\n                onPointerDown: (event)=>{\n                    handlePointerDown(event, Direction.south | Direction.east);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/ui/ImageResizer.tsx\",\n                lineNumber: 280,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"image-resizer image-resizer-s\",\n                onPointerDown: (event)=>{\n                    handlePointerDown(event, Direction.south);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/ui/ImageResizer.tsx\",\n                lineNumber: 286,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"image-resizer image-resizer-sw\",\n                onPointerDown: (event)=>{\n                    handlePointerDown(event, Direction.south | Direction.west);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/ui/ImageResizer.tsx\",\n                lineNumber: 292,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"image-resizer image-resizer-w\",\n                onPointerDown: (event)=>{\n                    handlePointerDown(event, Direction.west);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/ui/ImageResizer.tsx\",\n                lineNumber: 298,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"image-resizer image-resizer-nw\",\n                onPointerDown: (event)=>{\n                    handlePointerDown(event, Direction.north | Direction.west);\n                }\n            }, void 0, false, {\n                fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/ui/ImageResizer.tsx\",\n                lineNumber: 304,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/saheliandev/Desktop/Personnal/Site-minist-re/src/components/Lexical/ui/ImageResizer.tsx\",\n        lineNumber: 251,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9MZXhpY2FsL3VpL0ltYWdlUmVzaXplci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7Ozs7O0NBTUM7QUFJOEI7QUFDRjtBQUU3QixTQUFTRSxNQUFNQyxLQUFhLEVBQUVDLEdBQVcsRUFBRUMsR0FBVztJQUNwRCxPQUFPQyxLQUFLRixHQUFHLENBQUNFLEtBQUtELEdBQUcsQ0FBQ0YsT0FBT0MsTUFBTUM7QUFDeEM7QUFFQSxNQUFNRSxZQUFZO0lBQ2hCQyxNQUFNLEtBQUs7SUFDWEMsT0FBTyxLQUFLO0lBQ1pDLE9BQU8sS0FBSztJQUNaQyxNQUFNLEtBQUs7QUFDYjtBQUVlLFNBQVNDLGFBQWEsRUFDbkNDLGFBQWEsRUFDYkMsV0FBVyxFQUNYQyxTQUFTLEVBQ1RDLFFBQVEsRUFDUkMsUUFBUSxFQUNSQyxNQUFNLEVBQ05DLFdBQVcsRUFDWEMsY0FBYyxFQUNkQyxlQUFlLEVBV2hCO0lBQ0MsTUFBTUMsb0JBQW9CckIsNkNBQU1BLENBQWlCO0lBQ2pELE1BQU1zQixhQUFhdEIsNkNBQU1BLENBQUM7UUFDeEJ1QixVQUFVO1FBQ1ZyQixPQUFPO0lBQ1Q7SUFDQSxNQUFNc0IsaUJBQWlCeEIsNkNBQU1BLENBVTFCO1FBQ0R5QixlQUFlO1FBQ2ZDLGNBQWM7UUFDZEMsV0FBVztRQUNYQyxZQUFZO1FBQ1pDLE9BQU87UUFDUEMsYUFBYTtRQUNiQyxZQUFZO1FBQ1pDLFFBQVE7UUFDUkMsUUFBUTtJQUNWO0lBQ0EsTUFBTUMsb0JBQW9CakIsT0FBT2tCLGNBQWM7SUFDL0MsaURBQWlEO0lBQ2pELE1BQU1DLG9CQUFvQnBCLFdBQ3RCQSxXQUNBa0Isc0JBQXNCLE9BQ3RCQSxrQkFBa0JHLHFCQUFxQixHQUFHQyxLQUFLLEdBQUcsS0FDbEQ7SUFDSixNQUFNQyxxQkFDSkwsc0JBQXNCLE9BQ2xCQSxrQkFBa0JHLHFCQUFxQixHQUFHRyxNQUFNLEdBQUcsS0FDbkQ7SUFFTixNQUFNQyxXQUFXO0lBQ2pCLE1BQU1DLFlBQVk7SUFFbEIsTUFBTUMsaUJBQWlCLENBQUNoQjtRQUN0QixNQUFNaUIsS0FBS2pCLGNBQWNyQixVQUFVQyxJQUFJLElBQUlvQixjQUFjckIsVUFBVUksSUFBSTtRQUN2RSxNQUFNbUMsS0FBS2xCLGNBQWNyQixVQUFVRSxLQUFLLElBQUltQixjQUFjckIsVUFBVUcsS0FBSztRQUN6RSxNQUFNcUMsT0FDSixZQUFheEMsVUFBVUUsS0FBSyxJQUFJbUIsWUFBWXJCLFVBQVVJLElBQUksSUFDekRpQixZQUFZckIsVUFBVUcsS0FBSyxJQUFJa0IsWUFBWXJCLFVBQVVDLElBQUk7UUFFNUQsTUFBTXdDLFlBQVlILEtBQUssT0FBT0MsS0FBSyxPQUFPQyxPQUFPLFNBQVM7UUFFMUQsSUFBSVosc0JBQXNCLE1BQU07WUFDOUJBLGtCQUFrQmMsS0FBSyxDQUFDQyxXQUFXLENBQ2pDLFVBQ0EsQ0FBQyxFQUFFRixVQUFVLE9BQU8sQ0FBQyxFQUNyQjtRQUVKO1FBQ0EsSUFBSUcsU0FBU0MsSUFBSSxLQUFLLE1BQU07WUFDMUJELFNBQVNDLElBQUksQ0FBQ0gsS0FBSyxDQUFDQyxXQUFXLENBQzdCLFVBQ0EsQ0FBQyxFQUFFRixVQUFVLE9BQU8sQ0FBQyxFQUNyQjtZQUVGekIsV0FBVzhCLE9BQU8sQ0FBQ2xELEtBQUssR0FBR2dELFNBQVNDLElBQUksQ0FBQ0gsS0FBSyxDQUFDSyxnQkFBZ0IsQ0FDN0Q7WUFFRi9CLFdBQVc4QixPQUFPLENBQUM3QixRQUFRLEdBQUcyQixTQUFTQyxJQUFJLENBQUNILEtBQUssQ0FBQ00sbUJBQW1CLENBQ25FO1lBRUZKLFNBQVNDLElBQUksQ0FBQ0gsS0FBSyxDQUFDQyxXQUFXLENBQzdCLHVCQUNBLENBQUMsSUFBSSxDQUFDLEVBQ047UUFFSjtJQUNGO0lBRUEsTUFBTU0sZUFBZTtRQUNuQixJQUFJckIsc0JBQXNCLE1BQU07WUFDOUJBLGtCQUFrQmMsS0FBSyxDQUFDQyxXQUFXLENBQUMsVUFBVTtRQUNoRDtRQUNBLElBQUlDLFNBQVNDLElBQUksS0FBSyxNQUFNO1lBQzFCRCxTQUFTQyxJQUFJLENBQUNILEtBQUssQ0FBQ0MsV0FBVyxDQUFDLFVBQVU7WUFDMUNDLFNBQVNDLElBQUksQ0FBQ0gsS0FBSyxDQUFDQyxXQUFXLENBQzdCLHVCQUNBM0IsV0FBVzhCLE9BQU8sQ0FBQ2xELEtBQUssRUFDeEJvQixXQUFXOEIsT0FBTyxDQUFDN0IsUUFBUTtRQUUvQjtJQUNGO0lBRUEsTUFBTWlDLG9CQUFvQixDQUN4QkMsT0FDQTlCO1FBRUEsSUFBSSxDQUFDVixPQUFPeUMsVUFBVSxJQUFJO1lBQ3hCO1FBQ0Y7UUFFQSxNQUFNQyxRQUFRNUMsU0FBU3FDLE9BQU87UUFDOUIsTUFBTVEsaUJBQWlCdkMsa0JBQWtCK0IsT0FBTztRQUVoRCxJQUFJTyxVQUFVLFFBQVFDLG1CQUFtQixNQUFNO1lBQzdDLE1BQU0sRUFBQ3RCLEtBQUssRUFBRUUsTUFBTSxFQUFDLEdBQUdtQixNQUFNdEIscUJBQXFCO1lBQ25ELE1BQU13QixjQUFjckMsZUFBZTRCLE9BQU87WUFDMUNTLFlBQVk5QixVQUFVLEdBQUdPO1lBQ3pCdUIsWUFBWS9CLFdBQVcsR0FBR1U7WUFDMUJxQixZQUFZaEMsS0FBSyxHQUFHUyxRQUFRRTtZQUM1QnFCLFlBQVluQyxZQUFZLEdBQUdZO1lBQzNCdUIsWUFBWXBDLGFBQWEsR0FBR2U7WUFDNUJxQixZQUFZN0IsTUFBTSxHQUFHeUIsTUFBTUssT0FBTztZQUNsQ0QsWUFBWTVCLE1BQU0sR0FBR3dCLE1BQU1NLE9BQU87WUFDbENGLFlBQVlqQyxVQUFVLEdBQUc7WUFDekJpQyxZQUFZbEMsU0FBUyxHQUFHQTtZQUV4QmdCLGVBQWVoQjtZQUNmZjtZQUVBZ0QsZUFBZUksU0FBUyxDQUFDQyxHQUFHLENBQUM7WUFDN0JOLE1BQU1YLEtBQUssQ0FBQ1IsTUFBTSxHQUFHLENBQUMsRUFBRUEsT0FBTyxFQUFFLENBQUM7WUFDbENtQixNQUFNWCxLQUFLLENBQUNWLEtBQUssR0FBRyxDQUFDLEVBQUVBLE1BQU0sRUFBRSxDQUFDO1lBRWhDWSxTQUFTZ0IsZ0JBQWdCLENBQUMsZUFBZUM7WUFDekNqQixTQUFTZ0IsZ0JBQWdCLENBQUMsYUFBYUU7UUFDekM7SUFDRjtJQUNBLE1BQU1ELG9CQUFvQixDQUFDVjtRQUN6QixNQUFNRSxRQUFRNUMsU0FBU3FDLE9BQU87UUFDOUIsTUFBTVMsY0FBY3JDLGVBQWU0QixPQUFPO1FBRTFDLE1BQU1pQixlQUNKUixZQUFZbEMsU0FBUyxHQUFJckIsQ0FBQUEsVUFBVUMsSUFBSSxHQUFHRCxVQUFVSSxJQUFJO1FBQzFELE1BQU00RCxhQUNKVCxZQUFZbEMsU0FBUyxHQUFJckIsQ0FBQUEsVUFBVUcsS0FBSyxHQUFHSCxVQUFVRSxLQUFLO1FBRTVELElBQUltRCxVQUFVLFFBQVFFLFlBQVlqQyxVQUFVLEVBQUU7WUFDNUMsZ0JBQWdCO1lBQ2hCLElBQUl5QyxnQkFBZ0JDLFlBQVk7Z0JBQzlCLElBQUlDLE9BQU9sRSxLQUFLbUUsS0FBSyxDQUFDWCxZQUFZN0IsTUFBTSxHQUFHeUIsTUFBTUssT0FBTztnQkFDeERTLE9BQU9WLFlBQVlsQyxTQUFTLEdBQUdyQixVQUFVQyxJQUFJLEdBQUcsQ0FBQ2dFLE9BQU9BO2dCQUV4RCxNQUFNakMsUUFBUXJDLE1BQ1o0RCxZQUFZOUIsVUFBVSxHQUFHd0MsTUFDekI5QixVQUNBTDtnQkFHRixNQUFNSSxTQUFTRixRQUFRdUIsWUFBWWhDLEtBQUs7Z0JBQ3hDOEIsTUFBTVgsS0FBSyxDQUFDVixLQUFLLEdBQUcsQ0FBQyxFQUFFQSxNQUFNLEVBQUUsQ0FBQztnQkFDaENxQixNQUFNWCxLQUFLLENBQUNSLE1BQU0sR0FBRyxDQUFDLEVBQUVBLE9BQU8sRUFBRSxDQUFDO2dCQUNsQ3FCLFlBQVlwQyxhQUFhLEdBQUdlO2dCQUM1QnFCLFlBQVluQyxZQUFZLEdBQUdZO1lBQzdCLE9BQU8sSUFBSWdDLFlBQVk7Z0JBQ3JCLElBQUlDLE9BQU9sRSxLQUFLbUUsS0FBSyxDQUFDWCxZQUFZNUIsTUFBTSxHQUFHd0IsTUFBTU0sT0FBTztnQkFDeERRLE9BQU9WLFlBQVlsQyxTQUFTLEdBQUdyQixVQUFVRyxLQUFLLEdBQUcsQ0FBQzhELE9BQU9BO2dCQUV6RCxNQUFNL0IsU0FBU3ZDLE1BQ2I0RCxZQUFZL0IsV0FBVyxHQUFHeUMsTUFDMUI3QixXQUNBSDtnQkFHRm9CLE1BQU1YLEtBQUssQ0FBQ1IsTUFBTSxHQUFHLENBQUMsRUFBRUEsT0FBTyxFQUFFLENBQUM7Z0JBQ2xDcUIsWUFBWXBDLGFBQWEsR0FBR2U7WUFDOUIsT0FBTztnQkFDTCxJQUFJK0IsT0FBT2xFLEtBQUttRSxLQUFLLENBQUNYLFlBQVk3QixNQUFNLEdBQUd5QixNQUFNSyxPQUFPO2dCQUN4RFMsT0FBT1YsWUFBWWxDLFNBQVMsR0FBR3JCLFVBQVVDLElBQUksR0FBRyxDQUFDZ0UsT0FBT0E7Z0JBRXhELE1BQU1qQyxRQUFRckMsTUFDWjRELFlBQVk5QixVQUFVLEdBQUd3QyxNQUN6QjlCLFVBQ0FMO2dCQUdGdUIsTUFBTVgsS0FBSyxDQUFDVixLQUFLLEdBQUcsQ0FBQyxFQUFFQSxNQUFNLEVBQUUsQ0FBQztnQkFDaEN1QixZQUFZbkMsWUFBWSxHQUFHWTtZQUM3QjtRQUNGO0lBQ0Y7SUFDQSxNQUFNOEIsa0JBQWtCO1FBQ3RCLE1BQU1ULFFBQVE1QyxTQUFTcUMsT0FBTztRQUM5QixNQUFNUyxjQUFjckMsZUFBZTRCLE9BQU87UUFDMUMsTUFBTVEsaUJBQWlCdkMsa0JBQWtCK0IsT0FBTztRQUNoRCxJQUFJTyxVQUFVLFFBQVFDLG1CQUFtQixRQUFRQyxZQUFZakMsVUFBVSxFQUFFO1lBQ3ZFLE1BQU1VLFFBQVF1QixZQUFZbkMsWUFBWTtZQUN0QyxNQUFNYyxTQUFTcUIsWUFBWXBDLGFBQWE7WUFDeENvQyxZQUFZOUIsVUFBVSxHQUFHO1lBQ3pCOEIsWUFBWS9CLFdBQVcsR0FBRztZQUMxQitCLFlBQVloQyxLQUFLLEdBQUc7WUFDcEJnQyxZQUFZN0IsTUFBTSxHQUFHO1lBQ3JCNkIsWUFBWTVCLE1BQU0sR0FBRztZQUNyQjRCLFlBQVluQyxZQUFZLEdBQUc7WUFDM0JtQyxZQUFZcEMsYUFBYSxHQUFHO1lBQzVCb0MsWUFBWWpDLFVBQVUsR0FBRztZQUV6QmdDLGVBQWVJLFNBQVMsQ0FBQ1MsTUFBTSxDQUFDO1lBRWhDbEI7WUFDQTFDLFlBQVl5QixPQUFPRTtZQUVuQlUsU0FBU3dCLG1CQUFtQixDQUFDLGVBQWVQO1lBQzVDakIsU0FBU3dCLG1CQUFtQixDQUFDLGFBQWFOO1FBQzVDO0lBQ0Y7SUFDQSxxQkFDRSw4REFBQ087UUFBSUMsS0FBS3ZEOztZQUNQLENBQUNILGVBQWVFLGlDQUNmLDhEQUFDeUQ7Z0JBQ0NDLFdBQVU7Z0JBQ1ZGLEtBQUs5RDtnQkFDTGlFLFNBQVM7b0JBQ1A1RCxlQUFlLENBQUNEO2dCQUNsQjswQkFBRzs7Ozs7OzBCQUlQLDhEQUFDeUQ7Z0JBQ0NHLFdBQVU7Z0JBQ1ZFLGVBQWUsQ0FBQ3ZCO29CQUNkRCxrQkFBa0JDLE9BQU9uRCxVQUFVRSxLQUFLO2dCQUMxQzs7Ozs7OzBCQUVGLDhEQUFDbUU7Z0JBQ0NHLFdBQVU7Z0JBQ1ZFLGVBQWUsQ0FBQ3ZCO29CQUNkRCxrQkFBa0JDLE9BQU9uRCxVQUFVRSxLQUFLLEdBQUdGLFVBQVVDLElBQUk7Z0JBQzNEOzs7Ozs7MEJBRUYsOERBQUNvRTtnQkFDQ0csV0FBVTtnQkFDVkUsZUFBZSxDQUFDdkI7b0JBQ2RELGtCQUFrQkMsT0FBT25ELFVBQVVDLElBQUk7Z0JBQ3pDOzs7Ozs7MEJBRUYsOERBQUNvRTtnQkFDQ0csV0FBVTtnQkFDVkUsZUFBZSxDQUFDdkI7b0JBQ2RELGtCQUFrQkMsT0FBT25ELFVBQVVHLEtBQUssR0FBR0gsVUFBVUMsSUFBSTtnQkFDM0Q7Ozs7OzswQkFFRiw4REFBQ29FO2dCQUNDRyxXQUFVO2dCQUNWRSxlQUFlLENBQUN2QjtvQkFDZEQsa0JBQWtCQyxPQUFPbkQsVUFBVUcsS0FBSztnQkFDMUM7Ozs7OzswQkFFRiw4REFBQ2tFO2dCQUNDRyxXQUFVO2dCQUNWRSxlQUFlLENBQUN2QjtvQkFDZEQsa0JBQWtCQyxPQUFPbkQsVUFBVUcsS0FBSyxHQUFHSCxVQUFVSSxJQUFJO2dCQUMzRDs7Ozs7OzBCQUVGLDhEQUFDaUU7Z0JBQ0NHLFdBQVU7Z0JBQ1ZFLGVBQWUsQ0FBQ3ZCO29CQUNkRCxrQkFBa0JDLE9BQU9uRCxVQUFVSSxJQUFJO2dCQUN6Qzs7Ozs7OzBCQUVGLDhEQUFDaUU7Z0JBQ0NHLFdBQVU7Z0JBQ1ZFLGVBQWUsQ0FBQ3ZCO29CQUNkRCxrQkFBa0JDLE9BQU9uRCxVQUFVRSxLQUFLLEdBQUdGLFVBQVVJLElBQUk7Z0JBQzNEOzs7Ozs7Ozs7Ozs7QUFJUiIsInNvdXJjZXMiOlsid2VicGFjazovL2Ntc19jcmVhdG9yLy4vc3JjL2NvbXBvbmVudHMvTGV4aWNhbC91aS9JbWFnZVJlc2l6ZXIudHN4PzIzNmMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG5pbXBvcnQgdHlwZSB7TGV4aWNhbEVkaXRvcn0gZnJvbSAnbGV4aWNhbCc7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7dXNlUmVmfSBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIGNsYW1wKHZhbHVlOiBudW1iZXIsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsdWUsIG1pbiksIG1heCk7XG59XG5cbmNvbnN0IERpcmVjdGlvbiA9IHtcbiAgZWFzdDogMSA8PCAwLFxuICBub3J0aDogMSA8PCAzLFxuICBzb3V0aDogMSA8PCAxLFxuICB3ZXN0OiAxIDw8IDIsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbWFnZVJlc2l6ZXIoe1xuICBvblJlc2l6ZVN0YXJ0LFxuICBvblJlc2l6ZUVuZCxcbiAgYnV0dG9uUmVmLFxuICBpbWFnZVJlZixcbiAgbWF4V2lkdGgsXG4gIGVkaXRvcixcbiAgc2hvd0NhcHRpb24sXG4gIHNldFNob3dDYXB0aW9uLFxuICBjYXB0aW9uc0VuYWJsZWQsXG59OiB7XG4gIGVkaXRvcjogTGV4aWNhbEVkaXRvcjtcbiAgYnV0dG9uUmVmOiB7Y3VycmVudDogbnVsbCB8IEhUTUxCdXR0b25FbGVtZW50fTtcbiAgaW1hZ2VSZWY6IHtjdXJyZW50OiBudWxsIHwgSFRNTEVsZW1lbnR9O1xuICBtYXhXaWR0aD86IG51bWJlcjtcbiAgb25SZXNpemVFbmQ6ICh3aWR0aDogJ2luaGVyaXQnIHwgbnVtYmVyLCBoZWlnaHQ6ICdpbmhlcml0JyB8IG51bWJlcikgPT4gdm9pZDtcbiAgb25SZXNpemVTdGFydDogKCkgPT4gdm9pZDtcbiAgc2V0U2hvd0NhcHRpb246IChzaG93OiBib29sZWFuKSA9PiB2b2lkO1xuICBzaG93Q2FwdGlvbjogYm9vbGVhbjtcbiAgY2FwdGlvbnNFbmFibGVkOiBib29sZWFuO1xufSk6IEpTWC5FbGVtZW50IHtcbiAgY29uc3QgY29udHJvbFdyYXBwZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCB1c2VyU2VsZWN0ID0gdXNlUmVmKHtcbiAgICBwcmlvcml0eTogJycsXG4gICAgdmFsdWU6ICdkZWZhdWx0JyxcbiAgfSk7XG4gIGNvbnN0IHBvc2l0aW9uaW5nUmVmID0gdXNlUmVmPHtcbiAgICBjdXJyZW50SGVpZ2h0OiAnaW5oZXJpdCcgfCBudW1iZXI7XG4gICAgY3VycmVudFdpZHRoOiAnaW5oZXJpdCcgfCBudW1iZXI7XG4gICAgZGlyZWN0aW9uOiBudW1iZXI7XG4gICAgaXNSZXNpemluZzogYm9vbGVhbjtcbiAgICByYXRpbzogbnVtYmVyO1xuICAgIHN0YXJ0SGVpZ2h0OiBudW1iZXI7XG4gICAgc3RhcnRXaWR0aDogbnVtYmVyO1xuICAgIHN0YXJ0WDogbnVtYmVyO1xuICAgIHN0YXJ0WTogbnVtYmVyO1xuICB9Pih7XG4gICAgY3VycmVudEhlaWdodDogMCxcbiAgICBjdXJyZW50V2lkdGg6IDAsXG4gICAgZGlyZWN0aW9uOiAwLFxuICAgIGlzUmVzaXppbmc6IGZhbHNlLFxuICAgIHJhdGlvOiAwLFxuICAgIHN0YXJ0SGVpZ2h0OiAwLFxuICAgIHN0YXJ0V2lkdGg6IDAsXG4gICAgc3RhcnRYOiAwLFxuICAgIHN0YXJ0WTogMCxcbiAgfSk7XG4gIGNvbnN0IGVkaXRvclJvb3RFbGVtZW50ID0gZWRpdG9yLmdldFJvb3RFbGVtZW50KCk7XG4gIC8vIEZpbmQgbWF4IHdpZHRoLCBhY2NvdW50aW5nIGZvciBlZGl0b3IgcGFkZGluZy5cbiAgY29uc3QgbWF4V2lkdGhDb250YWluZXIgPSBtYXhXaWR0aFxuICAgID8gbWF4V2lkdGhcbiAgICA6IGVkaXRvclJvb3RFbGVtZW50ICE9PSBudWxsXG4gICAgPyBlZGl0b3JSb290RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCAtIDIwXG4gICAgOiAxMDA7XG4gIGNvbnN0IG1heEhlaWdodENvbnRhaW5lciA9XG4gICAgZWRpdG9yUm9vdEVsZW1lbnQgIT09IG51bGxcbiAgICAgID8gZWRpdG9yUm9vdEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IC0gMjBcbiAgICAgIDogMTAwO1xuXG4gIGNvbnN0IG1pbldpZHRoID0gMTAwO1xuICBjb25zdCBtaW5IZWlnaHQgPSAxMDA7XG5cbiAgY29uc3Qgc2V0U3RhcnRDdXJzb3IgPSAoZGlyZWN0aW9uOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBldyA9IGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLmVhc3QgfHwgZGlyZWN0aW9uID09PSBEaXJlY3Rpb24ud2VzdDtcbiAgICBjb25zdCBucyA9IGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLm5vcnRoIHx8IGRpcmVjdGlvbiA9PT0gRGlyZWN0aW9uLnNvdXRoO1xuICAgIGNvbnN0IG53c2UgPVxuICAgICAgKGRpcmVjdGlvbiAmIERpcmVjdGlvbi5ub3J0aCAmJiBkaXJlY3Rpb24gJiBEaXJlY3Rpb24ud2VzdCkgfHxcbiAgICAgIChkaXJlY3Rpb24gJiBEaXJlY3Rpb24uc291dGggJiYgZGlyZWN0aW9uICYgRGlyZWN0aW9uLmVhc3QpO1xuXG4gICAgY29uc3QgY3Vyc29yRGlyID0gZXcgPyAnZXcnIDogbnMgPyAnbnMnIDogbndzZSA/ICdud3NlJyA6ICduZXN3JztcblxuICAgIGlmIChlZGl0b3JSb290RWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgZWRpdG9yUm9vdEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICdjdXJzb3InLFxuICAgICAgICBgJHtjdXJzb3JEaXJ9LXJlc2l6ZWAsXG4gICAgICAgICdpbXBvcnRhbnQnLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKGRvY3VtZW50LmJvZHkgIT09IG51bGwpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICdjdXJzb3InLFxuICAgICAgICBgJHtjdXJzb3JEaXJ9LXJlc2l6ZWAsXG4gICAgICAgICdpbXBvcnRhbnQnLFxuICAgICAgKTtcbiAgICAgIHVzZXJTZWxlY3QuY3VycmVudC52YWx1ZSA9IGRvY3VtZW50LmJvZHkuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcbiAgICAgICAgJy13ZWJraXQtdXNlci1zZWxlY3QnLFxuICAgICAgKTtcbiAgICAgIHVzZXJTZWxlY3QuY3VycmVudC5wcmlvcml0eSA9IGRvY3VtZW50LmJvZHkuc3R5bGUuZ2V0UHJvcGVydHlQcmlvcml0eShcbiAgICAgICAgJy13ZWJraXQtdXNlci1zZWxlY3QnLFxuICAgICAgKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICctd2Via2l0LXVzZXItc2VsZWN0JyxcbiAgICAgICAgYG5vbmVgLFxuICAgICAgICAnaW1wb3J0YW50JyxcbiAgICAgICk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNldEVuZEN1cnNvciA9ICgpID0+IHtcbiAgICBpZiAoZWRpdG9yUm9vdEVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgIGVkaXRvclJvb3RFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCdjdXJzb3InLCAnZGVmYXVsdCcpO1xuICAgIH1cbiAgICBpZiAoZG9jdW1lbnQuYm9keSAhPT0gbnVsbCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5zZXRQcm9wZXJ0eSgnY3Vyc29yJywgJ2RlZmF1bHQnKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICctd2Via2l0LXVzZXItc2VsZWN0JyxcbiAgICAgICAgdXNlclNlbGVjdC5jdXJyZW50LnZhbHVlLFxuICAgICAgICB1c2VyU2VsZWN0LmN1cnJlbnQucHJpb3JpdHksXG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVQb2ludGVyRG93biA9IChcbiAgICBldmVudDogUmVhY3QuUG9pbnRlckV2ZW50PEhUTUxEaXZFbGVtZW50PixcbiAgICBkaXJlY3Rpb246IG51bWJlcixcbiAgKSA9PiB7XG4gICAgaWYgKCFlZGl0b3IuaXNFZGl0YWJsZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgaW1hZ2UgPSBpbWFnZVJlZi5jdXJyZW50O1xuICAgIGNvbnN0IGNvbnRyb2xXcmFwcGVyID0gY29udHJvbFdyYXBwZXJSZWYuY3VycmVudDtcblxuICAgIGlmIChpbWFnZSAhPT0gbnVsbCAmJiBjb250cm9sV3JhcHBlciAhPT0gbnVsbCkge1xuICAgICAgY29uc3Qge3dpZHRoLCBoZWlnaHR9ID0gaW1hZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBjb25zdCBwb3NpdGlvbmluZyA9IHBvc2l0aW9uaW5nUmVmLmN1cnJlbnQ7XG4gICAgICBwb3NpdGlvbmluZy5zdGFydFdpZHRoID0gd2lkdGg7XG4gICAgICBwb3NpdGlvbmluZy5zdGFydEhlaWdodCA9IGhlaWdodDtcbiAgICAgIHBvc2l0aW9uaW5nLnJhdGlvID0gd2lkdGggLyBoZWlnaHQ7XG4gICAgICBwb3NpdGlvbmluZy5jdXJyZW50V2lkdGggPSB3aWR0aDtcbiAgICAgIHBvc2l0aW9uaW5nLmN1cnJlbnRIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBwb3NpdGlvbmluZy5zdGFydFggPSBldmVudC5jbGllbnRYO1xuICAgICAgcG9zaXRpb25pbmcuc3RhcnRZID0gZXZlbnQuY2xpZW50WTtcbiAgICAgIHBvc2l0aW9uaW5nLmlzUmVzaXppbmcgPSB0cnVlO1xuICAgICAgcG9zaXRpb25pbmcuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXG4gICAgICBzZXRTdGFydEN1cnNvcihkaXJlY3Rpb24pO1xuICAgICAgb25SZXNpemVTdGFydCgpO1xuXG4gICAgICBjb250cm9sV3JhcHBlci5jbGFzc0xpc3QuYWRkKCdpbWFnZS1jb250cm9sLXdyYXBwZXItLXJlc2l6aW5nJyk7XG4gICAgICBpbWFnZS5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgICAgaW1hZ2Uuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgaGFuZGxlUG9pbnRlck1vdmUpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgaGFuZGxlUG9pbnRlclVwKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGhhbmRsZVBvaW50ZXJNb3ZlID0gKGV2ZW50OiBQb2ludGVyRXZlbnQpID0+IHtcbiAgICBjb25zdCBpbWFnZSA9IGltYWdlUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgcG9zaXRpb25pbmcgPSBwb3NpdGlvbmluZ1JlZi5jdXJyZW50O1xuXG4gICAgY29uc3QgaXNIb3Jpem9udGFsID1cbiAgICAgIHBvc2l0aW9uaW5nLmRpcmVjdGlvbiAmIChEaXJlY3Rpb24uZWFzdCB8IERpcmVjdGlvbi53ZXN0KTtcbiAgICBjb25zdCBpc1ZlcnRpY2FsID1cbiAgICAgIHBvc2l0aW9uaW5nLmRpcmVjdGlvbiAmIChEaXJlY3Rpb24uc291dGggfCBEaXJlY3Rpb24ubm9ydGgpO1xuXG4gICAgaWYgKGltYWdlICE9PSBudWxsICYmIHBvc2l0aW9uaW5nLmlzUmVzaXppbmcpIHtcbiAgICAgIC8vIENvcm5lciBjdXJzb3JcbiAgICAgIGlmIChpc0hvcml6b250YWwgJiYgaXNWZXJ0aWNhbCkge1xuICAgICAgICBsZXQgZGlmZiA9IE1hdGguZmxvb3IocG9zaXRpb25pbmcuc3RhcnRYIC0gZXZlbnQuY2xpZW50WCk7XG4gICAgICAgIGRpZmYgPSBwb3NpdGlvbmluZy5kaXJlY3Rpb24gJiBEaXJlY3Rpb24uZWFzdCA/IC1kaWZmIDogZGlmZjtcblxuICAgICAgICBjb25zdCB3aWR0aCA9IGNsYW1wKFxuICAgICAgICAgIHBvc2l0aW9uaW5nLnN0YXJ0V2lkdGggKyBkaWZmLFxuICAgICAgICAgIG1pbldpZHRoLFxuICAgICAgICAgIG1heFdpZHRoQ29udGFpbmVyLFxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHdpZHRoIC8gcG9zaXRpb25pbmcucmF0aW87XG4gICAgICAgIGltYWdlLnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgICAgICBpbWFnZS5zdHlsZS5oZWlnaHQgPSBgJHtoZWlnaHR9cHhgO1xuICAgICAgICBwb3NpdGlvbmluZy5jdXJyZW50SGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBwb3NpdGlvbmluZy5jdXJyZW50V2lkdGggPSB3aWR0aDtcbiAgICAgIH0gZWxzZSBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICBsZXQgZGlmZiA9IE1hdGguZmxvb3IocG9zaXRpb25pbmcuc3RhcnRZIC0gZXZlbnQuY2xpZW50WSk7XG4gICAgICAgIGRpZmYgPSBwb3NpdGlvbmluZy5kaXJlY3Rpb24gJiBEaXJlY3Rpb24uc291dGggPyAtZGlmZiA6IGRpZmY7XG5cbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gY2xhbXAoXG4gICAgICAgICAgcG9zaXRpb25pbmcuc3RhcnRIZWlnaHQgKyBkaWZmLFxuICAgICAgICAgIG1pbkhlaWdodCxcbiAgICAgICAgICBtYXhIZWlnaHRDb250YWluZXIsXG4gICAgICAgICk7XG5cbiAgICAgICAgaW1hZ2Uuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcbiAgICAgICAgcG9zaXRpb25pbmcuY3VycmVudEhlaWdodCA9IGhlaWdodDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBkaWZmID0gTWF0aC5mbG9vcihwb3NpdGlvbmluZy5zdGFydFggLSBldmVudC5jbGllbnRYKTtcbiAgICAgICAgZGlmZiA9IHBvc2l0aW9uaW5nLmRpcmVjdGlvbiAmIERpcmVjdGlvbi5lYXN0ID8gLWRpZmYgOiBkaWZmO1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gY2xhbXAoXG4gICAgICAgICAgcG9zaXRpb25pbmcuc3RhcnRXaWR0aCArIGRpZmYsXG4gICAgICAgICAgbWluV2lkdGgsXG4gICAgICAgICAgbWF4V2lkdGhDb250YWluZXIsXG4gICAgICAgICk7XG5cbiAgICAgICAgaW1hZ2Uuc3R5bGUud2lkdGggPSBgJHt3aWR0aH1weGA7XG4gICAgICAgIHBvc2l0aW9uaW5nLmN1cnJlbnRXaWR0aCA9IHdpZHRoO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgaGFuZGxlUG9pbnRlclVwID0gKCkgPT4ge1xuICAgIGNvbnN0IGltYWdlID0gaW1hZ2VSZWYuY3VycmVudDtcbiAgICBjb25zdCBwb3NpdGlvbmluZyA9IHBvc2l0aW9uaW5nUmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgY29udHJvbFdyYXBwZXIgPSBjb250cm9sV3JhcHBlclJlZi5jdXJyZW50O1xuICAgIGlmIChpbWFnZSAhPT0gbnVsbCAmJiBjb250cm9sV3JhcHBlciAhPT0gbnVsbCAmJiBwb3NpdGlvbmluZy5pc1Jlc2l6aW5nKSB7XG4gICAgICBjb25zdCB3aWR0aCA9IHBvc2l0aW9uaW5nLmN1cnJlbnRXaWR0aDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IHBvc2l0aW9uaW5nLmN1cnJlbnRIZWlnaHQ7XG4gICAgICBwb3NpdGlvbmluZy5zdGFydFdpZHRoID0gMDtcbiAgICAgIHBvc2l0aW9uaW5nLnN0YXJ0SGVpZ2h0ID0gMDtcbiAgICAgIHBvc2l0aW9uaW5nLnJhdGlvID0gMDtcbiAgICAgIHBvc2l0aW9uaW5nLnN0YXJ0WCA9IDA7XG4gICAgICBwb3NpdGlvbmluZy5zdGFydFkgPSAwO1xuICAgICAgcG9zaXRpb25pbmcuY3VycmVudFdpZHRoID0gMDtcbiAgICAgIHBvc2l0aW9uaW5nLmN1cnJlbnRIZWlnaHQgPSAwO1xuICAgICAgcG9zaXRpb25pbmcuaXNSZXNpemluZyA9IGZhbHNlO1xuXG4gICAgICBjb250cm9sV3JhcHBlci5jbGFzc0xpc3QucmVtb3ZlKCdpbWFnZS1jb250cm9sLXdyYXBwZXItLXJlc2l6aW5nJyk7XG5cbiAgICAgIHNldEVuZEN1cnNvcigpO1xuICAgICAgb25SZXNpemVFbmQod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgaGFuZGxlUG9pbnRlck1vdmUpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgaGFuZGxlUG9pbnRlclVwKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiAoXG4gICAgPGRpdiByZWY9e2NvbnRyb2xXcmFwcGVyUmVmfT5cbiAgICAgIHshc2hvd0NhcHRpb24gJiYgY2FwdGlvbnNFbmFibGVkICYmIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzTmFtZT1cImltYWdlLWNhcHRpb24tYnV0dG9uXCJcbiAgICAgICAgICByZWY9e2J1dHRvblJlZn1cbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICBzZXRTaG93Q2FwdGlvbighc2hvd0NhcHRpb24pO1xuICAgICAgICAgIH19PlxuICAgICAgICAgIEFkZCBDYXB0aW9uXG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKX1cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwiaW1hZ2UtcmVzaXplciBpbWFnZS1yZXNpemVyLW5cIlxuICAgICAgICBvblBvaW50ZXJEb3duPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICBoYW5kbGVQb2ludGVyRG93bihldmVudCwgRGlyZWN0aW9uLm5vcnRoKTtcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cImltYWdlLXJlc2l6ZXIgaW1hZ2UtcmVzaXplci1uZVwiXG4gICAgICAgIG9uUG9pbnRlckRvd249eyhldmVudCkgPT4ge1xuICAgICAgICAgIGhhbmRsZVBvaW50ZXJEb3duKGV2ZW50LCBEaXJlY3Rpb24ubm9ydGggfCBEaXJlY3Rpb24uZWFzdCk7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJpbWFnZS1yZXNpemVyIGltYWdlLXJlc2l6ZXItZVwiXG4gICAgICAgIG9uUG9pbnRlckRvd249eyhldmVudCkgPT4ge1xuICAgICAgICAgIGhhbmRsZVBvaW50ZXJEb3duKGV2ZW50LCBEaXJlY3Rpb24uZWFzdCk7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJpbWFnZS1yZXNpemVyIGltYWdlLXJlc2l6ZXItc2VcIlxuICAgICAgICBvblBvaW50ZXJEb3duPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICBoYW5kbGVQb2ludGVyRG93bihldmVudCwgRGlyZWN0aW9uLnNvdXRoIHwgRGlyZWN0aW9uLmVhc3QpO1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPVwiaW1hZ2UtcmVzaXplciBpbWFnZS1yZXNpemVyLXNcIlxuICAgICAgICBvblBvaW50ZXJEb3duPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICBoYW5kbGVQb2ludGVyRG93bihldmVudCwgRGlyZWN0aW9uLnNvdXRoKTtcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzTmFtZT1cImltYWdlLXJlc2l6ZXIgaW1hZ2UtcmVzaXplci1zd1wiXG4gICAgICAgIG9uUG9pbnRlckRvd249eyhldmVudCkgPT4ge1xuICAgICAgICAgIGhhbmRsZVBvaW50ZXJEb3duKGV2ZW50LCBEaXJlY3Rpb24uc291dGggfCBEaXJlY3Rpb24ud2VzdCk7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJpbWFnZS1yZXNpemVyIGltYWdlLXJlc2l6ZXItd1wiXG4gICAgICAgIG9uUG9pbnRlckRvd249eyhldmVudCkgPT4ge1xuICAgICAgICAgIGhhbmRsZVBvaW50ZXJEb3duKGV2ZW50LCBEaXJlY3Rpb24ud2VzdCk7XG4gICAgICAgIH19XG4gICAgICAvPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzc05hbWU9XCJpbWFnZS1yZXNpemVyIGltYWdlLXJlc2l6ZXItbndcIlxuICAgICAgICBvblBvaW50ZXJEb3duPXsoZXZlbnQpID0+IHtcbiAgICAgICAgICBoYW5kbGVQb2ludGVyRG93bihldmVudCwgRGlyZWN0aW9uLm5vcnRoIHwgRGlyZWN0aW9uLndlc3QpO1xuICAgICAgICB9fVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVJlZiIsImNsYW1wIiwidmFsdWUiLCJtaW4iLCJtYXgiLCJNYXRoIiwiRGlyZWN0aW9uIiwiZWFzdCIsIm5vcnRoIiwic291dGgiLCJ3ZXN0IiwiSW1hZ2VSZXNpemVyIiwib25SZXNpemVTdGFydCIsIm9uUmVzaXplRW5kIiwiYnV0dG9uUmVmIiwiaW1hZ2VSZWYiLCJtYXhXaWR0aCIsImVkaXRvciIsInNob3dDYXB0aW9uIiwic2V0U2hvd0NhcHRpb24iLCJjYXB0aW9uc0VuYWJsZWQiLCJjb250cm9sV3JhcHBlclJlZiIsInVzZXJTZWxlY3QiLCJwcmlvcml0eSIsInBvc2l0aW9uaW5nUmVmIiwiY3VycmVudEhlaWdodCIsImN1cnJlbnRXaWR0aCIsImRpcmVjdGlvbiIsImlzUmVzaXppbmciLCJyYXRpbyIsInN0YXJ0SGVpZ2h0Iiwic3RhcnRXaWR0aCIsInN0YXJ0WCIsInN0YXJ0WSIsImVkaXRvclJvb3RFbGVtZW50IiwiZ2V0Um9vdEVsZW1lbnQiLCJtYXhXaWR0aENvbnRhaW5lciIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwibWF4SGVpZ2h0Q29udGFpbmVyIiwiaGVpZ2h0IiwibWluV2lkdGgiLCJtaW5IZWlnaHQiLCJzZXRTdGFydEN1cnNvciIsImV3IiwibnMiLCJud3NlIiwiY3Vyc29yRGlyIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsImRvY3VtZW50IiwiYm9keSIsImN1cnJlbnQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwiZ2V0UHJvcGVydHlQcmlvcml0eSIsInNldEVuZEN1cnNvciIsImhhbmRsZVBvaW50ZXJEb3duIiwiZXZlbnQiLCJpc0VkaXRhYmxlIiwiaW1hZ2UiLCJjb250cm9sV3JhcHBlciIsInBvc2l0aW9uaW5nIiwiY2xpZW50WCIsImNsaWVudFkiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlUG9pbnRlck1vdmUiLCJoYW5kbGVQb2ludGVyVXAiLCJpc0hvcml6b250YWwiLCJpc1ZlcnRpY2FsIiwiZGlmZiIsImZsb29yIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpdiIsInJlZiIsImJ1dHRvbiIsImNsYXNzTmFtZSIsIm9uQ2xpY2siLCJvblBvaW50ZXJEb3duIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Lexical/ui/ImageResizer.tsx\n");

/***/ }),

/***/ "(ssr)/./src/components/Lexical/nodes/ImageNode.css":
/*!****************************************************!*\
  !*** ./src/components/Lexical/nodes/ImageNode.css ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"b2f77aeb9876\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9zcmMvY29tcG9uZW50cy9MZXhpY2FsL25vZGVzL0ltYWdlTm9kZS5jc3MiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLGNBQWM7QUFDN0IsSUFBSSxLQUFVLEVBQUUsRUFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jbXNfY3JlYXRvci8uL3NyYy9jb21wb25lbnRzL0xleGljYWwvbm9kZXMvSW1hZ2VOb2RlLmNzcz85NWNjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiYjJmNzdhZWI5ODc2XCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./src/components/Lexical/nodes/ImageNode.css\n");

/***/ })

};
;